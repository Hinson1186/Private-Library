(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function lc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _u={exports:{}},rl={};var Cm;function Zy(){if(Cm)return rl;Cm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(s,r,c){var d=null;if(c!==void 0&&(d=""+c),r.key!==void 0&&(d=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:s,key:d,ref:r!==void 0?r:null,props:c}}return rl.Fragment=t,rl.jsx=o,rl.jsxs=o,rl}var Em;function Wy(){return Em||(Em=1,_u.exports=Zy()),_u.exports}var C=Wy(),Tu={exports:{}},he={};var Am;function jy(){if(Am)return he;Am=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=_&&I[_]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function R(I,q,W){this.props=I,this.context=q,this.refs=w,this.updater=W||b}R.prototype.isReactComponent={},R.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function H(){}H.prototype=R.prototype;function L(I,q,W){this.props=I,this.context=q,this.refs=w,this.updater=W||b}var z=L.prototype=new H;z.constructor=L,x(z,R.prototype),z.isPureReactComponent=!0;var J=Array.isArray;function U(){}var F={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function Q(I,q,W){var ee=W.ref;return{$$typeof:i,type:I,key:q,ref:ee!==void 0?ee:null,props:W}}function te(I,q){return Q(I.type,q,I.props)}function re(I){return typeof I=="object"&&I!==null&&I.$$typeof===i}function me(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return q[W]})}var _e=/\/+/g;function ge(I,q){return typeof I=="object"&&I!==null&&I.key!=null?me(""+I.key):q.toString(36)}function Me(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(U,U):(I.status="pending",I.then(function(q){I.status==="pending"&&(I.status="fulfilled",I.value=q)},function(q){I.status==="pending"&&(I.status="rejected",I.reason=q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function P(I,q,W,ee,le){var ue=typeof I;(ue==="undefined"||ue==="boolean")&&(I=null);var Ae=!1;if(I===null)Ae=!0;else switch(ue){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(I.$$typeof){case i:case t:Ae=!0;break;case y:return Ae=I._init,P(Ae(I._payload),q,W,ee,le)}}if(Ae)return le=le(I),Ae=ee===""?"."+ge(I,0):ee,J(le)?(W="",Ae!=null&&(W=Ae.replace(_e,"$&/")+"/"),P(le,q,W,"",function(ho){return ho})):le!=null&&(re(le)&&(le=te(le,W+(le.key==null||I&&I.key===le.key?"":(""+le.key).replace(_e,"$&/")+"/")+Ae)),q.push(le)),1;Ae=0;var at=ee===""?".":ee+":";if(J(I))for(var Oe=0;Oe<I.length;Oe++)ee=I[Oe],ue=at+ge(ee,Oe),Ae+=P(ee,q,W,ue,le);else if(Oe=A(I),typeof Oe=="function")for(I=Oe.call(I),Oe=0;!(ee=I.next()).done;)ee=ee.value,ue=at+ge(ee,Oe++),Ae+=P(ee,q,W,ue,le);else if(ue==="object"){if(typeof I.then=="function")return P(Me(I),q,W,ee,le);throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(I,q,W){if(I==null)return I;var ee=[],le=0;return P(I,ee,"","",function(ue){return q.call(W,ue,le++)}),ee}function $(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var Z=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ne={map:Y,forEach:function(I,q,W){Y(I,function(){q.apply(this,arguments)},W)},count:function(I){var q=0;return Y(I,function(){q++}),q},toArray:function(I){return Y(I,function(q){return q})||[]},only:function(I){if(!re(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return he.Activity=S,he.Children=ne,he.Component=R,he.Fragment=o,he.Profiler=r,he.PureComponent=L,he.StrictMode=s,he.Suspense=v,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,he.__COMPILER_RUNTIME={__proto__:null,c:function(I){return F.H.useMemoCache(I)}},he.cache=function(I){return function(){return I.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(I,q,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ee=x({},I.props),le=I.key;if(q!=null)for(ue in q.key!==void 0&&(le=""+q.key),q)!j.call(q,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&q.ref===void 0||(ee[ue]=q[ue]);var ue=arguments.length-2;if(ue===1)ee.children=W;else if(1<ue){for(var Ae=Array(ue),at=0;at<ue;at++)Ae[at]=arguments[at+2];ee.children=Ae}return Q(I.type,le,ee)},he.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},he.createElement=function(I,q,W){var ee,le={},ue=null;if(q!=null)for(ee in q.key!==void 0&&(ue=""+q.key),q)j.call(q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(le[ee]=q[ee]);var Ae=arguments.length-2;if(Ae===1)le.children=W;else if(1<Ae){for(var at=Array(Ae),Oe=0;Oe<Ae;Oe++)at[Oe]=arguments[Oe+2];le.children=at}if(I&&I.defaultProps)for(ee in Ae=I.defaultProps,Ae)le[ee]===void 0&&(le[ee]=Ae[ee]);return Q(I,ue,le)},he.createRef=function(){return{current:null}},he.forwardRef=function(I){return{$$typeof:g,render:I}},he.isValidElement=re,he.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:$}},he.memo=function(I,q){return{$$typeof:m,type:I,compare:q===void 0?null:q}},he.startTransition=function(I){var q=F.T,W={};F.T=W;try{var ee=I(),le=F.S;le!==null&&le(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(U,Z)}catch(ue){Z(ue)}finally{q!==null&&W.types!==null&&(q.types=W.types),F.T=q}},he.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},he.use=function(I){return F.H.use(I)},he.useActionState=function(I,q,W){return F.H.useActionState(I,q,W)},he.useCallback=function(I,q){return F.H.useCallback(I,q)},he.useContext=function(I){return F.H.useContext(I)},he.useDebugValue=function(){},he.useDeferredValue=function(I,q){return F.H.useDeferredValue(I,q)},he.useEffect=function(I,q){return F.H.useEffect(I,q)},he.useEffectEvent=function(I){return F.H.useEffectEvent(I)},he.useId=function(){return F.H.useId()},he.useImperativeHandle=function(I,q,W){return F.H.useImperativeHandle(I,q,W)},he.useInsertionEffect=function(I,q){return F.H.useInsertionEffect(I,q)},he.useLayoutEffect=function(I,q){return F.H.useLayoutEffect(I,q)},he.useMemo=function(I,q){return F.H.useMemo(I,q)},he.useOptimistic=function(I,q){return F.H.useOptimistic(I,q)},he.useReducer=function(I,q,W){return F.H.useReducer(I,q,W)},he.useRef=function(I){return F.H.useRef(I)},he.useState=function(I){return F.H.useState(I)},he.useSyncExternalStore=function(I,q,W){return F.H.useSyncExternalStore(I,q,W)},he.useTransition=function(){return F.H.useTransition()},he.version="19.2.4",he}var xm;function sc(){return xm||(xm=1,Tu.exports=jy()),Tu.exports}var ae=sc();const e1=lc(ae);var Su={exports:{}},ul={},Cu={exports:{}},Eu={};var wm;function t1(){return wm||(wm=1,(function(i){function t(P,Y){var $=P.length;P.push(Y);e:for(;0<$;){var Z=$-1>>>1,ne=P[Z];if(0<r(ne,Y))P[Z]=Y,P[$]=ne,$=Z;else break e}}function o(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var Y=P[0],$=P.pop();if($!==Y){P[0]=$;e:for(var Z=0,ne=P.length,I=ne>>>1;Z<I;){var q=2*(Z+1)-1,W=P[q],ee=q+1,le=P[ee];if(0>r(W,$))ee<ne&&0>r(le,W)?(P[Z]=le,P[ee]=$,Z=ee):(P[Z]=W,P[q]=$,Z=q);else if(ee<ne&&0>r(le,$))P[Z]=le,P[ee]=$,Z=ee;else break e}}return Y}function r(P,Y){var $=P.sortIndex-Y.sortIndex;return $!==0?$:P.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var v=[],m=[],y=1,S=null,_=3,A=!1,b=!1,x=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function z(P){for(var Y=o(m);Y!==null;){if(Y.callback===null)s(m);else if(Y.startTime<=P)s(m),Y.sortIndex=Y.expirationTime,t(v,Y);else break;Y=o(m)}}function J(P){if(x=!1,z(P),!b)if(o(v)!==null)b=!0,U||(U=!0,me());else{var Y=o(m);Y!==null&&Me(J,Y.startTime-P)}}var U=!1,F=-1,j=5,Q=-1;function te(){return w?!0:!(i.unstable_now()-Q<j)}function re(){if(w=!1,U){var P=i.unstable_now();Q=P;var Y=!0;try{e:{b=!1,x&&(x=!1,H(F),F=-1),A=!0;var $=_;try{t:{for(z(P),S=o(v);S!==null&&!(S.expirationTime>P&&te());){var Z=S.callback;if(typeof Z=="function"){S.callback=null,_=S.priorityLevel;var ne=Z(S.expirationTime<=P);if(P=i.unstable_now(),typeof ne=="function"){S.callback=ne,z(P),Y=!0;break t}S===o(v)&&s(v),z(P)}else s(v);S=o(v)}if(S!==null)Y=!0;else{var I=o(m);I!==null&&Me(J,I.startTime-P),Y=!1}}break e}finally{S=null,_=$,A=!1}Y=void 0}}finally{Y?me():U=!1}}}var me;if(typeof L=="function")me=function(){L(re)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ge=_e.port2;_e.port1.onmessage=re,me=function(){ge.postMessage(null)}}else me=function(){R(re,0)};function Me(P,Y){F=R(function(){P(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(P){P.callback=null},i.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(P){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var $=_;_=Y;try{return P()}finally{_=$}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(P,Y){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=_;_=P;try{return Y()}finally{_=$}},i.unstable_scheduleCallback=function(P,Y,$){var Z=i.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Z+$:Z):$=Z,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,P={id:y++,callback:Y,priorityLevel:P,startTime:$,expirationTime:ne,sortIndex:-1},$>Z?(P.sortIndex=$,t(m,P),o(v)===null&&P===o(m)&&(x?(H(F),F=-1):x=!0,Me(J,$-Z))):(P.sortIndex=ne,t(v,P),b||A||(b=!0,U||(U=!0,me()))),P},i.unstable_shouldYield=te,i.unstable_wrapCallback=function(P){var Y=_;return function(){var $=_;_=Y;try{return P.apply(this,arguments)}finally{_=$}}}})(Eu)),Eu}var bm;function n1(){return bm||(bm=1,Cu.exports=t1()),Cu.exports}var Au={exports:{}},st={};var Nm;function i1(){if(Nm)return st;Nm=1;var i=sc();function t(v){var m="https://react.dev/errors/"+v;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(v,m,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:v,containerInfo:m,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,m){if(v==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,st.createPortal=function(v,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(v,m,null,y)},st.flushSync=function(v){var m=d.T,y=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=m,s.p=y,s.d.f()}},st.preconnect=function(v,m){typeof v=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(v,m))},st.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},st.preinit=function(v,m){if(typeof v=="string"&&m&&typeof m.as=="string"){var y=m.as,S=g(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(v,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:A}):y==="script"&&s.d.X(v,{crossOrigin:S,integrity:_,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},st.preinitModule=function(v,m){if(typeof v=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=g(m.as,m.crossOrigin);s.d.M(v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(v)},st.preload=function(v,m){if(typeof v=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,S=g(y,m.crossOrigin);s.d.L(v,y,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},st.preloadModule=function(v,m){if(typeof v=="string")if(m){var y=g(m.as,m.crossOrigin);s.d.m(v,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(v)},st.requestFormReset=function(v){s.d.r(v)},st.unstable_batchedUpdates=function(v,m){return v(m)},st.useFormState=function(v,m,y){return d.H.useFormState(v,m,y)},st.useFormStatus=function(){return d.H.useHostTransitionStatus()},st.version="19.2.4",st}var Im;function o1(){if(Im)return Au.exports;Im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Au.exports=i1(),Au.exports}var Rm;function l1(){if(Rm)return ul;Rm=1;var i=n1(),t=sc(),o=o1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,a=n;;){var p=l.return;if(p===null)break;var h=p.alternate;if(h===null){if(a=p.return,a!==null){l=a;continue}break}if(p.child===h.child){for(h=p.child;h;){if(h===l)return v(p),e;if(h===a)return v(p),n;h=h.sibling}throw Error(s(188))}if(l.return!==a.return)l=p,a=h;else{for(var T=!1,E=p.child;E;){if(E===l){T=!0,l=p,a=h;break}if(E===a){T=!0,a=p,l=h;break}E=E.sibling}if(!T){for(E=h.child;E;){if(E===l){T=!0,l=h,a=p;break}if(E===a){T=!0,a=h,l=p;break}E=E.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case R:return"Profiler";case w:return"StrictMode";case J:return"Suspense";case U:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case L:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case j:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}var Me=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Z=[],ne=-1;function I(e){return{current:e}}function q(e){0>ne||(e.current=Z[ne],Z[ne]=null,ne--)}function W(e,n){ne++,Z[ne]=e.current,e.current=n}var ee=I(null),le=I(null),ue=I(null),Ae=I(null);function at(e,n){switch(W(ue,n),W(le,e),W(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Fp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Fp(n),e=Yp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(ee),W(ee,e)}function Oe(){q(ee),q(le),q(ue)}function ho(e){e.memoizedState!==null&&W(Ae,e);var n=ee.current,l=Yp(n,e.type);n!==l&&(W(le,e),W(ee,l))}function gl(e){le.current===e&&(q(ee),q(le)),Ae.current===e&&(q(Ae),ol._currentValue=$)}var ta,Tc;function $n(e){if(ta===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",Tc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+e+Tc}var na=!1;function ia(e,n){if(!e||na)return"";na=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(V){var B=V}Reflect.construct(e,[],X)}else{try{X.call()}catch(V){B=V}e.call(X.prototype)}}else{try{throw Error()}catch(V){B=V}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(V){if(V&&B&&typeof V.stack=="string")return[V.stack,B.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),T=h[0],E=h[1];if(T&&E){var N=T.split(`
`),k=E.split(`
`);for(p=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;p<k.length&&!k[p].includes("DetermineComponentFrameRoot");)p++;if(a===N.length||p===k.length)for(a=N.length-1,p=k.length-1;1<=a&&0<=p&&N[a]!==k[p];)p--;for(;1<=a&&0<=p;a--,p--)if(N[a]!==k[p]){if(a!==1||p!==1)do if(a--,p--,0>p||N[a]!==k[p]){var O=`
`+N[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=p);break}}}finally{na=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?$n(l):""}function Ng(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ia(e.type,!1);case 11:return ia(e.type.render,!1);case 1:return ia(e.type,!0);case 31:return $n("Activity");default:return""}}function Sc(e){try{var n="",l=null;do n+=Ng(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var oa=Object.prototype.hasOwnProperty,la=i.unstable_scheduleCallback,sa=i.unstable_cancelCallback,Ig=i.unstable_shouldYield,Rg=i.unstable_requestPaint,_t=i.unstable_now,Mg=i.unstable_getCurrentPriorityLevel,Cc=i.unstable_ImmediatePriority,Ec=i.unstable_UserBlockingPriority,vl=i.unstable_NormalPriority,Dg=i.unstable_LowPriority,Ac=i.unstable_IdlePriority,Ug=i.log,Lg=i.unstable_setDisableYieldValue,go=null,Tt=null;function En(e){if(typeof Ug=="function"&&Lg(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(go,e)}catch{}}var St=Math.clz32?Math.clz32:kg,zg=Math.log,Gg=Math.LN2;function kg(e){return e>>>=0,e===0?32:31-(zg(e)/Gg|0)|0}var yl=256,_l=262144,Tl=4194304;function Zn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sl(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var p=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~h,a!==0?p=Zn(a):(T&=E,T!==0?p=Zn(T):l||(l=E&~e,l!==0&&(p=Zn(l))))):(E=a&~h,E!==0?p=Zn(E):T!==0?p=Zn(T):l||(l=a&~e,l!==0&&(p=Zn(l)))),p===0?0:n!==0&&n!==p&&(n&h)===0&&(h=p&-p,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:p}function vo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var e=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),e}function aa(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function yo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bg(e,n,l,a,p,h){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,k=e.hiddenUpdates;for(l=T&~l;0<l;){var O=31-St(l),X=1<<O;E[O]=0,N[O]=-1;var B=k[O];if(B!==null)for(k[O]=null,O=0;O<B.length;O++){var V=B[O];V!==null&&(V.lane&=-536870913)}l&=~X}a!==0&&wc(e,a,0),h!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~n))}function wc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-St(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function bc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-St(l),p=1<<a;p&n|e[a]&n&&(e[a]|=n),l&=~p}}function Nc(e,n){var l=n&-n;return l=(l&42)!==0?1:ra(l),(l&(e.suspendedLanes|n))!==0?0:l}function ra(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ua(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ic(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:hm(e.type))}function Rc(e,n){var l=Y.p;try{return Y.p=e,n()}finally{Y.p=l}}var An=Math.random().toString(36).slice(2),tt="__reactFiber$"+An,ft="__reactProps$"+An,_i="__reactContainer$"+An,ca="__reactEvents$"+An,qg="__reactListeners$"+An,Vg="__reactHandles$"+An,Mc="__reactResources$"+An,_o="__reactMarker$"+An;function fa(e){delete e[tt],delete e[ft],delete e[ca],delete e[qg],delete e[Vg]}function Ti(e){var n=e[tt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[_i]||l[tt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=jp(e);e!==null;){if(l=e[tt])return l;e=jp(e)}return n}e=l,l=e.parentNode}return null}function Si(e){if(e=e[tt]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function To(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ci(e){var n=e[Mc];return n||(n=e[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[_o]=!0}var Dc=new Set,Uc={};function Wn(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(Uc[e]=n,e=0;e<n.length;e++)Dc.add(n[e])}var Pg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lc={},zc={};function Og(e){return oa.call(zc,e)?!0:oa.call(Lc,e)?!1:Pg.test(e)?zc[e]=!0:(Lc[e]=!0,!1)}function Cl(e,n,l){if(Og(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function El(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function en(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jg(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,h=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,h.call(this,T)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function da(e){if(!e._valueTracker){var n=Gc(e)?"checked":"value";e._valueTracker=Jg(e,n,""+e[n])}}function kc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=Gc(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fg=/[\n"\\]/g;function Mt(e){return e.replace(Fg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(e,n,l,a,p,h,T,E){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Rt(n)):e.value!==""+Rt(n)&&(e.value=""+Rt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?ma(e,T,Rt(n)):l!=null?ma(e,T,Rt(l)):a!=null&&e.removeAttribute("value"),p==null&&h!=null&&(e.defaultChecked=!!h),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Rt(E):e.removeAttribute("name")}function Hc(e,n,l,a,p,h,T,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){da(e);return}l=l!=null?""+Rt(l):"",n=n!=null?""+Rt(n):l,E||n===e.value||(e.value=n),e.defaultValue=n}a=a??p,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),da(e)}function ma(e,n,l){n==="number"&&Al(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ai(e,n,l,a){if(e=e.options,n){n={};for(var p=0;p<l.length;p++)n["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=n.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Rt(l),n=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,a&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Bc(e,n,l){if(n!=null&&(n=""+Rt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Rt(l):""}function qc(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(s(92));if(Me(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=Rt(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),da(e)}function xi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Yg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||Yg.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Pc(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var p in n)a=n[p],n.hasOwnProperty(p)&&l[p]!==a&&Vc(e,p,a)}else for(var h in n)n.hasOwnProperty(h)&&Vc(e,h,n[h])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xl(e){return Xg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function tn(){}var ga=null;function va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,bi=null;function Oc(e){var n=Si(e);if(n&&(e=n.stateNode)){var l=e[ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(pa(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var p=a[ft]||null;if(!p)throw Error(s(90));pa(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&kc(a)}break e;case"textarea":Bc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ai(e,!!l.multiple,n,!1)}}}var ya=!1;function Jc(e,n,l){if(ya)return e(n,l);ya=!0;try{var a=e(n);return a}finally{if(ya=!1,(wi!==null||bi!==null)&&(ds(),wi&&(n=wi,e=bi,bi=wi=null,Oc(n),e)))for(n=0;n<e.length;n++)Oc(e[n])}}function So(e,n){var l=e.stateNode;if(l===null)return null;var a=l[ft]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(nn)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{_a=!1}var xn=null,Ta=null,wl=null;function Fc(){if(wl)return wl;var e,n=Ta,l=n.length,a,p="value"in xn?xn.value:xn.textContent,h=p.length;for(e=0;e<l&&n[e]===p[e];e++);var T=l-e;for(a=1;a<=T&&n[l-a]===p[h-a];a++);return wl=p.slice(e,1<a?1-a:void 0)}function bl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Nl(){return!0}function Yc(){return!1}function dt(e){function n(l,a,p,h,T){this._reactName=l,this._targetInst=p,this.type=a,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Nl:Yc,this.isPropagationStopped=Yc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=dt(jn),Eo=S({},jn,{view:0,detail:0}),Qg=dt(Eo),Sa,Ca,Ao,Rl=S({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(Sa=e.screenX-Ao.screenX,Ca=e.screenY-Ao.screenY):Ca=Sa=0,Ao=e),Sa)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Kc=dt(Rl),$g=S({},Rl,{dataTransfer:0}),Zg=dt($g),Wg=S({},Eo,{relatedTarget:0}),Ea=dt(Wg),jg=S({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),ev=dt(jg),tv=S({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nv=dt(tv),iv=S({},jn,{data:0}),Xc=dt(iv),ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function av(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=sv[e])?!!n[e]:!1}function Aa(){return av}var rv=S({},Eo,{key:function(e){if(e.key){var n=ov[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uv=dt(rv),cv=S({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=dt(cv),fv=S({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),dv=dt(fv),pv=S({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mv=dt(pv),hv=S({},Rl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gv=dt(hv),vv=S({},jn,{newState:0,oldState:0}),yv=dt(vv),_v=[9,13,27,32],xa=nn&&"CompositionEvent"in window,xo=null;nn&&"documentMode"in document&&(xo=document.documentMode);var Tv=nn&&"TextEvent"in window&&!xo,$c=nn&&(!xa||xo&&8<xo&&11>=xo),Zc=" ",Wc=!1;function jc(e,n){switch(e){case"keyup":return _v.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function Sv(e,n){switch(e){case"compositionend":return ef(n);case"keypress":return n.which!==32?null:(Wc=!0,Zc);case"textInput":return e=n.data,e===Zc&&Wc?null:e;default:return null}}function Cv(e,n){if(Ni)return e==="compositionend"||!xa&&jc(e,n)?(e=Fc(),wl=Ta=xn=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $c&&n.locale!=="ko"?null:n.data;default:return null}}var Ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ev[e.type]:n==="textarea"}function nf(e,n,l,a){wi?bi?bi.push(a):bi=[a]:wi=a,n=_s(n,"onChange"),0<n.length&&(l=new Il("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var wo=null,bo=null;function Av(e){Bp(e,0)}function Ml(e){var n=To(e);if(kc(n))return e}function of(e,n){if(e==="change")return n}var lf=!1;if(nn){var wa;if(nn){var ba="oninput"in document;if(!ba){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),ba=typeof sf.oninput=="function"}wa=ba}else wa=!1;lf=wa&&(!document.documentMode||9<document.documentMode)}function af(){wo&&(wo.detachEvent("onpropertychange",rf),bo=wo=null)}function rf(e){if(e.propertyName==="value"&&Ml(bo)){var n=[];nf(n,bo,e,va(e)),Jc(Av,n)}}function xv(e,n,l){e==="focusin"?(af(),wo=n,bo=l,wo.attachEvent("onpropertychange",rf)):e==="focusout"&&af()}function wv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(bo)}function bv(e,n){if(e==="click")return Ml(n)}function Nv(e,n){if(e==="input"||e==="change")return Ml(n)}function Iv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ct=typeof Object.is=="function"?Object.is:Iv;function No(e,n){if(Ct(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var p=l[a];if(!oa.call(n,p)||!Ct(e[p],n[p]))return!1}return!0}function uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,n){var l=uf(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=uf(l)}}function ff(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ff(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function df(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Al(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Al(e.document)}return n}function Na(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Rv=nn&&"documentMode"in document&&11>=document.documentMode,Ii=null,Ia=null,Io=null,Ra=!1;function pf(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ra||Ii==null||Ii!==Al(a)||(a=Ii,"selectionStart"in a&&Na(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Io&&No(Io,a)||(Io=a,a=_s(Ia,"onSelect"),0<a.length&&(n=new Il("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=Ii)))}function ei(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ri={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},Ma={},mf={};nn&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ti(e){if(Ma[e])return Ma[e];if(!Ri[e])return e;var n=Ri[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in mf)return Ma[e]=n[l];return e}var hf=ti("animationend"),gf=ti("animationiteration"),vf=ti("animationstart"),Mv=ti("transitionrun"),Dv=ti("transitionstart"),Uv=ti("transitioncancel"),yf=ti("transitionend"),_f=new Map,Da="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Da.push("scrollEnd");function Ot(e,n){_f.set(e,n),Wn(n,[e])}var Dl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],Mi=0,Ua=0;function Ul(){for(var e=Mi,n=Ua=Mi=0;n<e;){var l=Dt[n];Dt[n++]=null;var a=Dt[n];Dt[n++]=null;var p=Dt[n];Dt[n++]=null;var h=Dt[n];if(Dt[n++]=null,a!==null&&p!==null){var T=a.pending;T===null?p.next=p:(p.next=T.next,T.next=p),a.pending=p}h!==0&&Tf(l,p,h)}}function Ll(e,n,l,a){Dt[Mi++]=e,Dt[Mi++]=n,Dt[Mi++]=l,Dt[Mi++]=a,Ua|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function La(e,n,l,a){return Ll(e,n,l,a),zl(e)}function ni(e,n){return Ll(e,null,null,n),zl(e)}function Tf(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var p=!1,h=e.return;h!==null;)h.childLanes|=l,a=h.alternate,a!==null&&(a.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(p=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,p&&n!==null&&(p=31-St(l),e=h.hiddenUpdates,a=e[p],a===null?e[p]=[n]:a.push(n),n.lane=l|536870912),h):null}function zl(e){if(50<Zo)throw Zo=0,Or=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Di={};function Lv(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,l,a){return new Lv(e,n,l,a)}function za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,n){var l=e.alternate;return l===null?(l=Et(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Sf(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Gl(e,n,l,a,p,h){var T=0;if(a=e,typeof e=="function")za(e)&&(T=1);else if(typeof e=="string")T=By(e,l,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=Et(31,l,n,p),e.elementType=Q,e.lanes=h,e;case x:return ii(l.children,p,h,n);case w:T=8,p|=24;break;case R:return e=Et(12,l,n,p|2),e.elementType=R,e.lanes=h,e;case J:return e=Et(13,l,n,p),e.elementType=J,e.lanes=h,e;case U:return e=Et(19,l,n,p),e.elementType=U,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:T=10;break e;case H:T=9;break e;case z:T=11;break e;case F:T=14;break e;case j:T=16,a=null;break e}T=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=Et(T,l,n,p),n.elementType=e,n.type=a,n.lanes=h,n}function ii(e,n,l,a){return e=Et(7,e,a,n),e.lanes=l,e}function Ga(e,n,l){return e=Et(6,e,null,n),e.lanes=l,e}function Cf(e){var n=Et(18,null,null,0);return n.stateNode=e,n}function ka(e,n,l){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ef=new WeakMap;function Ut(e,n){if(typeof e=="object"&&e!==null){var l=Ef.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Sc(n)},Ef.set(e,n),n)}return{value:e,source:n,stack:Sc(n)}}var Ui=[],Li=0,kl=null,Ro=0,Lt=[],zt=0,wn=null,$t=1,Zt="";function ln(e,n){Ui[Li++]=Ro,Ui[Li++]=kl,kl=e,Ro=n}function Af(e,n,l){Lt[zt++]=$t,Lt[zt++]=Zt,Lt[zt++]=wn,wn=e;var a=$t;e=Zt;var p=32-St(a)-1;a&=~(1<<p),l+=1;var h=32-St(n)+p;if(30<h){var T=p-p%5;h=(a&(1<<T)-1).toString(32),a>>=T,p-=T,$t=1<<32-St(n)+p|l<<p|a,Zt=h+e}else $t=1<<h|l<<p|a,Zt=e}function Ha(e){e.return!==null&&(ln(e,1),Af(e,1,0))}function Ba(e){for(;e===kl;)kl=Ui[--Li],Ui[Li]=null,Ro=Ui[--Li],Ui[Li]=null;for(;e===wn;)wn=Lt[--zt],Lt[zt]=null,Zt=Lt[--zt],Lt[zt]=null,$t=Lt[--zt],Lt[zt]=null}function xf(e,n){Lt[zt++]=$t,Lt[zt++]=Zt,Lt[zt++]=wn,$t=n.id,Zt=n.overflow,wn=e}var nt=null,He=null,xe=!1,bn=null,Gt=!1,qa=Error(s(519));function Nn(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Ut(n,e)),qa}function wf(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[tt]=e,n[ft]=a,l){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(l=0;l<jo.length;l++)Se(jo[l],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),Hc(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),qc(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||Op(n.textContent,l)?(a.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),a.onScroll!=null&&Se("scroll",n),a.onScrollEnd!=null&&Se("scrollend",n),a.onClick!=null&&(n.onclick=tn),n=!0):n=!1,n||Nn(e,!0)}function bf(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:nt=nt.return}}function zi(e){if(e!==nt)return!1;if(!xe)return bf(e),xe=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||ou(e.type,e.memoizedProps)),l=!l),l&&He&&Nn(e),bf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=Wp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));He=Wp(e)}else n===27?(n=He,Pn(e.type)?(e=uu,uu=null,He=e):He=n):He=nt?Ht(e.stateNode.nextSibling):null;return!0}function oi(){He=nt=null,xe=!1}function Va(){var e=bn;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),bn=null),e}function Mo(e){bn===null?bn=[e]:bn.push(e)}var Pa=I(null),li=null,sn=null;function In(e,n,l){W(Pa,n._currentValue),n._currentValue=l}function an(e){e._currentValue=Pa.current,q(Pa)}function Oa(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function Ja(e,n,l,a){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var h=p.dependencies;if(h!==null){var T=p.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=p;for(var N=0;N<n.length;N++)if(E.context===n[N]){h.lanes|=l,E=h.alternate,E!==null&&(E.lanes|=l),Oa(h.return,l,e),a||(T=null);break e}h=E.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(s(341));T.lanes|=l,h=T.alternate,h!==null&&(h.lanes|=l),Oa(T,l,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Gi(e,n,l,a){e=null;for(var p=n,h=!1;p!==null;){if(!h){if((p.flags&524288)!==0)h=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var E=p.type;Ct(p.pendingProps.value,T.value)||(e!==null?e.push(E):e=[E])}}else if(p===Ae.current){if(T=p.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}p=p.return}e!==null&&Ja(n,e,l,a),n.flags|=262144}function Hl(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function si(e){li=e,sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Nf(li,e)}function Bl(e,n){return li===null&&si(e),Nf(e,n)}function Nf(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},sn===null){if(e===null)throw Error(s(308));sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else sn=sn.next=n;return l}var zv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Gv=i.unstable_scheduleCallback,kv=i.unstable_NormalPriority,Ye={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new zv,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&Gv(kv,function(){e.controller.abort()})}var Uo=null,Ya=0,ki=0,Hi=null;function Hv(e,n){if(Uo===null){var l=Uo=[];Ya=0,ki=Qr(),Hi={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Ya++,n.then(If,If),n}function If(){if(--Ya===0&&Uo!==null){Hi!==null&&(Hi.status="fulfilled");var e=Uo;Uo=null,ki=0,Hi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Bv(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var p=0;p<l.length;p++)(0,l[p])(n)},function(p){for(a.status="rejected",a.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),a}var Rf=P.S;P.S=function(e,n){pp=_t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Hv(e,n),Rf!==null&&Rf(e,n)};var ai=I(null);function Ka(){var e=ai.current;return e!==null?e:ke.pooledCache}function ql(e,n){n===null?W(ai,ai.current):W(ai,n.pool)}function Mf(){var e=Ka();return e===null?null:{parent:Ye._currentValue,pool:e}}var Bi=Error(s(460)),Xa=Error(s(474)),Vl=Error(s(542)),Pl={then:function(){}};function Df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(tn,tn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zf(e),e;default:if(typeof n.status=="string")n.then(tn,tn);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=a}},function(a){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zf(e),e}throw ui=n,Bi}}function ri(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ui=l,Bi):l}}var ui=null;function Lf(){if(ui===null)throw Error(s(459));var e=ui;return ui=null,e}function zf(e){if(e===Bi||e===Vl)throw Error(s(483))}var qi=null,Lo=0;function Ol(e){var n=Lo;return Lo+=1,qi===null&&(qi=[]),Uf(qi,e,n)}function zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Jl(e,n){throw n.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gf(e){function n(D,M){if(e){var G=D.deletions;G===null?(D.deletions=[M],D.flags|=16):G.push(M)}}function l(D,M){if(!e)return null;for(;M!==null;)n(D,M),M=M.sibling;return null}function a(D){for(var M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function p(D,M){return D=on(D,M),D.index=0,D.sibling=null,D}function h(D,M,G){return D.index=G,e?(G=D.alternate,G!==null?(G=G.index,G<M?(D.flags|=67108866,M):G):(D.flags|=67108866,M)):(D.flags|=1048576,M)}function T(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function E(D,M,G,K){return M===null||M.tag!==6?(M=Ga(G,D.mode,K),M.return=D,M):(M=p(M,G),M.return=D,M)}function N(D,M,G,K){var ce=G.type;return ce===x?O(D,M,G.props.children,K,G.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===j&&ri(ce)===M.type)?(M=p(M,G.props),zo(M,G),M.return=D,M):(M=Gl(G.type,G.key,G.props,null,D.mode,K),zo(M,G),M.return=D,M)}function k(D,M,G,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==G.containerInfo||M.stateNode.implementation!==G.implementation?(M=ka(G,D.mode,K),M.return=D,M):(M=p(M,G.children||[]),M.return=D,M)}function O(D,M,G,K,ce){return M===null||M.tag!==7?(M=ii(G,D.mode,K,ce),M.return=D,M):(M=p(M,G),M.return=D,M)}function X(D,M,G){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ga(""+M,D.mode,G),M.return=D,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return G=Gl(M.type,M.key,M.props,null,D.mode,G),zo(G,M),G.return=D,G;case b:return M=ka(M,D.mode,G),M.return=D,M;case j:return M=ri(M),X(D,M,G)}if(Me(M)||me(M))return M=ii(M,D.mode,G,null),M.return=D,M;if(typeof M.then=="function")return X(D,Ol(M),G);if(M.$$typeof===L)return X(D,Bl(D,M),G);Jl(D,M)}return null}function B(D,M,G,K){var ce=M!==null?M.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ce!==null?null:E(D,M,""+G,K);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===ce?N(D,M,G,K):null;case b:return G.key===ce?k(D,M,G,K):null;case j:return G=ri(G),B(D,M,G,K)}if(Me(G)||me(G))return ce!==null?null:O(D,M,G,K,null);if(typeof G.then=="function")return B(D,M,Ol(G),K);if(G.$$typeof===L)return B(D,M,Bl(D,G),K);Jl(D,G)}return null}function V(D,M,G,K,ce){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return D=D.get(G)||null,E(M,D,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return D=D.get(K.key===null?G:K.key)||null,N(M,D,K,ce);case b:return D=D.get(K.key===null?G:K.key)||null,k(M,D,K,ce);case j:return K=ri(K),V(D,M,G,K,ce)}if(Me(K)||me(K))return D=D.get(G)||null,O(M,D,K,ce,null);if(typeof K.then=="function")return V(D,M,G,Ol(K),ce);if(K.$$typeof===L)return V(D,M,G,Bl(M,K),ce);Jl(M,K)}return null}function oe(D,M,G,K){for(var ce=null,be=null,se=M,ye=M=0,Ee=null;se!==null&&ye<G.length;ye++){se.index>ye?(Ee=se,se=null):Ee=se.sibling;var Ne=B(D,se,G[ye],K);if(Ne===null){se===null&&(se=Ee);break}e&&se&&Ne.alternate===null&&n(D,se),M=h(Ne,M,ye),be===null?ce=Ne:be.sibling=Ne,be=Ne,se=Ee}if(ye===G.length)return l(D,se),xe&&ln(D,ye),ce;if(se===null){for(;ye<G.length;ye++)se=X(D,G[ye],K),se!==null&&(M=h(se,M,ye),be===null?ce=se:be.sibling=se,be=se);return xe&&ln(D,ye),ce}for(se=a(se);ye<G.length;ye++)Ee=V(se,D,ye,G[ye],K),Ee!==null&&(e&&Ee.alternate!==null&&se.delete(Ee.key===null?ye:Ee.key),M=h(Ee,M,ye),be===null?ce=Ee:be.sibling=Ee,be=Ee);return e&&se.forEach(function(Kn){return n(D,Kn)}),xe&&ln(D,ye),ce}function de(D,M,G,K){if(G==null)throw Error(s(151));for(var ce=null,be=null,se=M,ye=M=0,Ee=null,Ne=G.next();se!==null&&!Ne.done;ye++,Ne=G.next()){se.index>ye?(Ee=se,se=null):Ee=se.sibling;var Kn=B(D,se,Ne.value,K);if(Kn===null){se===null&&(se=Ee);break}e&&se&&Kn.alternate===null&&n(D,se),M=h(Kn,M,ye),be===null?ce=Kn:be.sibling=Kn,be=Kn,se=Ee}if(Ne.done)return l(D,se),xe&&ln(D,ye),ce;if(se===null){for(;!Ne.done;ye++,Ne=G.next())Ne=X(D,Ne.value,K),Ne!==null&&(M=h(Ne,M,ye),be===null?ce=Ne:be.sibling=Ne,be=Ne);return xe&&ln(D,ye),ce}for(se=a(se);!Ne.done;ye++,Ne=G.next())Ne=V(se,D,ye,Ne.value,K),Ne!==null&&(e&&Ne.alternate!==null&&se.delete(Ne.key===null?ye:Ne.key),M=h(Ne,M,ye),be===null?ce=Ne:be.sibling=Ne,be=Ne);return e&&se.forEach(function($y){return n(D,$y)}),xe&&ln(D,ye),ce}function Ge(D,M,G,K){if(typeof G=="object"&&G!==null&&G.type===x&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var ce=G.key;M!==null;){if(M.key===ce){if(ce=G.type,ce===x){if(M.tag===7){l(D,M.sibling),K=p(M,G.props.children),K.return=D,D=K;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===j&&ri(ce)===M.type){l(D,M.sibling),K=p(M,G.props),zo(K,G),K.return=D,D=K;break e}l(D,M);break}else n(D,M);M=M.sibling}G.type===x?(K=ii(G.props.children,D.mode,K,G.key),K.return=D,D=K):(K=Gl(G.type,G.key,G.props,null,D.mode,K),zo(K,G),K.return=D,D=K)}return T(D);case b:e:{for(ce=G.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===G.containerInfo&&M.stateNode.implementation===G.implementation){l(D,M.sibling),K=p(M,G.children||[]),K.return=D,D=K;break e}else{l(D,M);break}else n(D,M);M=M.sibling}K=ka(G,D.mode,K),K.return=D,D=K}return T(D);case j:return G=ri(G),Ge(D,M,G,K)}if(Me(G))return oe(D,M,G,K);if(me(G)){if(ce=me(G),typeof ce!="function")throw Error(s(150));return G=ce.call(G),de(D,M,G,K)}if(typeof G.then=="function")return Ge(D,M,Ol(G),K);if(G.$$typeof===L)return Ge(D,M,Bl(D,G),K);Jl(D,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,M!==null&&M.tag===6?(l(D,M.sibling),K=p(M,G),K.return=D,D=K):(l(D,M),K=Ga(G,D.mode,K),K.return=D,D=K),T(D)):l(D,M)}return function(D,M,G,K){try{Lo=0;var ce=Ge(D,M,G,K);return qi=null,ce}catch(se){if(se===Bi||se===Vl)throw se;var be=Et(29,se,null,D.mode);return be.lanes=K,be.return=D,be}}}var ci=Gf(!0),kf=Gf(!1),Rn=!1;function Qa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $a(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Re&2)!==0){var p=a.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),a.pending=n,n=zl(e),Tf(e,null,l),n}return Ll(e,a,n,l),zl(e)}function Go(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,bc(e,l)}}function Za(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var p=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?p=h=T:h=h.next=T,l=l.next}while(l!==null);h===null?p=h=n:h=h.next=n}else p=h=n;l={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Wa=!1;function ko(){if(Wa){var e=Hi;if(e!==null)throw e}}function Ho(e,n,l,a){Wa=!1;var p=e.updateQueue;Rn=!1;var h=p.firstBaseUpdate,T=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var N=E,k=N.next;N.next=null,T===null?h=k:T.next=k,T=N;var O=e.alternate;O!==null&&(O=O.updateQueue,E=O.lastBaseUpdate,E!==T&&(E===null?O.firstBaseUpdate=k:E.next=k,O.lastBaseUpdate=N))}if(h!==null){var X=p.baseState;T=0,O=k=N=null,E=h;do{var B=E.lane&-536870913,V=B!==E.lane;if(V?(Ce&B)===B:(a&B)===B){B!==0&&B===ki&&(Wa=!0),O!==null&&(O=O.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=e,de=E;B=n;var Ge=l;switch(de.tag){case 1:if(oe=de.payload,typeof oe=="function"){X=oe.call(Ge,X,B);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=de.payload,B=typeof oe=="function"?oe.call(Ge,X,B):oe,B==null)break e;X=S({},X,B);break e;case 2:Rn=!0}}B=E.callback,B!==null&&(e.flags|=64,V&&(e.flags|=8192),V=p.callbacks,V===null?p.callbacks=[B]:V.push(B))}else V={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},O===null?(k=O=V,N=X):O=O.next=V,T|=B;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;V=E,E=V.next,V.next=null,p.lastBaseUpdate=V,p.shared.pending=null}}while(!0);O===null&&(N=X),p.baseState=N,p.firstBaseUpdate=k,p.lastBaseUpdate=O,h===null&&(p.shared.lanes=0),kn|=T,e.lanes=T,e.memoizedState=X}}function Hf(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Bf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Hf(l[e],n)}var Vi=I(null),Fl=I(0);function qf(e,n){e=gn,W(Fl,e),W(Vi,n),gn=e|n.baseLanes}function ja(){W(Fl,gn),W(Vi,Vi.current)}function er(){gn=Fl.current,q(Vi),q(Fl)}var At=I(null),kt=null;function Un(e){var n=e.alternate;W(Je,Je.current&1),W(At,e),kt===null&&(n===null||Vi.current!==null||n.memoizedState!==null)&&(kt=e)}function tr(e){W(Je,Je.current),W(At,e),kt===null&&(kt=e)}function Vf(e){e.tag===22?(W(Je,Je.current),W(At,e),kt===null&&(kt=e)):Ln()}function Ln(){W(Je,Je.current),W(At,At.current)}function xt(e){q(At),kt===e&&(kt=null),q(Je)}var Je=I(0);function Yl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||au(l)||ru(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rn=0,ve=null,Le=null,Ke=null,Kl=!1,Pi=!1,fi=!1,Xl=0,Bo=0,Oi=null,qv=0;function Ve(){throw Error(s(321))}function nr(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Ct(e[l],n[l]))return!1;return!0}function ir(e,n,l,a,p,h){return rn=h,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Ad:yr,fi=!1,h=l(a,p),fi=!1,Pi&&(h=Of(n,l,a,p)),Pf(e),h}function Pf(e){P.H=Po;var n=Le!==null&&Le.next!==null;if(rn=0,Ke=Le=ve=null,Kl=!1,Bo=0,Oi=null,n)throw Error(s(300));e===null||Xe||(e=e.dependencies,e!==null&&Hl(e)&&(Xe=!0))}function Of(e,n,l,a){ve=e;var p=0;do{if(Pi&&(Oi=null),Bo=0,Pi=!1,25<=p)throw Error(s(301));if(p+=1,Ke=Le=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}P.H=xd,h=n(l,a)}while(Pi);return h}function Vv(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ve.flags|=1024),n}function or(){var e=Xl!==0;return Xl=0,e}function lr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function sr(e){if(Kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Kl=!1}rn=0,Ke=Le=ve=null,Pi=!1,Bo=Xl=0,Oi=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ve.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Fe(){if(Le===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=Ke===null?ve.memoizedState:Ke.next;if(n!==null)Ke=n,Le=e;else{if(e===null)throw ve.alternate===null?Error(s(467)):Error(s(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ke===null?ve.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,Oi===null&&(Oi=[]),e=Uf(Oi,e,n),n=ve,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Ad:yr),e}function $l(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===L)return it(e)}throw Error(s(438,String(e)))}function ar(e){var n=null,l=ve.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=ve.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Ql(),ve.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=te;return n.index++,l}function un(e,n){return typeof n=="function"?n(e):n}function Zl(e){var n=Fe();return rr(n,Le,e)}function rr(e,n,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var p=e.baseQueue,h=a.pending;if(h!==null){if(p!==null){var T=p.next;p.next=h.next,h.next=T}n.baseQueue=p=h,a.pending=null}if(h=e.baseState,p===null)e.memoizedState=h;else{n=p.next;var E=T=null,N=null,k=n,O=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(Ce&X)===X:(rn&X)===X){var B=k.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===ki&&(O=!0);else if((rn&B)===B){k=k.next,B===ki&&(O=!0);continue}else X={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(E=N=X,T=h):N=N.next=X,ve.lanes|=B,kn|=B;X=k.action,fi&&l(h,X),h=k.hasEagerState?k.eagerState:l(h,X)}else B={lane:X,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(E=N=B,T=h):N=N.next=B,ve.lanes|=X,kn|=X;k=k.next}while(k!==null&&k!==n);if(N===null?T=h:N.next=E,!Ct(h,e.memoizedState)&&(Xe=!0,O&&(l=Hi,l!==null)))throw l;e.memoizedState=h,e.baseState=T,e.baseQueue=N,a.lastRenderedState=h}return p===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ur(e){var n=Fe(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,p=l.pending,h=n.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do h=e(h,T.action),T=T.next;while(T!==p);Ct(h,n.memoizedState)||(Xe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,a]}function Jf(e,n,l){var a=ve,p=Fe(),h=xe;if(h){if(l===void 0)throw Error(s(407));l=l()}else l=n();var T=!Ct((Le||p).memoizedState,l);if(T&&(p.memoizedState=l,Xe=!0),p=p.queue,dr(Kf.bind(null,a,p,e),[e]),p.getSnapshot!==n||T||Ke!==null&&Ke.memoizedState.tag&1){if(a.flags|=2048,Ji(9,{destroy:void 0},Yf.bind(null,a,p,l,n),null),ke===null)throw Error(s(349));h||(rn&127)!==0||Ff(a,n,l)}return l}function Ff(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ve.updateQueue,n===null?(n=Ql(),ve.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Yf(e,n,l,a){n.value=l,n.getSnapshot=a,Xf(n)&&Qf(e)}function Kf(e,n,l){return l(function(){Xf(n)&&Qf(e)})}function Xf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Ct(e,l)}catch{return!0}}function Qf(e){var n=ni(e,2);n!==null&&vt(n,e,2)}function cr(e){var n=rt();if(typeof e=="function"){var l=e;if(e=l(),fi){En(!0);try{l()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:e},n}function $f(e,n,l,a){return e.baseState=l,rr(e,Le,typeof a=="function"?a:un)}function Pv(e,n,l,a,p){if(es(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};P.T!==null?l(!0):h.isTransition=!1,a(h),l=n.pending,l===null?(h.next=n.pending=h,Zf(n,h)):(h.next=l.next,n.pending=l.next=h)}}function Zf(e,n){var l=n.action,a=n.payload,p=e.state;if(n.isTransition){var h=P.T,T={};P.T=T;try{var E=l(p,a),N=P.S;N!==null&&N(T,E),Wf(e,n,E)}catch(k){fr(e,n,k)}finally{h!==null&&T.types!==null&&(h.types=T.types),P.T=h}}else try{h=l(p,a),Wf(e,n,h)}catch(k){fr(e,n,k)}}function Wf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){jf(e,n,a)},function(a){return fr(e,n,a)}):jf(e,n,l)}function jf(e,n,l){n.status="fulfilled",n.value=l,ed(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Zf(e,l)))}function fr(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,ed(n),n=n.next;while(n!==a)}e.action=null}function ed(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function td(e,n){return n}function nd(e,n){if(xe){var l=ke.formState;if(l!==null){e:{var a=ve;if(xe){if(He){t:{for(var p=He,h=Gt;p.nodeType!==8;){if(!h){p=null;break t}if(p=Ht(p.nextSibling),p===null){p=null;break t}}h=p.data,p=h==="F!"||h==="F"?p:null}if(p){He=Ht(p.nextSibling),a=p.data==="F!";break e}}Nn(a)}a=!1}a&&(n=l[0])}}return l=rt(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:n},l.queue=a,l=Sd.bind(null,ve,a),a.dispatch=l,a=cr(!1),h=vr.bind(null,ve,!1,a.queue),a=rt(),p={state:n,dispatch:null,action:e,pending:null},a.queue=p,l=Pv.bind(null,ve,p,h,l),p.dispatch=l,a.memoizedState=e,[n,l,!1]}function id(e){var n=Fe();return od(n,Le,e)}function od(e,n,l){if(n=rr(e,n,td)[0],e=Zl(un)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=qo(n)}catch(T){throw T===Bi?Vl:T}else a=n;n=Fe();var p=n.queue,h=p.dispatch;return l!==n.memoizedState&&(ve.flags|=2048,Ji(9,{destroy:void 0},Ov.bind(null,p,l),null)),[a,h,e]}function Ov(e,n){e.action=n}function ld(e){var n=Fe(),l=Le;if(l!==null)return od(n,l,e);Fe(),n=n.memoizedState,l=Fe();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function Ji(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=ve.updateQueue,n===null&&(n=Ql(),ve.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function sd(){return Fe().memoizedState}function Wl(e,n,l,a){var p=rt();ve.flags|=e,p.memoizedState=Ji(1|n,{destroy:void 0},l,a===void 0?null:a)}function jl(e,n,l,a){var p=Fe();a=a===void 0?null:a;var h=p.memoizedState.inst;Le!==null&&a!==null&&nr(a,Le.memoizedState.deps)?p.memoizedState=Ji(n,h,l,a):(ve.flags|=e,p.memoizedState=Ji(1|n,h,l,a))}function ad(e,n){Wl(8390656,8,e,n)}function dr(e,n){jl(2048,8,e,n)}function Jv(e){ve.flags|=4;var n=ve.updateQueue;if(n===null)n=Ql(),ve.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function rd(e){var n=Fe().memoizedState;return Jv({ref:n,nextImpl:e}),function(){if((Re&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ud(e,n){return jl(4,2,e,n)}function cd(e,n){return jl(4,4,e,n)}function fd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dd(e,n,l){l=l!=null?l.concat([e]):null,jl(4,4,fd.bind(null,n,e),l)}function pr(){}function pd(e,n){var l=Fe();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&nr(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function md(e,n){var l=Fe();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&nr(n,a[1]))return a[0];if(a=e(),fi){En(!0);try{e()}finally{En(!1)}}return l.memoizedState=[a,n],a}function mr(e,n,l){return l===void 0||(rn&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=hp(),ve.lanes|=e,kn|=e,l)}function hd(e,n,l,a){return Ct(l,n)?l:Vi.current!==null?(e=mr(e,l,a),Ct(e,n)||(Xe=!0),e):(rn&42)===0||(rn&1073741824)!==0&&(Ce&261930)===0?(Xe=!0,e.memoizedState=l):(e=hp(),ve.lanes|=e,kn|=e,n)}function gd(e,n,l,a,p){var h=Y.p;Y.p=h!==0&&8>h?h:8;var T=P.T,E={};P.T=E,vr(e,!1,n,l);try{var N=p(),k=P.S;if(k!==null&&k(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var O=Bv(N,a);Vo(e,n,O,Nt(e))}else Vo(e,n,a,Nt(e))}catch(X){Vo(e,n,{then:function(){},status:"rejected",reason:X},Nt())}finally{Y.p=h,T!==null&&E.types!==null&&(T.types=E.types),P.T=T}}function Fv(){}function hr(e,n,l,a){if(e.tag!==5)throw Error(s(476));var p=vd(e).queue;gd(e,p,n,$,l===null?Fv:function(){return yd(e),l(a)})}function vd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:$},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function yd(e){var n=vd(e);n.next===null&&(n=e.alternate.memoizedState),Vo(e,n.next.queue,{},Nt())}function gr(){return it(ol)}function _d(){return Fe().memoizedState}function Td(){return Fe().memoizedState}function Yv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Nt();e=Mn(l);var a=Dn(n,e,l);a!==null&&(vt(a,n,l),Go(a,n,l)),n={cache:Fa()},e.payload=n;return}n=n.return}}function Kv(e,n,l){var a=Nt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},es(e)?Cd(n,l):(l=La(e,n,l,a),l!==null&&(vt(l,e,a),Ed(l,n,a)))}function Sd(e,n,l){var a=Nt();Vo(e,n,l,a)}function Vo(e,n,l,a){var p={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(es(e))Cd(n,p);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var T=n.lastRenderedState,E=h(T,l);if(p.hasEagerState=!0,p.eagerState=E,Ct(E,T))return Ll(e,n,p,0),ke===null&&Ul(),!1}catch{}if(l=La(e,n,p,a),l!==null)return vt(l,e,a),Ed(l,n,a),!0}return!1}function vr(e,n,l,a){if(a={lane:2,revertLane:Qr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},es(e)){if(n)throw Error(s(479))}else n=La(e,l,a,2),n!==null&&vt(n,e,2)}function es(e){var n=e.alternate;return e===ve||n!==null&&n===ve}function Cd(e,n){Pi=Kl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Ed(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,bc(e,l)}}var Po={readContext:it,use:$l,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Po.useEffectEvent=Ve;var Ad={readContext:it,use:$l,useCallback:function(e,n){return rt().memoizedState=[e,n===void 0?null:n],e},useContext:it,useEffect:ad,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Wl(4194308,4,fd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Wl(4194308,4,e,n)},useInsertionEffect:function(e,n){Wl(4,2,e,n)},useMemo:function(e,n){var l=rt();n=n===void 0?null:n;var a=e();if(fi){En(!0);try{e()}finally{En(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=rt();if(l!==void 0){var p=l(n);if(fi){En(!0);try{l(n)}finally{En(!1)}}}else p=n;return a.memoizedState=a.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},a.queue=e,e=e.dispatch=Kv.bind(null,ve,e),[a.memoizedState,e]},useRef:function(e){var n=rt();return e={current:e},n.memoizedState=e},useState:function(e){e=cr(e);var n=e.queue,l=Sd.bind(null,ve,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:pr,useDeferredValue:function(e,n){var l=rt();return mr(l,e,n)},useTransition:function(){var e=cr(!1);return e=gd.bind(null,ve,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=ve,p=rt();if(xe){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),ke===null)throw Error(s(349));(Ce&127)!==0||Ff(a,n,l)}p.memoizedState=l;var h={value:l,getSnapshot:n};return p.queue=h,ad(Kf.bind(null,a,h,e),[e]),a.flags|=2048,Ji(9,{destroy:void 0},Yf.bind(null,a,h,l,n),null),l},useId:function(){var e=rt(),n=ke.identifierPrefix;if(xe){var l=Zt,a=$t;l=(a&~(1<<32-St(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Xl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=qv++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gr,useFormState:nd,useActionState:nd,useOptimistic:function(e){var n=rt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=vr.bind(null,ve,!0,l),l.dispatch=n,[e,n]},useMemoCache:ar,useCacheRefresh:function(){return rt().memoizedState=Yv.bind(null,ve)},useEffectEvent:function(e){var n=rt(),l={impl:e};return n.memoizedState=l,function(){if((Re&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},yr={readContext:it,use:$l,useCallback:pd,useContext:it,useEffect:dr,useImperativeHandle:dd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:md,useReducer:Zl,useRef:sd,useState:function(){return Zl(un)},useDebugValue:pr,useDeferredValue:function(e,n){var l=Fe();return hd(l,Le.memoizedState,e,n)},useTransition:function(){var e=Zl(un)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Jf,useId:_d,useHostTransitionStatus:gr,useFormState:id,useActionState:id,useOptimistic:function(e,n){var l=Fe();return $f(l,Le,e,n)},useMemoCache:ar,useCacheRefresh:Td};yr.useEffectEvent=rd;var xd={readContext:it,use:$l,useCallback:pd,useContext:it,useEffect:dr,useImperativeHandle:dd,useInsertionEffect:ud,useLayoutEffect:cd,useMemo:md,useReducer:ur,useRef:sd,useState:function(){return ur(un)},useDebugValue:pr,useDeferredValue:function(e,n){var l=Fe();return Le===null?mr(l,e,n):hd(l,Le.memoizedState,e,n)},useTransition:function(){var e=ur(un)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Jf,useId:_d,useHostTransitionStatus:gr,useFormState:ld,useActionState:ld,useOptimistic:function(e,n){var l=Fe();return Le!==null?$f(l,Le,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ar,useCacheRefresh:Td};xd.useEffectEvent=rd;function _r(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Tr={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=Nt(),p=Mn(a);p.payload=n,l!=null&&(p.callback=l),n=Dn(e,p,a),n!==null&&(vt(n,e,a),Go(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=Nt(),p=Mn(a);p.tag=1,p.payload=n,l!=null&&(p.callback=l),n=Dn(e,p,a),n!==null&&(vt(n,e,a),Go(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Nt(),a=Mn(l);a.tag=2,n!=null&&(a.callback=n),n=Dn(e,a,l),n!==null&&(vt(n,e,l),Go(n,e,l))}};function wd(e,n,l,a,p,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,T):n.prototype&&n.prototype.isPureReactComponent?!No(l,a)||!No(p,h):!0}function bd(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&Tr.enqueueReplaceState(n,n.state,null)}function di(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var p in e)l[p]===void 0&&(l[p]=e[p])}return l}function Nd(e){Dl(e)}function Id(e){console.error(e)}function Rd(e){Dl(e)}function ts(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function Md(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Sr(e,n,l){return l=Mn(l),l.tag=3,l.payload={element:null},l.callback=function(){ts(e,n)},l}function Dd(e){return e=Mn(e),e.tag=3,e}function Ud(e,n,l,a){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var h=a.value;e.payload=function(){return p(h)},e.callback=function(){Md(n,l,a)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Md(n,l,a),typeof p!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function Xv(e,n,l,a,p){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&Gi(n,l,p,!0),l=At.current,l!==null){switch(l.tag){case 31:case 13:return kt===null?ps():l.alternate===null&&Pe===0&&(Pe=3),l.flags&=-257,l.flags|=65536,l.lanes=p,a===Pl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),Yr(e,a,p)),!1;case 22:return l.flags|=65536,a===Pl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),Yr(e,a,p)),!1}throw Error(s(435,l.tag))}return Yr(e,a,p),ps(),!1}if(xe)return n=At.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,a!==qa&&(e=Error(s(422),{cause:a}),Mo(Ut(e,l)))):(a!==qa&&(n=Error(s(423),{cause:a}),Mo(Ut(n,l))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,a=Ut(a,l),p=Sr(e.stateNode,a,p),Za(e,p),Pe!==4&&(Pe=2)),!1;var h=Error(s(520),{cause:a});if(h=Ut(h,l),$o===null?$o=[h]:$o.push(h),Pe!==4&&(Pe=2),n===null)return!0;a=Ut(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=p&-p,l.lanes|=e,e=Sr(l.stateNode,a,e),Za(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Hn===null||!Hn.has(h))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Dd(p),Ud(p,e,l,a),Za(l,p),!1}l=l.return}while(l!==null);return!1}var Cr=Error(s(461)),Xe=!1;function ot(e,n,l,a){n.child=e===null?kf(n,null,l,a):ci(n,e.child,l,a)}function Ld(e,n,l,a,p){l=l.render;var h=n.ref;if("ref"in a){var T={};for(var E in a)E!=="ref"&&(T[E]=a[E])}else T=a;return si(n),a=ir(e,n,l,T,h,p),E=or(),e!==null&&!Xe?(lr(e,n,p),cn(e,n,p)):(xe&&E&&Ha(n),n.flags|=1,ot(e,n,a,p),n.child)}function zd(e,n,l,a,p){if(e===null){var h=l.type;return typeof h=="function"&&!za(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,Gd(e,n,h,a,p)):(e=Gl(l.type,null,a,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Rr(e,p)){var T=h.memoizedProps;if(l=l.compare,l=l!==null?l:No,l(T,a)&&e.ref===n.ref)return cn(e,n,p)}return n.flags|=1,e=on(h,a),e.ref=n.ref,e.return=n,n.child=e}function Gd(e,n,l,a,p){if(e!==null){var h=e.memoizedProps;if(No(h,a)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=a=h,Rr(e,p))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,cn(e,n,p)}return Er(e,n,l,a,p)}function kd(e,n,l,a){var p=a.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(a=n.child=e.child,p=0;a!==null;)p=p|a.lanes|a.childLanes,a=a.sibling;a=p&~h}else a=0,n.child=null;return Hd(e,n,h,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ql(n,h!==null?h.cachePool:null),h!==null?qf(n,h):ja(),Vf(n);else return a=n.lanes=536870912,Hd(e,n,h!==null?h.baseLanes|l:l,l,a)}else h!==null?(ql(n,h.cachePool),qf(n,h),Ln(),n.memoizedState=null):(e!==null&&ql(n,null),ja(),Ln());return ot(e,n,p,l),n.child}function Oo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hd(e,n,l,a,p){var h=Ka();return h=h===null?null:{parent:Ye._currentValue,pool:h},n.memoizedState={baseLanes:l,cachePool:h},e!==null&&ql(n,null),ja(),Vf(n),e!==null&&Gi(e,n,a,!0),n.childLanes=p,null}function ns(e,n){return n=os({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Bd(e,n,l){return ci(n,e.child,null,l),e=ns(n,n.pendingProps),e.flags|=2,xt(n),n.memoizedState=null,e}function Qv(e,n,l){var a=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xe){if(a.mode==="hidden")return e=ns(n,a),n.lanes=536870912,Oo(null,e);if(tr(n),(e=He)?(e=Zp(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wn!==null?{id:$t,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},l=Cf(e),l.return=n,n.child=l,nt=n,He=null)):e=null,e===null)throw Nn(n);return n.lanes=536870912,null}return ns(n,a)}var h=e.memoizedState;if(h!==null){var T=h.dehydrated;if(tr(n),p)if(n.flags&256)n.flags&=-257,n=Bd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Xe||Gi(e,n,l,!1),p=(l&e.childLanes)!==0,Xe||p){if(a=ke,a!==null&&(T=Nc(a,l),T!==0&&T!==h.retryLane))throw h.retryLane=T,ni(e,T),vt(a,e,T),Cr;ps(),n=Bd(e,n,l)}else e=h.treeContext,He=Ht(T.nextSibling),nt=n,xe=!0,bn=null,Gt=!1,e!==null&&xf(n,e),n=ns(n,a),n.flags|=4096;return n}return e=on(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function is(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Er(e,n,l,a,p){return si(n),l=ir(e,n,l,a,void 0,p),a=or(),e!==null&&!Xe?(lr(e,n,p),cn(e,n,p)):(xe&&a&&Ha(n),n.flags|=1,ot(e,n,l,p),n.child)}function qd(e,n,l,a,p,h){return si(n),n.updateQueue=null,l=Of(n,a,l,p),Pf(e),a=or(),e!==null&&!Xe?(lr(e,n,h),cn(e,n,h)):(xe&&a&&Ha(n),n.flags|=1,ot(e,n,l,h),n.child)}function Vd(e,n,l,a,p){if(si(n),n.stateNode===null){var h=Di,T=l.contextType;typeof T=="object"&&T!==null&&(h=it(T)),h=new l(a,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Tr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=a,h.state=n.memoizedState,h.refs={},Qa(n),T=l.contextType,h.context=typeof T=="object"&&T!==null?it(T):Di,h.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(_r(n,l,T,a),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Tr.enqueueReplaceState(h,h.state,null),Ho(n,a,h,p),ko(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,N=di(l,E);h.props=N;var k=h.context,O=l.contextType;T=Di,typeof O=="object"&&O!==null&&(T=it(O));var X=l.getDerivedStateFromProps;O=typeof X=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,O||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||k!==T)&&bd(n,h,a,T),Rn=!1;var B=n.memoizedState;h.state=B,Ho(n,a,h,p),ko(),k=n.memoizedState,E||B!==k||Rn?(typeof X=="function"&&(_r(n,l,X,a),k=n.memoizedState),(N=Rn||wd(n,l,N,a,B,k,T))?(O||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=k),h.props=a,h.state=k,h.context=T,a=N):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{h=n.stateNode,$a(e,n),T=n.memoizedProps,O=di(l,T),h.props=O,X=n.pendingProps,B=h.context,k=l.contextType,N=Di,typeof k=="object"&&k!==null&&(N=it(k)),E=l.getDerivedStateFromProps,(k=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==X||B!==N)&&bd(n,h,a,N),Rn=!1,B=n.memoizedState,h.state=B,Ho(n,a,h,p),ko();var V=n.memoizedState;T!==X||B!==V||Rn||e!==null&&e.dependencies!==null&&Hl(e.dependencies)?(typeof E=="function"&&(_r(n,l,E,a),V=n.memoizedState),(O=Rn||wd(n,l,O,a,B,V,N)||e!==null&&e.dependencies!==null&&Hl(e.dependencies))?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,V,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,V,N)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=V),h.props=a,h.state=V,h.context=N,a=O):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),a=!1)}return h=a,is(e,n),a=(n.flags&128)!==0,h||a?(h=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&a?(n.child=ci(n,e.child,null,p),n.child=ci(n,null,l,p)):ot(e,n,l,p),n.memoizedState=h.state,e=n.child):e=cn(e,n,p),e}function Pd(e,n,l,a){return oi(),n.flags|=256,ot(e,n,l,a),n.child}var Ar={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xr(e){return{baseLanes:e,cachePool:Mf()}}function wr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=bt),e}function Od(e,n,l){var a=n.pendingProps,p=!1,h=(n.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),T&&(p=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(xe){if(p?Un(n):Ln(),(e=He)?(e=Zp(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:wn!==null?{id:$t,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},l=Cf(e),l.return=n,n.child=l,nt=n,He=null)):e=null,e===null)throw Nn(n);return ru(e)?n.lanes=32:n.lanes=536870912,null}var E=a.children;return a=a.fallback,p?(Ln(),p=n.mode,E=os({mode:"hidden",children:E},p),a=ii(a,p,l,null),E.return=n,a.return=n,E.sibling=a,n.child=E,a=n.child,a.memoizedState=xr(l),a.childLanes=wr(e,T,l),n.memoizedState=Ar,Oo(null,a)):(Un(n),br(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(h)n.flags&256?(Un(n),n.flags&=-257,n=Nr(e,n,l)):n.memoizedState!==null?(Ln(),n.child=e.child,n.flags|=128,n=null):(Ln(),E=a.fallback,p=n.mode,a=os({mode:"visible",children:a.children},p),E=ii(E,p,l,null),E.flags|=2,a.return=n,E.return=n,a.sibling=E,n.child=a,ci(n,e.child,null,l),a=n.child,a.memoizedState=xr(l),a.childLanes=wr(e,T,l),n.memoizedState=Ar,n=Oo(null,a));else if(Un(n),ru(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var k=T.dgst;T=k,a=Error(s(419)),a.stack="",a.digest=T,Mo({value:a,source:null,stack:null}),n=Nr(e,n,l)}else if(Xe||Gi(e,n,l,!1),T=(l&e.childLanes)!==0,Xe||T){if(T=ke,T!==null&&(a=Nc(T,l),a!==0&&a!==N.retryLane))throw N.retryLane=a,ni(e,a),vt(T,e,a),Cr;au(E)||ps(),n=Nr(e,n,l)}else au(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,He=Ht(E.nextSibling),nt=n,xe=!0,bn=null,Gt=!1,e!==null&&xf(n,e),n=br(n,a.children),n.flags|=4096);return n}return p?(Ln(),E=a.fallback,p=n.mode,N=e.child,k=N.sibling,a=on(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,k!==null?E=on(k,E):(E=ii(E,p,l,null),E.flags|=2),E.return=n,a.return=n,a.sibling=E,n.child=a,Oo(null,a),a=n.child,E=e.child.memoizedState,E===null?E=xr(l):(p=E.cachePool,p!==null?(N=Ye._currentValue,p=p.parent!==N?{parent:N,pool:N}:p):p=Mf(),E={baseLanes:E.baseLanes|l,cachePool:p}),a.memoizedState=E,a.childLanes=wr(e,T,l),n.memoizedState=Ar,Oo(e.child,a)):(Un(n),l=e.child,e=l.sibling,l=on(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function br(e,n){return n=os({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function os(e,n){return e=Et(22,e,null,n),e.lanes=0,e}function Nr(e,n,l){return ci(n,e.child,null,l),e=br(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jd(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Oa(e.return,n,l)}function Ir(e,n,l,a,p,h){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:p,treeForkCount:h}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=l,T.tailMode=p,T.treeForkCount=h)}function Fd(e,n,l){var a=n.pendingProps,p=a.revealOrder,h=a.tail;a=a.children;var T=Je.current,E=(T&2)!==0;if(E?(T=T&1|2,n.flags|=128):T&=1,W(Je,T),ot(e,n,a,l),a=xe?Ro:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,l,n);else if(e.tag===19)Jd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(l=n.child,p=null;l!==null;)e=l.alternate,e!==null&&Yl(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=n.child,n.child=null):(p=l.sibling,l.sibling=null),Ir(n,!1,p,l,h,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Yl(e)===null){n.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}Ir(n,!0,l,null,h,a);break;case"together":Ir(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function cn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),kn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Gi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=on(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=on(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Rr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Hl(e)))}function $v(e,n,l){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),In(n,Ye,e.memoizedState.cache),oi();break;case 27:case 5:ho(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:In(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,tr(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Un(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Od(e,n,l):(Un(n),e=cn(e,n,l),e!==null?e.sibling:null);Un(n);break;case 19:var p=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(Gi(e,n,l,!1),a=(l&n.childLanes)!==0),p){if(a)return Fd(e,n,l);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(Je,Je.current),a)break;return null;case 22:return n.lanes=0,kd(e,n,l,n.pendingProps);case 24:In(n,Ye,e.memoizedState.cache)}return cn(e,n,l)}function Yd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!Rr(e,l)&&(n.flags&128)===0)return Xe=!1,$v(e,n,l);Xe=(e.flags&131072)!==0}else Xe=!1,xe&&(n.flags&1048576)!==0&&Af(n,Ro,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=ri(n.elementType),n.type=e,typeof e=="function")za(e)?(a=di(e,a),n.tag=1,n=Vd(null,n,e,a,l)):(n.tag=0,n=Er(null,n,e,a,l));else{if(e!=null){var p=e.$$typeof;if(p===z){n.tag=11,n=Ld(null,n,e,a,l);break e}else if(p===F){n.tag=14,n=zd(null,n,e,a,l);break e}}throw n=ge(e)||e,Error(s(306,n,""))}}return n;case 0:return Er(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,p=di(a,n.pendingProps),Vd(e,n,a,p,l);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var h=n.memoizedState;p=h.element,$a(e,n),Ho(n,a,null,l);var T=n.memoizedState;if(a=T.cache,In(n,Ye,a),a!==h.cache&&Ja(n,[Ye],l,!0),ko(),a=T.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Pd(e,n,a,l);break e}else if(a!==p){p=Ut(Error(s(424)),n),Mo(p),n=Pd(e,n,a,l);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,He=Ht(e.firstChild),nt=n,xe=!0,bn=null,Gt=!0,l=kf(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(oi(),a===p){n=cn(e,n,l);break e}ot(e,n,a,l)}n=n.child}return n;case 26:return is(e,n),e===null?(l=im(n.type,null,n.pendingProps,null))?n.memoizedState=l:xe||(l=n.type,e=n.pendingProps,a=Ts(ue.current).createElement(l),a[tt]=n,a[ft]=e,lt(a,l,e),Ze(a),n.stateNode=a):n.memoizedState=im(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ho(n),e===null&&xe&&(a=n.stateNode=em(n.type,n.pendingProps,ue.current),nt=n,Gt=!0,p=He,Pn(n.type)?(uu=p,He=Ht(a.firstChild)):He=p),ot(e,n,n.pendingProps.children,l),is(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xe&&((p=a=He)&&(a=wy(a,n.type,n.pendingProps,Gt),a!==null?(n.stateNode=a,nt=n,He=Ht(a.firstChild),Gt=!1,p=!0):p=!1),p||Nn(n)),ho(n),p=n.type,h=n.pendingProps,T=e!==null?e.memoizedProps:null,a=h.children,ou(p,h)?a=null:T!==null&&ou(p,T)&&(n.flags|=32),n.memoizedState!==null&&(p=ir(e,n,Vv,null,null,l),ol._currentValue=p),is(e,n),ot(e,n,a,l),n.child;case 6:return e===null&&xe&&((e=l=He)&&(l=by(l,n.pendingProps,Gt),l!==null?(n.stateNode=l,nt=n,He=null,e=!0):e=!1),e||Nn(n)),null;case 13:return Od(e,n,l);case 4:return at(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=ci(n,null,a,l):ot(e,n,a,l),n.child;case 11:return Ld(e,n,n.type,n.pendingProps,l);case 7:return ot(e,n,n.pendingProps,l),n.child;case 8:return ot(e,n,n.pendingProps.children,l),n.child;case 12:return ot(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,In(n,n.type,a.value),ot(e,n,a.children,l),n.child;case 9:return p=n.type._context,a=n.pendingProps.children,si(n),p=it(p),a=a(p),n.flags|=1,ot(e,n,a,l),n.child;case 14:return zd(e,n,n.type,n.pendingProps,l);case 15:return Gd(e,n,n.type,n.pendingProps,l);case 19:return Fd(e,n,l);case 31:return Qv(e,n,l);case 22:return kd(e,n,l,n.pendingProps);case 24:return si(n),a=it(Ye),e===null?(p=Ka(),p===null&&(p=ke,h=Fa(),p.pooledCache=h,h.refCount++,h!==null&&(p.pooledCacheLanes|=l),p=h),n.memoizedState={parent:a,cache:p},Qa(n),In(n,Ye,p)):((e.lanes&l)!==0&&($a(e,n),Ho(n,null,null,l),ko()),p=e.memoizedState,h=n.memoizedState,p.parent!==a?(p={parent:a,cache:a},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),In(n,Ye,a)):(a=h.cache,In(n,Ye,a),a!==p.cache&&Ja(n,[Ye],l,!0))),ot(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function fn(e){e.flags|=4}function Mr(e,n,l,a,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(_p())e.flags|=8192;else throw ui=Pl,Xa}else e.flags&=-16777217}function Kd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rm(n))if(_p())e.flags|=8192;else throw ui=Pl,Xa}function ls(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?xc():536870912,e.lanes|=n,Xi|=n)}function Jo(e,n){if(!xe)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Be(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,a|=p.subtreeFlags&65011712,a|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,a|=p.subtreeFlags,a|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function Zv(e,n,l){var a=n.pendingProps;switch(Ba(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(n),null;case 1:return Be(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),an(Ye),Oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(zi(n)?fn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Va())),Be(n),null;case 26:var p=n.type,h=n.memoizedState;return e===null?(fn(n),h!==null?(Be(n),Kd(n,h)):(Be(n),Mr(n,p,null,a,l))):h?h!==e.memoizedState?(fn(n),Be(n),Kd(n,h)):(Be(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&fn(n),Be(n),Mr(n,p,e,a,l)),null;case 27:if(gl(n),l=ue.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&fn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Be(n),null}e=ee.current,zi(n)?wf(n):(e=em(p,a,l),n.stateNode=e,fn(n))}return Be(n),null;case 5:if(gl(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&fn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Be(n),null}if(h=ee.current,zi(n))wf(n);else{var T=Ts(ue.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?h.multiple=!0:a.size&&(h.size=a.size);break;default:h=typeof a.is=="string"?T.createElement(p,{is:a.is}):T.createElement(p)}}h[tt]=n,h[ft]=a;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=h;e:switch(lt(h,p,a),p){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&fn(n)}}return Be(n),Mr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&fn(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=ue.current,zi(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,p=nt,p!==null)switch(p.tag){case 27:case 5:a=p.memoizedProps}e[tt]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Op(e.nodeValue,l)),e||Nn(n,!0)}else e=Ts(e).createTextNode(a),e[tt]=n,n.stateNode=e}return Be(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=zi(n),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[tt]=n}else oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),e=!1}else l=Va(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(xt(n),n):(xt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Be(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=zi(n),a!==null&&a.dehydrated!==null){if(e===null){if(!p)throw Error(s(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[tt]=n}else oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),p=!1}else p=Va(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(xt(n),n):(xt(n),null)}return xt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,p=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(p=a.alternate.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==p&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),ls(n,n.updateQueue),Be(n),null);case 4:return Oe(),e===null&&jr(n.stateNode.containerInfo),Be(n),null;case 10:return an(n.type),Be(n),null;case 19:if(q(Je),a=n.memoizedState,a===null)return Be(n),null;if(p=(n.flags&128)!==0,h=a.rendering,h===null)if(p)Jo(a,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Yl(e),h!==null){for(n.flags|=128,Jo(a,!1),e=h.updateQueue,n.updateQueue=e,ls(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Sf(l,e),l=l.sibling;return W(Je,Je.current&1|2),xe&&ln(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&_t()>cs&&(n.flags|=128,p=!0,Jo(a,!1),n.lanes=4194304)}else{if(!p)if(e=Yl(h),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,ls(n,e),Jo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!xe)return Be(n),null}else 2*_t()-a.renderingStartTime>cs&&l!==536870912&&(n.flags|=128,p=!0,Jo(a,!1),n.lanes=4194304);a.isBackwards?(h.sibling=n.child,n.child=h):(e=a.last,e!==null?e.sibling=h:n.child=h,a.last=h)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=_t(),e.sibling=null,l=Je.current,W(Je,p?l&1|2:l&1),xe&&ln(n,a.treeForkCount),e):(Be(n),null);case 22:case 23:return xt(n),er(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(Be(n),n.subtreeFlags&6&&(n.flags|=8192)):Be(n),l=n.updateQueue,l!==null&&ls(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&q(ai),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),an(Ye),Be(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Wv(e,n){switch(Ba(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return an(Ye),Oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gl(n),null;case 31:if(n.memoizedState!==null){if(xt(n),n.alternate===null)throw Error(s(340));oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(Je),null;case 4:return Oe(),null;case 10:return an(n.type),null;case 22:case 23:return xt(n),er(),e!==null&&q(ai),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return an(Ye),null;case 25:return null;default:return null}}function Xd(e,n){switch(Ba(n),n.tag){case 3:an(Ye),Oe();break;case 26:case 27:case 5:gl(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&xt(n);break;case 13:xt(n);break;case 19:q(Je);break;case 10:an(n.type);break;case 22:case 23:xt(n),er(),e!==null&&q(ai);break;case 24:an(Ye)}}function Fo(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var p=a.next;l=p;do{if((l.tag&e)===e){a=void 0;var h=l.create,T=l.inst;a=h(),T.destroy=a}l=l.next}while(l!==p)}}catch(E){Ue(n,n.return,E)}}function zn(e,n,l){try{var a=n.updateQueue,p=a!==null?a.lastEffect:null;if(p!==null){var h=p.next;a=h;do{if((a.tag&e)===e){var T=a.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,p=n;var N=l,k=E;try{k()}catch(O){Ue(p,N,O)}}}a=a.next}while(a!==h)}}catch(O){Ue(n,n.return,O)}}function Qd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Bf(n,l)}catch(a){Ue(e,e.return,a)}}}function $d(e,n,l){l.props=di(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ue(e,n,a)}}function Yo(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(p){Ue(e,n,p)}}function Wt(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(p){Ue(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ue(e,n,p)}else l.current=null}function Zd(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(p){Ue(e,e.return,p)}}function Dr(e,n,l){try{var a=e.stateNode;Ty(a,e.type,l,n),a[ft]=n}catch(p){Ue(e,e.return,p)}}function Wd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pn(e.type)||e.tag===4}function Ur(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lr(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=tn));else if(a!==4&&(a===27&&Pn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Lr(e,n,l),e=e.sibling;e!==null;)Lr(e,n,l),e=e.sibling}function ss(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Pn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ss(e,n,l),e=e.sibling;e!==null;)ss(e,n,l),e=e.sibling}function jd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);lt(n,a,l),n[tt]=e,n[ft]=l}catch(h){Ue(e,e.return,h)}}var dn=!1,Qe=!1,zr=!1,ep=typeof WeakSet=="function"?WeakSet:Set,We=null;function jv(e,n){if(e=e.containerInfo,nu=bs,e=df(e),Na(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var p=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var T=0,E=-1,N=-1,k=0,O=0,X=e,B=null;t:for(;;){for(var V;X!==l||p!==0&&X.nodeType!==3||(E=T+p),X!==h||a!==0&&X.nodeType!==3||(N=T+a),X.nodeType===3&&(T+=X.nodeValue.length),(V=X.firstChild)!==null;)B=X,X=V;for(;;){if(X===e)break t;if(B===l&&++k===p&&(E=T),B===h&&++O===a&&(N=T),(V=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=V}l=E===-1||N===-1?null:{start:E,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(iu={focusedElem:e,selectionRange:l},bs=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)p=e[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,p=h.memoizedProps,h=h.memoizedState,a=l.stateNode;try{var oe=di(l.type,p);e=a.getSnapshotBeforeUpdate(oe,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(de){Ue(l,l.return,de)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)su(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function tp(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:mn(e,l),a&4&&Fo(5,l);break;case 1:if(mn(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Ue(l,l.return,T)}else{var p=di(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ue(l,l.return,T)}}a&64&&Qd(l),a&512&&Yo(l,l.return);break;case 3:if(mn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Bf(e,n)}catch(T){Ue(l,l.return,T)}}break;case 27:n===null&&a&4&&jd(l);case 26:case 5:mn(e,l),n===null&&a&4&&Zd(l),a&512&&Yo(l,l.return);break;case 12:mn(e,l);break;case 31:mn(e,l),a&4&&op(e,l);break;case 13:mn(e,l),a&4&&lp(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=ry.bind(null,l),Ny(e,l))));break;case 22:if(a=l.memoizedState!==null||dn,!a){n=n!==null&&n.memoizedState!==null||Qe,p=dn;var h=Qe;dn=a,(Qe=n)&&!h?hn(e,l,(l.subtreeFlags&8772)!==0):mn(e,l),dn=p,Qe=h}break;case 30:break;default:mn(e,l)}}function np(e){var n=e.alternate;n!==null&&(e.alternate=null,np(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&fa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,pt=!1;function pn(e,n,l){for(l=l.child;l!==null;)ip(e,n,l),l=l.sibling}function ip(e,n,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(go,l)}catch{}switch(l.tag){case 26:Qe||Wt(l,n),pn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qe||Wt(l,n);var a=qe,p=pt;Pn(l.type)&&(qe=l.stateNode,pt=!1),pn(e,n,l),tl(l.stateNode),qe=a,pt=p;break;case 5:Qe||Wt(l,n);case 6:if(a=qe,p=pt,qe=null,pn(e,n,l),qe=a,pt=p,qe!==null)if(pt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(h){Ue(l,n,h)}else try{qe.removeChild(l.stateNode)}catch(h){Ue(l,n,h)}break;case 18:qe!==null&&(pt?(e=qe,Qp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),no(e)):Qp(qe,l.stateNode));break;case 4:a=qe,p=pt,qe=l.stateNode.containerInfo,pt=!0,pn(e,n,l),qe=a,pt=p;break;case 0:case 11:case 14:case 15:zn(2,l,n),Qe||zn(4,l,n),pn(e,n,l);break;case 1:Qe||(Wt(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&$d(l,n,a)),pn(e,n,l);break;case 21:pn(e,n,l);break;case 22:Qe=(a=Qe)||l.memoizedState!==null,pn(e,n,l),Qe=a;break;default:pn(e,n,l)}}function op(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{no(e)}catch(l){Ue(n,n.return,l)}}}function lp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{no(e)}catch(l){Ue(n,n.return,l)}}function ey(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ep),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ep),n;default:throw Error(s(435,e.tag))}}function as(e,n){var l=ey(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var p=uy.bind(null,e,a);a.then(p,p)}})}function mt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var p=l[a],h=e,T=n,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Pn(E.type)){qe=E.stateNode,pt=!1;break e}break;case 5:qe=E.stateNode,pt=!1;break e;case 3:case 4:qe=E.stateNode.containerInfo,pt=!0;break e}E=E.return}if(qe===null)throw Error(s(160));ip(h,T,p),qe=null,pt=!1,h=p.alternate,h!==null&&(h.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)sp(n,e),n=n.sibling}var Jt=null;function sp(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(n,e),ht(e),a&4&&(zn(3,e,e.return),Fo(3,e),zn(5,e,e.return));break;case 1:mt(n,e),ht(e),a&512&&(Qe||l===null||Wt(l,l.return)),a&64&&dn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var p=Jt;if(mt(n,e),ht(e),a&512&&(Qe||l===null||Wt(l,l.return)),a&4){var h=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,p=p.ownerDocument||p;t:switch(a){case"title":h=p.getElementsByTagName("title")[0],(!h||h[_o]||h[tt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=p.createElement(a),p.head.insertBefore(h,p.querySelector("head > title"))),lt(h,a,l),h[tt]=e,Ze(h),a=h;break e;case"link":var T=sm("link","href",p).get(a+(l.href||""));if(T){for(var E=0;E<T.length;E++)if(h=T[E],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(E,1);break t}}h=p.createElement(a),lt(h,a,l),p.head.appendChild(h);break;case"meta":if(T=sm("meta","content",p).get(a+(l.content||""))){for(E=0;E<T.length;E++)if(h=T[E],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(E,1);break t}}h=p.createElement(a),lt(h,a,l),p.head.appendChild(h);break;default:throw Error(s(468,a))}h[tt]=e,Ze(h),a=h}e.stateNode=a}else am(p,e.type,e.stateNode);else e.stateNode=lm(p,a,e.memoizedProps);else h!==a?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,a===null?am(p,e.type,e.stateNode):lm(p,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Dr(e,e.memoizedProps,l.memoizedProps)}break;case 27:mt(n,e),ht(e),a&512&&(Qe||l===null||Wt(l,l.return)),l!==null&&a&4&&Dr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(mt(n,e),ht(e),a&512&&(Qe||l===null||Wt(l,l.return)),e.flags&32){p=e.stateNode;try{xi(p,"")}catch(oe){Ue(e,e.return,oe)}}a&4&&e.stateNode!=null&&(p=e.memoizedProps,Dr(e,p,l!==null?l.memoizedProps:p)),a&1024&&(zr=!0);break;case 6:if(mt(n,e),ht(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(oe){Ue(e,e.return,oe)}}break;case 3:if(Es=null,p=Jt,Jt=Ss(n.containerInfo),mt(n,e),Jt=p,ht(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{no(n.containerInfo)}catch(oe){Ue(e,e.return,oe)}zr&&(zr=!1,ap(e));break;case 4:a=Jt,Jt=Ss(e.stateNode.containerInfo),mt(n,e),ht(e),Jt=a;break;case 12:mt(n,e),ht(e);break;case 31:mt(n,e),ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,as(e,a)));break;case 13:mt(n,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(us=_t()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,as(e,a)));break;case 22:p=e.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,k=dn,O=Qe;if(dn=k||p,Qe=O||N,mt(n,e),Qe=O,dn=k,ht(e),a&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(l===null||N||dn||Qe||pi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){N=l=n;try{if(h=N.stateNode,p)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=N.stateNode;var X=N.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(oe){Ue(N,N.return,oe)}}}else if(n.tag===6){if(l===null){N=n;try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(oe){Ue(N,N.return,oe)}}}else if(n.tag===18){if(l===null){N=n;try{var V=N.stateNode;p?$p(V,!0):$p(N.stateNode,!1)}catch(oe){Ue(N,N.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,as(e,l))));break;case 19:mt(n,e),ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,as(e,a)));break;case 30:break;case 21:break;default:mt(n,e),ht(e)}}function ht(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(Wd(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var p=l.stateNode,h=Ur(e);ss(e,h,p);break;case 5:var T=l.stateNode;l.flags&32&&(xi(T,""),l.flags&=-33);var E=Ur(e);ss(e,E,T);break;case 3:case 4:var N=l.stateNode.containerInfo,k=Ur(e);Lr(e,k,N);break;default:throw Error(s(161))}}catch(O){Ue(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ap(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function mn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(e,n.alternate,n),n=n.sibling}function pi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zn(4,n,n.return),pi(n);break;case 1:Wt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&$d(n,n.return,l),pi(n);break;case 27:tl(n.stateNode);case 26:case 5:Wt(n,n.return),pi(n);break;case 22:n.memoizedState===null&&pi(n);break;case 30:pi(n);break;default:pi(n)}e=e.sibling}}function hn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,p=e,h=n,T=h.flags;switch(h.tag){case 0:case 11:case 15:hn(p,h,l),Fo(4,h);break;case 1:if(hn(p,h,l),a=h,p=a.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(k){Ue(a,a.return,k)}if(a=h,p=a.updateQueue,p!==null){var E=a.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)Hf(N[p],E)}catch(k){Ue(a,a.return,k)}}l&&T&64&&Qd(h),Yo(h,h.return);break;case 27:jd(h);case 26:case 5:hn(p,h,l),l&&a===null&&T&4&&Zd(h),Yo(h,h.return);break;case 12:hn(p,h,l);break;case 31:hn(p,h,l),l&&T&4&&op(p,h);break;case 13:hn(p,h,l),l&&T&4&&lp(p,h);break;case 22:h.memoizedState===null&&hn(p,h,l),Yo(h,h.return);break;case 30:break;default:hn(p,h,l)}n=n.sibling}}function Gr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Do(l))}function kr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Do(e))}function Ft(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(e,n,l,a),n=n.sibling}function rp(e,n,l,a){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Ft(e,n,l,a),p&2048&&Fo(9,n);break;case 1:Ft(e,n,l,a);break;case 3:Ft(e,n,l,a),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Do(e)));break;case 12:if(p&2048){Ft(e,n,l,a),e=n.stateNode;try{var h=n.memoizedProps,T=h.id,E=h.onPostCommit;typeof E=="function"&&E(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Ue(n,n.return,N)}}else Ft(e,n,l,a);break;case 31:Ft(e,n,l,a);break;case 13:Ft(e,n,l,a);break;case 23:break;case 22:h=n.stateNode,T=n.alternate,n.memoizedState!==null?h._visibility&2?Ft(e,n,l,a):Ko(e,n):h._visibility&2?Ft(e,n,l,a):(h._visibility|=2,Fi(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),p&2048&&Gr(T,n);break;case 24:Ft(e,n,l,a),p&2048&&kr(n.alternate,n);break;default:Ft(e,n,l,a)}}function Fi(e,n,l,a,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,T=n,E=l,N=a,k=T.flags;switch(T.tag){case 0:case 11:case 15:Fi(h,T,E,N,p),Fo(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?Fi(h,T,E,N,p):Ko(h,T):(O._visibility|=2,Fi(h,T,E,N,p)),p&&k&2048&&Gr(T.alternate,T);break;case 24:Fi(h,T,E,N,p),p&&k&2048&&kr(T.alternate,T);break;default:Fi(h,T,E,N,p)}n=n.sibling}}function Ko(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,p=a.flags;switch(a.tag){case 22:Ko(l,a),p&2048&&Gr(a.alternate,a);break;case 24:Ko(l,a),p&2048&&kr(a.alternate,a);break;default:Ko(l,a)}n=n.sibling}}var Xo=8192;function Yi(e,n,l){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)up(e,n,l),e=e.sibling}function up(e,n,l){switch(e.tag){case 26:Yi(e,n,l),e.flags&Xo&&e.memoizedState!==null&&qy(l,Jt,e.memoizedState,e.memoizedProps);break;case 5:Yi(e,n,l);break;case 3:case 4:var a=Jt;Jt=Ss(e.stateNode.containerInfo),Yi(e,n,l),Jt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Xo,Xo=16777216,Yi(e,n,l),Xo=a):Yi(e,n,l));break;default:Yi(e,n,l)}}function cp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];We=a,dp(a,e)}cp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fp(e),e=e.sibling}function fp(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&zn(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,rs(e)):Qo(e);break;default:Qo(e)}}function rs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];We=a,dp(a,e)}cp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zn(8,n,n.return),rs(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,rs(n));break;default:rs(n)}e=e.sibling}}function dp(e,n){for(;We!==null;){var l=We;switch(l.tag){case 0:case 11:case 15:zn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Do(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,We=a;else e:for(l=e;We!==null;){a=We;var p=a.sibling,h=a.return;if(np(a),a===l){We=null;break e}if(p!==null){p.return=h,We=p;break e}We=h}}}var ty={getCacheForType:function(e){var n=it(Ye),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return it(Ye).controller.signal}},ny=typeof WeakMap=="function"?WeakMap:Map,Re=0,ke=null,Te=null,Ce=0,De=0,wt=null,Gn=!1,Ki=!1,Hr=!1,gn=0,Pe=0,kn=0,mi=0,Br=0,bt=0,Xi=0,$o=null,gt=null,qr=!1,us=0,pp=0,cs=1/0,fs=null,Hn=null,$e=0,Bn=null,Qi=null,vn=0,Vr=0,Pr=null,mp=null,Zo=0,Or=null;function Nt(){return(Re&2)!==0&&Ce!==0?Ce&-Ce:P.T!==null?Qr():Ic()}function hp(){if(bt===0)if((Ce&536870912)===0||xe){var e=_l;_l<<=1,(_l&3932160)===0&&(_l=262144),bt=e}else bt=536870912;return e=At.current,e!==null&&(e.flags|=32),bt}function vt(e,n,l){(e===ke&&(De===2||De===9)||e.cancelPendingCommit!==null)&&($i(e,0),qn(e,Ce,bt,!1)),yo(e,l),((Re&2)===0||e!==ke)&&(e===ke&&((Re&2)===0&&(mi|=l),Pe===4&&qn(e,Ce,bt,!1)),jt(e))}function gp(e,n,l){if((Re&6)!==0)throw Error(s(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||vo(e,n),p=a?ly(e,n):Fr(e,n,!0),h=a;do{if(p===0){Ki&&!a&&qn(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!iy(l)){p=Fr(e,n,!1),h=!1;continue}if(p===2){if(h=n,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var E=e;p=$o;var N=E.current.memoizedState.isDehydrated;if(N&&($i(E,T).flags|=256),T=Fr(E,T,!1),T!==2){if(Hr&&!N){E.errorRecoveryDisabledLanes|=h,mi|=h,p=4;break e}h=gt,gt=p,h!==null&&(gt===null?gt=h:gt.push.apply(gt,h))}p=T}if(h=!1,p!==2)continue}}if(p===1){$i(e,0),qn(e,n,0,!0);break}e:{switch(a=e,h=p,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:qn(a,n,bt,!Gn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(p=us+300-_t(),10<p)){if(qn(a,n,bt,!Gn),Sl(a,0,!0)!==0)break e;vn=n,a.timeoutHandle=Kp(vp.bind(null,a,l,gt,fs,qr,n,bt,mi,Xi,Gn,h,"Throttled",-0,0),p);break e}vp(a,l,gt,fs,qr,n,bt,mi,Xi,Gn,h,null,-0,0)}}break}while(!0);jt(e)}function vp(e,n,l,a,p,h,T,E,N,k,O,X,B,V){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},up(n,h,X);var oe=(h&62914560)===h?us-_t():(h&4194048)===h?pp-_t():0;if(oe=Vy(X,oe),oe!==null){vn=h,e.cancelPendingCommit=oe(xp.bind(null,e,n,h,l,a,p,T,E,N,O,X,null,B,V)),qn(e,h,T,!k);return}}xp(e,n,h,l,a,p,T,E,N)}function iy(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var p=l[a],h=p.getSnapshot;p=p.value;try{if(!Ct(h(),p))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qn(e,n,l,a){n&=~Br,n&=~mi,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var p=n;0<p;){var h=31-St(p),T=1<<h;a[h]=-1,p&=~T}l!==0&&wc(e,l,n)}function ds(){return(Re&6)===0?(Wo(0),!1):!0}function Jr(){if(Te!==null){if(De===0)var e=Te.return;else e=Te,sn=li=null,sr(e),qi=null,Lo=0,e=Te;for(;e!==null;)Xd(e.alternate,e),e=e.return;Te=null}}function $i(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Ey(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),vn=0,Jr(),ke=e,Te=l=on(e.current,null),Ce=n,De=0,wt=null,Gn=!1,Ki=vo(e,n),Hr=!1,Xi=bt=Br=mi=kn=Pe=0,gt=$o=null,qr=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var p=31-St(a),h=1<<p;n|=e[p],a&=~h}return gn=n,Ul(),l}function yp(e,n){ve=null,P.H=Po,n===Bi||n===Vl?(n=Lf(),De=3):n===Xa?(n=Lf(),De=4):De=n===Cr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wt=n,Te===null&&(Pe=1,ts(e,Ut(n,e.current)))}function _p(){var e=At.current;return e===null?!0:(Ce&4194048)===Ce?kt===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===kt:!1}function Tp(){var e=P.H;return P.H=Po,e===null?Po:e}function Sp(){var e=P.A;return P.A=ty,e}function ps(){Pe=4,Gn||(Ce&4194048)!==Ce&&At.current!==null||(Ki=!0),(kn&134217727)===0&&(mi&134217727)===0||ke===null||qn(ke,Ce,bt,!1)}function Fr(e,n,l){var a=Re;Re|=2;var p=Tp(),h=Sp();(ke!==e||Ce!==n)&&(fs=null,$i(e,n)),n=!1;var T=Pe;e:do try{if(De!==0&&Te!==null){var E=Te,N=wt;switch(De){case 8:Jr(),T=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(n=!0);var k=De;if(De=0,wt=null,Zi(e,E,N,k),l&&Ki){T=0;break e}break;default:k=De,De=0,wt=null,Zi(e,E,N,k)}}oy(),T=Pe;break}catch(O){yp(e,O)}while(!0);return n&&e.shellSuspendCounter++,sn=li=null,Re=a,P.H=p,P.A=h,Te===null&&(ke=null,Ce=0,Ul()),T}function oy(){for(;Te!==null;)Cp(Te)}function ly(e,n){var l=Re;Re|=2;var a=Tp(),p=Sp();ke!==e||Ce!==n?(fs=null,cs=_t()+500,$i(e,n)):Ki=vo(e,n);e:do try{if(De!==0&&Te!==null){n=Te;var h=wt;t:switch(De){case 1:De=0,wt=null,Zi(e,n,h,1);break;case 2:case 9:if(Df(h)){De=0,wt=null,Ep(n);break}n=function(){De!==2&&De!==9||ke!==e||(De=7),jt(e)},h.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Df(h)?(De=0,wt=null,Ep(n)):(De=0,wt=null,Zi(e,n,h,7));break;case 5:var T=null;switch(Te.tag){case 26:T=Te.memoizedState;case 5:case 27:var E=Te;if(T?rm(T):E.stateNode.complete){De=0,wt=null;var N=E.sibling;if(N!==null)Te=N;else{var k=E.return;k!==null?(Te=k,ms(k)):Te=null}break t}}De=0,wt=null,Zi(e,n,h,5);break;case 6:De=0,wt=null,Zi(e,n,h,6);break;case 8:Jr(),Pe=6;break e;default:throw Error(s(462))}}sy();break}catch(O){yp(e,O)}while(!0);return sn=li=null,P.H=a,P.A=p,Re=l,Te!==null?0:(ke=null,Ce=0,Ul(),Pe)}function sy(){for(;Te!==null&&!Ig();)Cp(Te)}function Cp(e){var n=Yd(e.alternate,e,gn);e.memoizedProps=e.pendingProps,n===null?ms(e):Te=n}function Ep(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=qd(l,n,n.pendingProps,n.type,void 0,Ce);break;case 11:n=qd(l,n,n.pendingProps,n.type.render,n.ref,Ce);break;case 5:sr(n);default:Xd(l,n),n=Te=Sf(n,gn),n=Yd(l,n,gn)}e.memoizedProps=e.pendingProps,n===null?ms(e):Te=n}function Zi(e,n,l,a){sn=li=null,sr(n),qi=null,Lo=0;var p=n.return;try{if(Xv(e,p,n,l,Ce)){Pe=1,ts(e,Ut(l,e.current)),Te=null;return}}catch(h){if(p!==null)throw Te=p,h;Pe=1,ts(e,Ut(l,e.current)),Te=null;return}n.flags&32768?(xe||a===1?e=!0:Ki||(Ce&536870912)!==0?e=!1:(Gn=e=!0,(a===2||a===9||a===3||a===6)&&(a=At.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ap(n,e)):ms(n)}function ms(e){var n=e;do{if((n.flags&32768)!==0){Ap(n,Gn);return}e=n.return;var l=Zv(n.alternate,n,gn);if(l!==null){Te=l;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);Pe===0&&(Pe=5)}function Ap(e,n){do{var l=Wv(e.alternate,e);if(l!==null){l.flags&=32767,Te=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Te=e;return}Te=e=l}while(e!==null);Pe=6,Te=null}function xp(e,n,l,a,p,h,T,E,N){e.cancelPendingCommit=null;do hs();while($e!==0);if((Re&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Ua,Bg(e,l,h,T,E,N),e===ke&&(Te=ke=null,Ce=0),Qi=n,Bn=e,vn=l,Vr=h,Pr=p,mp=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cy(vl,function(){return Rp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=P.T,P.T=null,p=Y.p,Y.p=2,T=Re,Re|=4;try{jv(e,n,l)}finally{Re=T,Y.p=p,P.T=a}}$e=1,wp(),bp(),Np()}}function wp(){if($e===1){$e=0;var e=Bn,n=Qi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null;var a=Y.p;Y.p=2;var p=Re;Re|=4;try{sp(n,e);var h=iu,T=df(e.containerInfo),E=h.focusedElem,N=h.selectionRange;if(T!==E&&E&&E.ownerDocument&&ff(E.ownerDocument.documentElement,E)){if(N!==null&&Na(E)){var k=N.start,O=N.end;if(O===void 0&&(O=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(O,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var V=B.getSelection(),oe=E.textContent.length,de=Math.min(N.start,oe),Ge=N.end===void 0?de:Math.min(N.end,oe);!V.extend&&de>Ge&&(T=Ge,Ge=de,de=T);var D=cf(E,de),M=cf(E,Ge);if(D&&M&&(V.rangeCount!==1||V.anchorNode!==D.node||V.anchorOffset!==D.offset||V.focusNode!==M.node||V.focusOffset!==M.offset)){var G=X.createRange();G.setStart(D.node,D.offset),V.removeAllRanges(),de>Ge?(V.addRange(G),V.extend(M.node,M.offset)):(G.setEnd(M.node,M.offset),V.addRange(G))}}}}for(X=[],V=E;V=V.parentNode;)V.nodeType===1&&X.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bs=!!nu,iu=nu=null}finally{Re=p,Y.p=a,P.T=l}}e.current=n,$e=2}}function bp(){if($e===2){$e=0;var e=Bn,n=Qi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=P.T,P.T=null;var a=Y.p;Y.p=2;var p=Re;Re|=4;try{tp(e,n.alternate,n)}finally{Re=p,Y.p=a,P.T=l}}$e=3}}function Np(){if($e===4||$e===3){$e=0,Rg();var e=Bn,n=Qi,l=vn,a=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Qi=Bn=null,Ip(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Hn=null),ua(l),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(go,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=P.T,p=Y.p,Y.p=2,P.T=null;try{for(var h=e.onRecoverableError,T=0;T<a.length;T++){var E=a[T];h(E.value,{componentStack:E.stack})}}finally{P.T=n,Y.p=p}}(vn&3)!==0&&hs(),jt(e),p=e.pendingLanes,(l&261930)!==0&&(p&42)!==0?e===Or?Zo++:(Zo=0,Or=e):Zo=0,Wo(0)}}function Ip(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Do(n)))}function hs(){return wp(),bp(),Np(),Rp()}function Rp(){if($e!==5)return!1;var e=Bn,n=Vr;Vr=0;var l=ua(vn),a=P.T,p=Y.p;try{Y.p=32>l?32:l,P.T=null,l=Pr,Pr=null;var h=Bn,T=vn;if($e=0,Qi=Bn=null,vn=0,(Re&6)!==0)throw Error(s(331));var E=Re;if(Re|=4,fp(h.current),rp(h,h.current,T,l),Re=E,Wo(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(go,h)}catch{}return!0}finally{Y.p=p,P.T=a,Ip(e,n)}}function Mp(e,n,l){n=Ut(l,n),n=Sr(e.stateNode,n,2),e=Dn(e,n,2),e!==null&&(yo(e,2),jt(e))}function Ue(e,n,l){if(e.tag===3)Mp(e,e,l);else for(;n!==null;){if(n.tag===3){Mp(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Hn===null||!Hn.has(a))){e=Ut(l,e),l=Dd(2),a=Dn(n,l,2),a!==null&&(Ud(l,a,n,e),yo(a,2),jt(a));break}}n=n.return}}function Yr(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new ny;var p=new Set;a.set(n,p)}else p=a.get(n),p===void 0&&(p=new Set,a.set(n,p));p.has(l)||(Hr=!0,p.add(l),e=ay.bind(null,e,n,l),n.then(e,e))}function ay(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ke===e&&(Ce&l)===l&&(Pe===4||Pe===3&&(Ce&62914560)===Ce&&300>_t()-us?(Re&2)===0&&$i(e,0):Br|=l,Xi===Ce&&(Xi=0)),jt(e)}function Dp(e,n){n===0&&(n=xc()),e=ni(e,n),e!==null&&(yo(e,n),jt(e))}function ry(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Dp(e,l)}function uy(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),Dp(e,l)}function cy(e,n){return la(e,n)}var gs=null,Wi=null,Kr=!1,vs=!1,Xr=!1,Vn=0;function jt(e){e!==Wi&&e.next===null&&(Wi===null?gs=Wi=e:Wi=Wi.next=e),vs=!0,Kr||(Kr=!0,dy())}function Wo(e,n){if(!Xr&&vs){Xr=!0;do for(var l=!1,a=gs;a!==null;){if(e!==0){var p=a.pendingLanes;if(p===0)var h=0;else{var T=a.suspendedLanes,E=a.pingedLanes;h=(1<<31-St(42|e)+1)-1,h&=p&~(T&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,Gp(a,h))}else h=Ce,h=Sl(a,a===ke?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||vo(a,h)||(l=!0,Gp(a,h));a=a.next}while(l);Xr=!1}}function fy(){Up()}function Up(){vs=Kr=!1;var e=0;Vn!==0&&Cy()&&(e=Vn);for(var n=_t(),l=null,a=gs;a!==null;){var p=a.next,h=Lp(a,n);h===0?(a.next=null,l===null?gs=p:l.next=p,p===null&&(Wi=l)):(l=a,(e!==0||(h&3)!==0)&&(vs=!0)),a=p}$e!==0&&$e!==5||Wo(e),Vn!==0&&(Vn=0)}function Lp(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,p=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-St(h),E=1<<T,N=p[T];N===-1?((E&l)===0||(E&a)!==0)&&(p[T]=Hg(E,n)):N<=n&&(e.expiredLanes|=E),h&=~E}if(n=ke,l=Ce,l=Sl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&sa(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||vo(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&sa(a),ua(l)){case 2:case 8:l=Ec;break;case 32:l=vl;break;case 268435456:l=Ac;break;default:l=vl}return a=zp.bind(null,e),l=la(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&sa(a),e.callbackPriority=2,e.callbackNode=null,2}function zp(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(hs()&&e.callbackNode!==l)return null;var a=Ce;return a=Sl(e,e===ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(gp(e,a,n),Lp(e,_t()),e.callbackNode!=null&&e.callbackNode===l?zp.bind(null,e):null)}function Gp(e,n){if(hs())return null;gp(e,n,!0)}function dy(){Ay(function(){(Re&6)!==0?la(Cc,fy):Up()})}function Qr(){if(Vn===0){var e=ki;e===0&&(e=yl,yl<<=1,(yl&261888)===0&&(yl=256)),Vn=e}return Vn}function kp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xl(""+e)}function Hp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function py(e,n,l,a,p){if(n==="submit"&&l&&l.stateNode===p){var h=kp((p[ft]||null).action),T=a.submitter;T&&(n=(n=T[ft]||null)?kp(n.formAction):T.getAttribute("formAction"),n!==null&&(h=n,T=null));var E=new Il("action","action",null,a,p);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Vn!==0){var N=T?Hp(p,T):new FormData(p);hr(l,{pending:!0,data:N,method:p.method,action:h},null,N)}}else typeof h=="function"&&(E.preventDefault(),N=T?Hp(p,T):new FormData(p),hr(l,{pending:!0,data:N,method:p.method,action:h},h,N))},currentTarget:p}]})}}for(var $r=0;$r<Da.length;$r++){var Zr=Da[$r],my=Zr.toLowerCase(),hy=Zr[0].toUpperCase()+Zr.slice(1);Ot(my,"on"+hy)}Ot(hf,"onAnimationEnd"),Ot(gf,"onAnimationIteration"),Ot(vf,"onAnimationStart"),Ot("dblclick","onDoubleClick"),Ot("focusin","onFocus"),Ot("focusout","onBlur"),Ot(Mv,"onTransitionRun"),Ot(Dv,"onTransitionStart"),Ot(Uv,"onTransitionCancel"),Ot(yf,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function Bp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],p=a.event;a=a.listeners;e:{var h=void 0;if(n)for(var T=a.length-1;0<=T;T--){var E=a[T],N=E.instance,k=E.currentTarget;if(E=E.listener,N!==h&&p.isPropagationStopped())break e;h=E,p.currentTarget=k;try{h(p)}catch(O){Dl(O)}p.currentTarget=null,h=N}else for(T=0;T<a.length;T++){if(E=a[T],N=E.instance,k=E.currentTarget,E=E.listener,N!==h&&p.isPropagationStopped())break e;h=E,p.currentTarget=k;try{h(p)}catch(O){Dl(O)}p.currentTarget=null,h=N}}}}function Se(e,n){var l=n[ca];l===void 0&&(l=n[ca]=new Set);var a=e+"__bubble";l.has(a)||(qp(n,e,2,!1),l.add(a))}function Wr(e,n,l){var a=0;n&&(a|=4),qp(l,e,a,n)}var ys="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[ys]){e[ys]=!0,Dc.forEach(function(l){l!=="selectionchange"&&(gy.has(l)||Wr(l,!1,e),Wr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ys]||(n[ys]=!0,Wr("selectionchange",!1,n))}}function qp(e,n,l,a){switch(hm(n)){case 2:var p=Jy;break;case 8:p=Fy;break;default:p=mu}l=p.bind(null,n,l,e),p=void 0,!_a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),a?p!==void 0?e.addEventListener(n,l,{capture:!0,passive:p}):e.addEventListener(n,l,!0):p!==void 0?e.addEventListener(n,l,{passive:p}):e.addEventListener(n,l,!1)}function eu(e,n,l,a,p){var h=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var E=a.stateNode.containerInfo;if(E===p)break;if(T===4)for(T=a.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;E!==null;){if(T=Ti(E),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){a=h=T;continue e}E=E.parentNode}}a=a.return}Jc(function(){var k=h,O=va(l),X=[];e:{var B=_f.get(e);if(B!==void 0){var V=Il,oe=e;switch(e){case"keypress":if(bl(l)===0)break e;case"keydown":case"keyup":V=uv;break;case"focusin":oe="focus",V=Ea;break;case"focusout":oe="blur",V=Ea;break;case"beforeblur":case"afterblur":V=Ea;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=dv;break;case hf:case gf:case vf:V=ev;break;case yf:V=mv;break;case"scroll":case"scrollend":V=Qg;break;case"wheel":V=gv;break;case"copy":case"cut":case"paste":V=nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Qc;break;case"toggle":case"beforetoggle":V=yv}var de=(n&4)!==0,Ge=!de&&(e==="scroll"||e==="scrollend"),D=de?B!==null?B+"Capture":null:B;de=[];for(var M=k,G;M!==null;){var K=M;if(G=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||G===null||D===null||(K=So(M,D),K!=null&&de.push(el(M,K,G))),Ge)break;M=M.return}0<de.length&&(B=new V(B,oe,null,l,O),X.push({event:B,listeners:de}))}}if((n&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",B&&l!==ga&&(oe=l.relatedTarget||l.fromElement)&&(Ti(oe)||oe[_i]))break e;if((V||B)&&(B=O.window===O?O:(B=O.ownerDocument)?B.defaultView||B.parentWindow:window,V?(oe=l.relatedTarget||l.toElement,V=k,oe=oe?Ti(oe):null,oe!==null&&(Ge=c(oe),de=oe.tag,oe!==Ge||de!==5&&de!==27&&de!==6)&&(oe=null)):(V=null,oe=k),V!==oe)){if(de=Kc,K="onMouseLeave",D="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(de=Qc,K="onPointerLeave",D="onPointerEnter",M="pointer"),Ge=V==null?B:To(V),G=oe==null?B:To(oe),B=new de(K,M+"leave",V,l,O),B.target=Ge,B.relatedTarget=G,K=null,Ti(O)===k&&(de=new de(D,M+"enter",oe,l,O),de.target=G,de.relatedTarget=Ge,K=de),Ge=K,V&&oe)t:{for(de=vy,D=V,M=oe,G=0,K=D;K;K=de(K))G++;K=0;for(var ce=M;ce;ce=de(ce))K++;for(;0<G-K;)D=de(D),G--;for(;0<K-G;)M=de(M),K--;for(;G--;){if(D===M||M!==null&&D===M.alternate){de=D;break t}D=de(D),M=de(M)}de=null}else de=null;V!==null&&Vp(X,B,V,de,!1),oe!==null&&Ge!==null&&Vp(X,Ge,oe,de,!0)}}e:{if(B=k?To(k):window,V=B.nodeName&&B.nodeName.toLowerCase(),V==="select"||V==="input"&&B.type==="file")var be=of;else if(tf(B))if(lf)be=Nv;else{be=wv;var se=xv}else V=B.nodeName,!V||V.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&ha(k.elementType)&&(be=of):be=bv;if(be&&(be=be(e,k))){nf(X,be,l,O);break e}se&&se(e,B,k),e==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&ma(B,"number",B.value)}switch(se=k?To(k):window,e){case"focusin":(tf(se)||se.contentEditable==="true")&&(Ii=se,Ia=k,Io=null);break;case"focusout":Io=Ia=Ii=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,pf(X,l,O);break;case"selectionchange":if(Rv)break;case"keydown":case"keyup":pf(X,l,O)}var ye;if(xa)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ni?jc(e,l)&&(Ee="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&($c&&l.locale!=="ko"&&(Ni||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ni&&(ye=Fc()):(xn=O,Ta="value"in xn?xn.value:xn.textContent,Ni=!0)),se=_s(k,Ee),0<se.length&&(Ee=new Xc(Ee,e,null,l,O),X.push({event:Ee,listeners:se}),ye?Ee.data=ye:(ye=ef(l),ye!==null&&(Ee.data=ye)))),(ye=Tv?Sv(e,l):Cv(e,l))&&(Ee=_s(k,"onBeforeInput"),0<Ee.length&&(se=new Xc("onBeforeInput","beforeinput",null,l,O),X.push({event:se,listeners:Ee}),se.data=ye)),py(X,e,k,l,O)}Bp(X,n)})}function el(e,n,l){return{instance:e,listener:n,currentTarget:l}}function _s(e,n){for(var l=n+"Capture",a=[];e!==null;){var p=e,h=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||h===null||(p=So(e,l),p!=null&&a.unshift(el(e,p,h)),p=So(e,n),p!=null&&a.push(el(e,p,h))),e.tag===3)return a;e=e.return}return[]}function vy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vp(e,n,l,a,p){for(var h=n._reactName,T=[];l!==null&&l!==a;){var E=l,N=E.alternate,k=E.stateNode;if(E=E.tag,N!==null&&N===a)break;E!==5&&E!==26&&E!==27||k===null||(N=k,p?(k=So(l,h),k!=null&&T.unshift(el(l,k,N))):p||(k=So(l,h),k!=null&&T.push(el(l,k,N)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var yy=/\r\n?/g,_y=/\u0000|\uFFFD/g;function Pp(e){return(typeof e=="string"?e:""+e).replace(yy,`
`).replace(_y,"")}function Op(e,n){return n=Pp(n),Pp(e)===n}function ze(e,n,l,a,p,h){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||xi(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&xi(e,""+a);break;case"className":El(e,"class",a);break;case"tabIndex":El(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":El(e,l,a);break;case"style":Pc(e,a,h);break;case"data":if(n!=="object"){El(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=xl(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&ze(e,n,"name",p.name,p,null),ze(e,n,"formEncType",p.formEncType,p,null),ze(e,n,"formMethod",p.formMethod,p,null),ze(e,n,"formTarget",p.formTarget,p,null)):(ze(e,n,"encType",p.encType,p,null),ze(e,n,"method",p.method,p,null),ze(e,n,"target",p.target,p,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=xl(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=tn);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=xl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Cl(e,"popover",a);break;case"xlinkActuate":en(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":en(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":en(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":en(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":en(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":en(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":en(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":en(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":en(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Cl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Kg.get(l)||l,Cl(e,l,a))}}function tu(e,n,l,a,p,h){switch(l){case"style":Pc(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(p.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?xi(e,a):(typeof a=="number"||typeof a=="bigint")&&xi(e,""+a);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),n=l.slice(2,p?l.length-7:void 0),h=e[ft]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,p),typeof a=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,p);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Cl(e,l,a)}}}function lt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var a=!1,p=!1,h;for(h in l)if(l.hasOwnProperty(h)){var T=l[h];if(T!=null)switch(h){case"src":a=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ze(e,n,h,T,l,null)}}p&&ze(e,n,"srcSet",l.srcSet,l,null),a&&ze(e,n,"src",l.src,l,null);return;case"input":Se("invalid",e);var E=h=T=p=null,N=null,k=null;for(a in l)if(l.hasOwnProperty(a)){var O=l[a];if(O!=null)switch(a){case"name":p=O;break;case"type":T=O;break;case"checked":N=O;break;case"defaultChecked":k=O;break;case"value":h=O;break;case"defaultValue":E=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,n));break;default:ze(e,n,a,O,l,null)}}Hc(e,h,E,N,k,T,p,!1);return;case"select":Se("invalid",e),a=T=h=null;for(p in l)if(l.hasOwnProperty(p)&&(E=l[p],E!=null))switch(p){case"value":h=E;break;case"defaultValue":T=E;break;case"multiple":a=E;default:ze(e,n,p,E,l,null)}n=h,l=T,e.multiple=!!a,n!=null?Ai(e,!!a,n,!1):l!=null&&Ai(e,!!a,l,!0);return;case"textarea":Se("invalid",e),h=p=a=null;for(T in l)if(l.hasOwnProperty(T)&&(E=l[T],E!=null))switch(T){case"value":a=E;break;case"defaultValue":p=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ze(e,n,T,E,l,null)}qc(e,a,p,h);return;case"option":for(N in l)l.hasOwnProperty(N)&&(a=l[N],a!=null)&&(N==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":ze(e,n,N,a,l,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(a=0;a<jo.length;a++)Se(jo[a],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in l)if(l.hasOwnProperty(k)&&(a=l[k],a!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ze(e,n,k,a,l,null)}return;default:if(ha(n)){for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!==void 0&&tu(e,n,O,a,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(a=l[E],a!=null&&ze(e,n,E,a,l,null))}function Ty(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,h=null,T=null,E=null,N=null,k=null,O=null;for(V in l){var X=l[V];if(l.hasOwnProperty(V)&&X!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":N=X;default:a.hasOwnProperty(V)||ze(e,n,V,null,a,X)}}for(var B in a){var V=a[B];if(X=l[B],a.hasOwnProperty(B)&&(V!=null||X!=null))switch(B){case"type":h=V;break;case"name":p=V;break;case"checked":k=V;break;case"defaultChecked":O=V;break;case"value":T=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,n));break;default:V!==X&&ze(e,n,B,V,a,X)}}pa(e,T,E,N,k,O,h,p);return;case"select":V=T=E=B=null;for(h in l)if(N=l[h],l.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":V=N;default:a.hasOwnProperty(h)||ze(e,n,h,null,a,N)}for(p in a)if(h=a[p],N=l[p],a.hasOwnProperty(p)&&(h!=null||N!=null))switch(p){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":T=h;default:h!==N&&ze(e,n,p,h,a,N)}n=E,l=T,a=V,B!=null?Ai(e,!!l,B,!1):!!a!=!!l&&(n!=null?Ai(e,!!l,n,!0):Ai(e,!!l,l?[]:"",!1));return;case"textarea":V=B=null;for(E in l)if(p=l[E],l.hasOwnProperty(E)&&p!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ze(e,n,E,null,a,p)}for(T in a)if(p=a[T],h=l[T],a.hasOwnProperty(T)&&(p!=null||h!=null))switch(T){case"value":B=p;break;case"defaultValue":V=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==h&&ze(e,n,T,p,a,h)}Bc(e,B,V);return;case"option":for(var oe in l)B=l[oe],l.hasOwnProperty(oe)&&B!=null&&!a.hasOwnProperty(oe)&&(oe==="selected"?e.selected=!1:ze(e,n,oe,null,a,B));for(N in a)B=a[N],V=l[N],a.hasOwnProperty(N)&&B!==V&&(B!=null||V!=null)&&(N==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ze(e,n,N,B,a,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in l)B=l[de],l.hasOwnProperty(de)&&B!=null&&!a.hasOwnProperty(de)&&ze(e,n,de,null,a,B);for(k in a)if(B=a[k],V=l[k],a.hasOwnProperty(k)&&B!==V&&(B!=null||V!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:ze(e,n,k,B,a,V)}return;default:if(ha(n)){for(var Ge in l)B=l[Ge],l.hasOwnProperty(Ge)&&B!==void 0&&!a.hasOwnProperty(Ge)&&tu(e,n,Ge,void 0,a,B);for(O in a)B=a[O],V=l[O],!a.hasOwnProperty(O)||B===V||B===void 0&&V===void 0||tu(e,n,O,B,a,V);return}}for(var D in l)B=l[D],l.hasOwnProperty(D)&&B!=null&&!a.hasOwnProperty(D)&&ze(e,n,D,null,a,B);for(X in a)B=a[X],V=l[X],!a.hasOwnProperty(X)||B===V||B==null&&V==null||ze(e,n,X,B,a,V)}function Jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var p=l[a],h=p.transferSize,T=p.initiatorType,E=p.duration;if(h&&E&&Jp(T)){for(T=0,E=p.responseEnd,a+=1;a<l.length;a++){var N=l[a],k=N.startTime;if(k>E)break;var O=N.transferSize,X=N.initiatorType;O&&Jp(X)&&(N=N.responseEnd,T+=O*(N<E?1:(E-k)/(N-k)))}if(--a,n+=8*(h+T)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nu=null,iu=null;function Ts(e){return e.nodeType===9?e:e.ownerDocument}function Fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ou(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lu=null;function Cy(){var e=window.event;return e&&e.type==="popstate"?e===lu?!1:(lu=e,!0):(lu=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,Ey=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,Ay=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(xy)}:Kp;function xy(e){setTimeout(function(){throw e})}function Pn(e){return e==="head"}function Qp(e,n){var l=n,a=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(p),no(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")tl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,tl(l);for(var h=l.firstChild;h;){var T=h.nextSibling,E=h.nodeName;h[_o]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=T}}else l==="body"&&tl(e.ownerDocument.body);l=p}while(l);no(n)}function $p(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function su(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":su(l),fa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function wy(e,n,l,a){for(;e.nodeType===1;){var p=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[_o])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function by(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ht(e.nextSibling),e===null))return null;return e}function Zp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function au(e){return e.data==="$?"||e.data==="$~"}function ru(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ny(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var uu=null;function Wp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ht(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function jp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function em(e,n,l){switch(n=Ts(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);fa(e)}var Bt=new Map,tm=new Set;function Ss(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=Y.d;Y.d={f:Iy,r:Ry,D:My,C:Dy,L:Uy,m:Ly,X:Gy,S:zy,M:ky};function Iy(){var e=yn.f(),n=ds();return e||n}function Ry(e){var n=Si(e);n!==null&&n.tag===5&&n.type==="form"?yd(n):yn.r(e)}var ji=typeof document>"u"?null:document;function nm(e,n,l){var a=ji;if(a&&typeof n=="string"&&n){var p=Mt(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),tm.has(p)||(tm.add(p),e={rel:e,crossOrigin:l,href:n},a.querySelector(p)===null&&(n=a.createElement("link"),lt(n,"link",e),Ze(n),a.head.appendChild(n)))}}function My(e){yn.D(e),nm("dns-prefetch",e,null)}function Dy(e,n){yn.C(e,n),nm("preconnect",e,n)}function Uy(e,n,l){yn.L(e,n,l);var a=ji;if(a&&e&&n){var p='link[rel="preload"][as="'+Mt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Mt(l.imageSizes)+'"]')):p+='[href="'+Mt(e)+'"]';var h=p;switch(n){case"style":h=eo(e);break;case"script":h=to(e)}Bt.has(h)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Bt.set(h,e),a.querySelector(p)!==null||n==="style"&&a.querySelector(nl(h))||n==="script"&&a.querySelector(il(h))||(n=a.createElement("link"),lt(n,"link",e),Ze(n),a.head.appendChild(n)))}}function Ly(e,n){yn.m(e,n);var l=ji;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+Mt(a)+'"][href="'+Mt(e)+'"]',h=p;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=to(e)}if(!Bt.has(h)&&(e=S({rel:"modulepreload",href:e},n),Bt.set(h,e),l.querySelector(p)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(il(h)))return}a=l.createElement("link"),lt(a,"link",e),Ze(a),l.head.appendChild(a)}}}function zy(e,n,l){yn.S(e,n,l);var a=ji;if(a&&e){var p=Ci(a).hoistableStyles,h=eo(e);n=n||"default";var T=p.get(h);if(!T){var E={loading:0,preload:null};if(T=a.querySelector(nl(h)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Bt.get(h))&&cu(e,l);var N=T=a.createElement("link");Ze(N),lt(N,"link",e),N._p=new Promise(function(k,O){N.onload=k,N.onerror=O}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cs(T,n,a)}T={type:"stylesheet",instance:T,count:1,state:E},p.set(h,T)}}}function Gy(e,n){yn.X(e,n);var l=ji;if(l&&e){var a=Ci(l).hoistableScripts,p=to(e),h=a.get(p);h||(h=l.querySelector(il(p)),h||(e=S({src:e,async:!0},n),(n=Bt.get(p))&&fu(e,n),h=l.createElement("script"),Ze(h),lt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(p,h))}}function ky(e,n){yn.M(e,n);var l=ji;if(l&&e){var a=Ci(l).hoistableScripts,p=to(e),h=a.get(p);h||(h=l.querySelector(il(p)),h||(e=S({src:e,async:!0,type:"module"},n),(n=Bt.get(p))&&fu(e,n),h=l.createElement("script"),Ze(h),lt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(p,h))}}function im(e,n,l,a){var p=(p=ue.current)?Ss(p):null;if(!p)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=eo(l.href),l=Ci(p).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=eo(l.href);var h=Ci(p).hoistableStyles,T=h.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=p.querySelector(nl(e)))&&!h._p&&(T.instance=h,T.state.loading=5),Bt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bt.set(e,l),h||Hy(p,e,l,T.state))),n&&a===null)throw Error(s(528,""));return T}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=to(l),l=Ci(p).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function eo(e){return'href="'+Mt(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function om(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Hy(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),lt(n,"link",l),Ze(n),e.head.appendChild(n))}function to(e){return'[src="'+Mt(e)+'"]'}function il(e){return"script[async]"+e}function lm(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(a)return n.instance=a,Ze(a),a;var p=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ze(a),lt(a,"style",p),Cs(a,l.precedence,e),n.instance=a;case"stylesheet":p=eo(l.href);var h=e.querySelector(nl(p));if(h)return n.state.loading|=4,n.instance=h,Ze(h),h;a=om(l),(p=Bt.get(p))&&cu(a,p),h=(e.ownerDocument||e).createElement("link"),Ze(h);var T=h;return T._p=new Promise(function(E,N){T.onload=E,T.onerror=N}),lt(h,"link",a),n.state.loading|=4,Cs(h,l.precedence,e),n.instance=h;case"script":return h=to(l.src),(p=e.querySelector(il(h)))?(n.instance=p,Ze(p),p):(a=l,(p=Bt.get(h))&&(a=S({},l),fu(a,p)),e=e.ownerDocument||e,p=e.createElement("script"),Ze(p),lt(p,"link",a),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Cs(a,l.precedence,e));return n.instance}function Cs(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=a.length?a[a.length-1]:null,h=p,T=0;T<a.length;T++){var E=a[T];if(E.dataset.precedence===n)h=E;else if(h!==p)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function cu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Es=null;function sm(e,n,l){if(Es===null){var a=new Map,p=Es=new Map;p.set(l,a)}else p=Es,a=p.get(l),a||(a=new Map,p.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),p=0;p<l.length;p++){var h=l[p];if(!(h[_o]||h[tt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(n)||"";T=e+T;var E=a.get(T);E?E.push(h):a.set(T,[h])}}return a}function am(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function By(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function rm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qy(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=eo(a.href),h=n.querySelector(nl(p));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=As.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=h,Ze(h);return}h=n.ownerDocument||n,a=om(a),(p=Bt.get(p))&&cu(a,p),h=h.createElement("link"),Ze(h);var T=h;T._p=new Promise(function(E,N){T.onload=E,T.onerror=N}),lt(h,"link",a),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=As.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var du=0;function Vy(e,n){return e.stylesheets&&e.count===0&&ws(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&ws(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&du===0&&(du=62500*Sy());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ws(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>du?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(p)}}:null}function As(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ws(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xs=null;function ws(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xs=new Map,n.forEach(Py,e),xs=null,As.call(e))}function Py(e,n){if(!(n.state.loading&4)){var l=xs.get(e);if(l)var a=l.get(null);else{l=new Map,xs.set(e,l);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<p.length;h++){var T=p[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),a=T)}a&&l.set(null,a)}p=n.instance,T=p.getAttribute("data-precedence"),h=l.get(T)||a,h===a&&l.set(null,p),l.set(T,p),this.count++,a=As.bind(this),p.addEventListener("load",a),p.addEventListener("error",a),h?h.parentNode.insertBefore(p,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:L,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Oy(e,n,l,a,p,h,T,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.hiddenUpdates=aa(null),this.identifierPrefix=a,this.onUncaughtError=p,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function um(e,n,l,a,p,h,T,E,N,k,O,X){return e=new Oy(e,n,l,T,N,k,O,X,E),n=1,h===!0&&(n|=24),h=Et(3,null,null,n),e.current=h,h.stateNode=e,n=Fa(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:a,isDehydrated:l,cache:n},Qa(h),e}function cm(e){return e?(e=Di,e):Di}function fm(e,n,l,a,p,h){p=cm(p),a.context===null?a.context=p:a.pendingContext=p,a=Mn(n),a.payload={element:l},h=h===void 0?null:h,h!==null&&(a.callback=h),l=Dn(e,a,n),l!==null&&(vt(l,e,n),Go(l,e,n))}function dm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function pu(e,n){dm(e,n),(e=e.alternate)&&dm(e,n)}function pm(e){if(e.tag===13||e.tag===31){var n=ni(e,67108864);n!==null&&vt(n,e,67108864),pu(e,67108864)}}function mm(e){if(e.tag===13||e.tag===31){var n=Nt();n=ra(n);var l=ni(e,n);l!==null&&vt(l,e,n),pu(e,n)}}var bs=!0;function Jy(e,n,l,a){var p=P.T;P.T=null;var h=Y.p;try{Y.p=2,mu(e,n,l,a)}finally{Y.p=h,P.T=p}}function Fy(e,n,l,a){var p=P.T;P.T=null;var h=Y.p;try{Y.p=8,mu(e,n,l,a)}finally{Y.p=h,P.T=p}}function mu(e,n,l,a){if(bs){var p=hu(a);if(p===null)eu(e,n,a,Ns,l),gm(e,a);else if(Ky(p,e,n,l,a))a.stopPropagation();else if(gm(e,a),n&4&&-1<Yy.indexOf(e)){for(;p!==null;){var h=Si(p);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Zn(h.pendingLanes);if(T!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var N=1<<31-St(T);E.entanglements[1]|=N,T&=~N}jt(h),(Re&6)===0&&(cs=_t()+500,Wo(0))}}break;case 31:case 13:E=ni(h,2),E!==null&&vt(E,h,2),ds(),pu(h,2)}if(h=hu(a),h===null&&eu(e,n,a,Ns,l),h===p)break;p=h}p!==null&&a.stopPropagation()}else eu(e,n,a,null,l)}}function hu(e){return e=va(e),gu(e)}var Ns=null;function gu(e){if(Ns=null,e=Ti(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=d(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ns=e,null}function hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mg()){case Cc:return 2;case Ec:return 8;case vl:case Dg:return 32;case Ac:return 268435456;default:return 32}default:return 32}}var vu=!1,On=null,Jn=null,Fn=null,ll=new Map,sl=new Map,Yn=[],Yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gm(e,n){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function al(e,n,l,a,p,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:h,targetContainers:[p]},n!==null&&(n=Si(n),n!==null&&pm(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function Ky(e,n,l,a,p){switch(n){case"focusin":return On=al(On,e,n,l,a,p),!0;case"dragenter":return Jn=al(Jn,e,n,l,a,p),!0;case"mouseover":return Fn=al(Fn,e,n,l,a,p),!0;case"pointerover":var h=p.pointerId;return ll.set(h,al(ll.get(h)||null,e,n,l,a,p)),!0;case"gotpointercapture":return h=p.pointerId,sl.set(h,al(sl.get(h)||null,e,n,l,a,p)),!0}return!1}function vm(e){var n=Ti(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=d(l),n!==null){e.blockedOn=n,Rc(e.priority,function(){mm(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,Rc(e.priority,function(){mm(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=hu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);ga=a,l.target.dispatchEvent(a),ga=null}else return n=Si(l),n!==null&&pm(n),e.blockedOn=l,!1;n.shift()}return!0}function ym(e,n,l){Is(e)&&l.delete(n)}function Xy(){vu=!1,On!==null&&Is(On)&&(On=null),Jn!==null&&Is(Jn)&&(Jn=null),Fn!==null&&Is(Fn)&&(Fn=null),ll.forEach(ym),sl.forEach(ym)}function Rs(e,n){e.blockedOn===n&&(e.blockedOn=null,vu||(vu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Xy)))}var Ms=null;function _m(e){Ms!==e&&(Ms=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ms===e&&(Ms=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],p=e[n+2];if(typeof a!="function"){if(gu(a||l)===null)continue;break}var h=Si(l);h!==null&&(e.splice(n,3),n-=3,hr(h,{pending:!0,data:p,method:l.method,action:a},a,p))}}))}function no(e){function n(N){return Rs(N,e)}On!==null&&Rs(On,e),Jn!==null&&Rs(Jn,e),Fn!==null&&Rs(Fn,e),ll.forEach(n),sl.forEach(n);for(var l=0;l<Yn.length;l++){var a=Yn[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Yn.length&&(l=Yn[0],l.blockedOn===null);)vm(l),l.blockedOn===null&&Yn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var p=l[a],h=l[a+1],T=p[ft]||null;if(typeof h=="function")T||_m(l);else if(T){var E=null;if(h&&h.hasAttribute("formAction")){if(p=h,T=h[ft]||null)E=T.formAction;else if(gu(p)!==null)continue}else E=T.action;typeof E=="function"?l[a+1]=E:(l.splice(a,3),a-=3),_m(l)}}}function Tm(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function yu(e){this._internalRoot=e}Ds.prototype.render=yu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,a=Nt();fm(l,a,e,n,null,null)},Ds.prototype.unmount=yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;fm(e.current,2,null,e,null,null),ds(),n[_i]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ic();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Yn.length&&n!==0&&n<Yn[l].priority;l++);Yn.splice(l,0,e),l===0&&vm(e)}};var Sm=t.version;if(Sm!=="19.2.4")throw Error(s(527,Sm,"19.2.4"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Qy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{go=Us.inject(Qy),Tt=Us}catch{}}return ul.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,a="",p=Nd,h=Id,T=Rd;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=um(e,1,!1,null,null,l,a,null,p,h,T,Tm),e[_i]=n.current,jr(e),new yu(n)},ul.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var a=!1,p="",h=Nd,T=Id,E=Rd,N=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),n=um(e,1,!0,n,l??null,a,p,N,h,T,E,Tm),n.context=cm(null),l=n.current,a=Nt(),a=ra(a),p=Mn(a),p.callback=null,Dn(l,p,a),l=a,n.current.lanes=l,yo(n,l),jt(n),e[_i]=n.current,jr(e),new Ds(n)},ul.version="19.2.4",ul}var Mm;function s1(){if(Mm)return Su.exports;Mm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Su.exports=l1(),Su.exports}var a1=s1();const r1=lc(a1),qt=(i,t,o,s,r="",c="",d="")=>({id:s,title:i,author:t,category:o,subCategory:c,coverUrl:r,addedAt:Date.now(),genre:d}),fe=i=>i.volumes.map(t=>{const o=i.idBase?`${i.idBase}-${t}`:crypto.randomUUID(),s=`${i.title} ${t}`,r=i.covers&&i.covers[t]?i.covers[t]:"";return{id:o,title:s,author:i.author,category:i.category,subCategory:i.subCategory||"",coverUrl:r,addedAt:Date.now(),genre:i.genre||""}}),u1=[{id:"24aad161-b7cd-4f9f-9dff-cad573159424",name:"",children:[{id:"novel-cat-sao",name:"",children:[]},{id:"novel-cat-sao-p",name:" Progressive",children:[]},{id:"bf9a5344-49ec-485c-9e1d-03c3f88dbe62",name:"",children:[]},{id:"novel-cat-season",name:"",children:[]},{id:"novel-cat-shadow",name:"",children:[]},{id:"novel-cat-fiancee",name:"",children:[]},{id:"novel-cat-accel",name:"",children:[]},{id:"novel-cat-haibara",name:"",children:[]},{id:"novel-cat-youzitsu",name:"",children:[]},{id:"novel-cat-lord",name:"",children:[]},{id:"novel-cat-knight",name:"",children:[]},{id:"novel-cat-brave",name:"",children:[]},{id:"novel-cat-sister",name:"",children:[]},{id:"novel-cat-backup",name:"",children:[]},{id:"novel-cat-nosister",name:"",children:[]},{id:"novel-cat-reincarnation",name:"",children:[]},{id:"silent-witch-cat-001",name:"",children:[]},{id:"kings-proposal-cat-001",name:"",children:[]},{id:"saijo-shitsuji-cat-001",name:"",children:[]},{id:"imo-uza-cat-001",name:"",children:[]},{id:"ngnl-cat-001",name:"",children:[]},{id:"elaina-cat-001",name:"",children:[]},{id:"date-a-live-cat-001",name:"",children:[]},{id:"mushoku-cat-001",name:"",children:[]},{id:"86-cat-001",name:"86",children:[]},{id:"13e1e44e-d222-4cd9-bf6b-f7f91835dc54",name:"",children:[]}]},{id:"84ca7f1e-fa93-4f2d-a670-68dbfca56564",name:"",children:[{id:"manga-cat-opium",name:"",children:[]},{id:"manga-cat-smile",name:"",children:[]},{id:"manga-cat-slave",name:"",children:[]},{id:"manga-cat-summer",name:"",children:[]},{id:"manga-cat-25d",name:"2.5",children:[]},{id:"manga-cat-abyss-m",name:"",children:[]},{id:"0d2176ec-22e2-4c1f-bdc7-8b0520f116a0",name:"",children:[]},{id:"9a3b2c1d-4e5f-6a7b-8c9d-0e1f2a3b4c5d",name:"",children:[]},{id:"rent-a-girlfriend-id-001",name:"",children:[]},{id:"kick-love-cat-001",name:"",children:[]},{id:"fuufu-cat-001",name:"",children:[]},{id:"black-cat-witch-cat-001",name:"",children:[]},{id:"boys-abyss-cat-001",name:"",children:[]},{id:"edens-zero-cat-001",name:"",children:[]},{id:"amagami-cat-001",name:"",children:[]},{id:"kagura-cat-001",name:"",children:[]},{id:"midnight-heart-cat-001",name:"",children:[]},{id:"frieren-cat-001",name:"",children:[]},{id:"c001d13c-c3e3-494a-9027-28f69922bda1",name:"",children:[]},{id:"1853d3d1-0f08-4a52-95c1-d07cb53644e0",name:"",children:[]},{id:"manga-cat-kindaichi",name:"R",children:[]},{id:"manga-cat-cuckoo",name:"",children:[]},{id:"manga-cat-akebi",name:"",children:[]},{id:"manga-cat-goddess",name:"",children:[]},{id:"manga-cat-nagatoro",name:"",children:[]},{id:"manga-cat-kubo",name:"",children:[]},{id:"manga-cat-senpai-boy",name:"",children:[]},{id:"manga-cat-kakegurui",name:"",children:[]},{id:"manga-cat-fairy-100",name:" ",children:[]},{id:"manga-cat-eternity",name:"",children:[]},{id:"manga-cat-chainsaw",name:"",children:[]},{id:"manga-cat-ender",name:"",children:[]},{id:"manga-cat-vigilante",name:"",children:[]},{id:"manga-cat-she-beautiful",name:"she is beautiful",children:[]},{id:"manga-cat-shangrila",name:"",children:[]}]}],c1=[qt("","","","9ae9b3ba-2f5b-4ca3-9b0c-d2671040ab05","https://www.tongli.com.tw/ComicImages/Images/NJ0039/NJ0039001/NJ0039001.jpg"),qt("  ","","","season-spring-1","https://www.tongli.com.tw/ComicImages/Images/NB0028/NB0028001A/NB0028001A.jpg"),qt("  ","","","season-spring-2","https://www.tongli.com.tw/ComicImages/Images/NB0028/NB0028002A/NB0028002A.jpg"),qt(" ","","","season-archer","https://www.tongli.com.tw/ComicImages/Images/NB0033/NB0033001A/NB0033001A.jpg"),qt("  ","","","season-summer-1","https://www.tongli.com.tw/ComicImages/Images/NB0030/NB0030001A/NB0030001A.jpg"),qt("  ","","","season-summer-2","https://www.tongli.com.tw/ComicImages/Images/NB0030/NB0030002A/NB0030002A.jpg"),qt(" 2","","","d1fea1dc-7805-4920-ac47-5a2a33f7b410","https://m.media-amazon.com/images/I/81U5rVy1bxL._SY425_.jpg"),qt(" 2","","","eminence-shadow-2"),qt(" 4","","","jimokawa-4"),qt(" 1","/","","vigilante-1","https://shoplineimg.com/655b0f3c9b81d900188b35f1/68fb4a68d0d50e0010860ab1/800x.webp?source_format=jpg"),qt("she is beautiful 1","/","she is beautiful","she-beautiful-1"),qt(" 1","/","","shangrila-1"),...fe({title:"",author:"",category:"",idBase:"sao",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]}),...fe({title:" Progressive",author:"",category:" Progressive",idBase:"sao-p",volumes:[1,2,3,4,5,6]}),...fe({title:"",author:"",category:"",idBase:"angel-next-door",volumes:[1,2,3,4,5,6,7,8,9,10,11],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/NY0018/NY0018001/NY0018001.jpg"}}),...fe({title:"",author:"",category:"",idBase:"heroic-knight",volumes:[1,2,3,4],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/NW0038/NW0038001A/NW0038001A.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/NW0038/NW0038002A/NW0038002A.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/NW0038/NW0038003/NW0038003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/NW0038/NW0038004/NW0038004.jpg"}}),...fe({title:"",author:"",category:"",idBase:"accel-world",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14],covers:{1:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/664005fde0514b0010f087b0/800x.webp?source_format=jpg",2:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66400817e1961f001398b4e2/800x.webp?source_format=jpg",3:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6640048fb7445e00100b4753/800x.webp?source_format=jpg",4:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/664003b2074b1200220b3f66/800x.webp?source_format=jpg",5:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6640022781d8f50013cc31bb/800x.webp?source_format=jpg",6:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6640011ce0514b0019f0870a/800x.webp?source_format=jpg",7:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/663fff54493ce80019b8c446/800x.webp?source_format=jpg",8:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/663ffe45e1961f001f98b2ba/800x.webp?source_format=jpg",9:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/663ffc7821eacc002209d8b6/800x.webp?source_format=jpg",11:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/663fecb7b64daf001648094c/800x.webp?source_format=jpg",12:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/663fe897b5118f0016586408/800x.webp?source_format=jpg",13:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/663fe06bca0478001345b711/800x.webp?source_format=jpg",14:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/663fdd066595b5001f8272ab/800x.webp?source_format=jpg"}}),...fe({title:"",author:"",category:"",idBase:"haibara-youth",volumes:[1,2,8],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/ND0125/ND0125001A/ND0125001A.jpg"}}),...fe({title:"",author:"",category:"",idBase:"classroom-elite",volumes:[1,2,3,4,5,6,7,8,9,10,11]}),...fe({title:"",author:"",category:"",idBase:"evil-lord",volumes:[2,3,4,5],covers:{2:"https://www.tongli.com.tw/ComicImages/Images/NW0031/NW0031002A/NW0031002A.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/NW0031/NW0031003A/NW0031003A.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/NW0031/NW0031004A/NW0031004A.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/NW0031/NW0031005A/NW0031005A.jpg"}}),...fe({title:"",author:"",category:"",idBase:"brave-syndrome",volumes:[1,2],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/NB0034/NB0034001A/NB0034001A.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/NB0034/NB0034002/NB0034002.jpg"}}),...fe({title:"",author:"",category:"",idBase:"actually-stepsister",volumes:[1,2,3,4]}),...fe({title:"",author:"",category:"",idBase:"fallback-gf",volumes:[1,2,3,4]}),...fe({title:"",author:"",category:"",idBase:"sister-not-gf",volumes:[1,2]}),...fe({title:"",author:"",category:"",idBase:"reincarnation-escape",volumes:[1,2,3],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/NA0133/NA0133001A/NA0133001A.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/NA0133/NA0133002A/NA0133002A.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/NA0133/NA0133003A/NA0133003A.jpg"}}),...fe({title:"",author:"",category:"",idBase:"ngnl",volumes:[1,2,3,4,5,6,10],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/NA0065/NA0065001/NA0065001.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/NA0065/NA0065002/NA0065002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/NA0065/NA0065003/NA0065003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/NA0065/NA0065004/NA0065004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/NA0065/NA0065005/NA0065005.jpg",6:"https://www.tongli.com.tw/ComicImages/Images/NA0065/NA0065006/NA0065006.jpg",10:"https://www.tongli.com.tw/ComicImages/Images/NA0065/NA0065010/NA0065010.jpg"}}),...fe({title:"",author:"",category:"",idBase:"elaina",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],covers:{1:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681450442008/ec1284803.jpg",2:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681541283008/750115.jpg",3:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681582032009/783864.jpg",4:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681682058008/20190422115255586276.jpg",5:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681758300000/ec1759843.jpg",6:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681783217007/20190709041132190216.jpg",7:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681860927003/20200307041627865600.jpg",8:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/Upload/Product/202008/o/637320404263072500.jpg",9:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681929392001/20201014034301726030.jpg",10:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681956403008/20201215041632641832.jpg",11:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681975616007/20210126033715568863.jpg",12:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682049095001/20210723093353866706.jpg",13:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682054464007/20210804035407381516.jpg",14:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682120579000/20220111032125520436.jpg",15:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682147219002/20220317033732170071.jpg",16:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682193190003/20220624035349823377.jpg",17:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682214948002/20220727033420425643.jpg"}}),...fe({title:"",author:"",category:"",idBase:"date-a-live",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],covers:{1:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdeefff542f0010afd4be/800x.webp?source_format=jpg",2:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdee625e608001f779686/800x.webp?source_format=jpg",3:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fde6e36c9a600228ba21f/800x.webp?source_format=jpg",4:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdc4e3f6608000d1e551d/800x.webp?source_format=jpg",5:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdbf926e99d0010eb3fa4/800x.webp?source_format=jpg",6:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdbc127c4530016fb839e/800x.webp?source_format=jpg",7:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdb715c22c3000df1519b/800x.webp?source_format=jpg",8:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdb39fded9d001cafb3ae/800x.webp?source_format=jpg",9:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdafaca76280010555660/800x.webp?source_format=jpg",10:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fdab9cd880d0019a6350c/800x.webp?source_format=jpg",11:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fda665640c00016796f50/800x.webp?source_format=jpg",12:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fda1cd313900010dd8415/800x.webp?source_format=jpg",13:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fd9dd36c9a600168ba129/800x.webp?source_format=jpg",14:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fd9864ff629001634b8f6/800x.webp?source_format=jpg",15:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/665fd9548b49600016dfb5b0/800x.webp?source_format=jpg"}}),...fe({title:"",author:"",category:"",idBase:"mushoku",volumes:[1,2,26]}),...fe({title:"86",author:"",category:"86",idBase:"86",volumes:[1,2,3,4,5,6,7,8,9,10],covers:{1:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c24bffbc51c935e14fd4/800x.webp?source_format=jpg",2:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c21d2a1bb3001fef7c46/800x.webp?source_format=jpg",3:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c1e98179f8000d93002b/800x.webp?source_format=jpg",4:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c1bce10d700022a657c8/800x.webp?source_format=jpg",5:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c1853f660800191f62ea/800x.webp?source_format=jpg",6:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c15abc93ff001038fd64/800x.webp?source_format=jpg",7:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c1285c867d001981ba60/800x.webp?source_format=jpg",8:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c0bacef4db002281ea5b/800x.webp?source_format=jpg",9:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c065ca7628001f565afe/800x.webp?source_format=jpg",10:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6662c00efc3d7d000d784da1/800x.webp?source_format=jpg"}}),...fe({title:"",author:" ",category:"",idBase:"green-tea",volumes:[1,2],covers:{1:"https://m.media-amazon.com/images/I/81Vz14AaG4L._SY425_.jpg",2:"https://m.media-amazon.com/images/I/91nk8m3muJL._SY425_.jpg"}}),...fe({title:"",author:"",category:"",idBase:"jujutsu",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116001A/JC1116001AS.jpg",2:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681761107009/ec1763803.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116003/JC1116003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116004/JC1116004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116005/JC1116005.jpg",6:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116006/JC1116006.jpg",7:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116007/JC1116007.jpg",8:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116008/JC1116008.jpg",9:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116009/JC1116009.jpg",10:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116010/JC1116010.jpg",11:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116011/JC1116011.jpg",12:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116012/JC1116012.jpg",13:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116013/JC1116013.jpg",14:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116014/JC1116014.jpg",15:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116015/JC1116015.jpg",16:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116016/JC1116016.jpg",17:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116017/JC1116017.jpg",18:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116018/JC1116018.jpg",19:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116019/JC1116019.jpg",20:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116020/JC1116020.jpg",21:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116021/JC1116021.jpg",22:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116022/JC1116022.jpg",23:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116023/JC1116023.jpg",24:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116024/JC1116024.jpg",25:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116025/JC1116025.jpg",26:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116026/JC1116026.jpg",27:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116027/JC1116027.jpg",28:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116028/JC1116028.jpg",29:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116029/JC1116029.jpg",30:"https://www.tongli.com.tw/ComicImages/Images/JC1116/JC1116030/JC1116030.jpg"}}),...fe({title:"",author:"",category:"",idBase:"kick-love",volumes:[1,2,3,4],covers:{1:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/67f73aeab7d253000cc2dc86/800x.webp?source_format=jpg",2:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/67f73aea17aec30011b27f43/800x.webp?source_format=jpg",3:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/67f73aea851df9000efb9858/800x.webp?source_format=jpg",4:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/67f73aeb81c977000ebb5715/800x.webp?source_format=jpg"}}),...fe({title:"",author:"",category:"",idBase:"fuufu",volumes:[1,2,3,4,5,6,7,8,9,10,11],covers:{1:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b09227fc220022982503/800x.webp?source_format=jpg",2:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b092f597a900105eca71/800x.webp?source_format=jpg",3:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b0920075c40013e72c3c/800x.webp?source_format=jpg",4:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b09205bc766ff61358e5/800x.webp?source_format=jpg",5:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b092d28abc000db5aad4/800x.webp?source_format=jpg",6:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b092f378ef001f47a3e3/800x.webp?source_format=jpg",7:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b0934940014e778e7726/800x.webp?source_format=jpg",8:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b09284a646000dd8d764/800x.webp?source_format=jpg",9:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0b092b1c3e00022c4b8f7/800x.webp?source_format=jpg",10:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66a0ae49536b09ca9cc5c433/800x.webp?source_format=jpg",11:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/680ee1c1b3cc9d000dcb4e07/800x.webp?source_format=jpg"}}),...fe({title:"",author:"",category:"",idBase:"black-cat",volumes:[1,2,3,4,5,6],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/KD1749/KD1749001A/KD1749001A.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/KD1749/KD1749002A/KD1749002A.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/KD1749/KD1749003A/KD1749003A.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/KD1749/KD1749004/KD1749004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/KD1749/KD1749005/KD1749005.jpg",6:"https://www.tongli.com.tw/ComicImages/Images/KD1749/KD1749006/KD1749006.jpg"}}),...fe({title:"",author:"",category:"",idBase:"silent-witch",volumes:[1,2,3,4,5,6],covers:{1:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6699e1a1b9c78b0016ecd18c/800x.webp?source_format=jpg",2:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6699e1a23fab53000d627355/800x.webp?source_format=jpg",3:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6699e1a21cd78d000d912a14/800x.webp?source_format=jpg",4:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6699e1a188a36e001c59a9f9/800x.webp?source_format=jpg",5:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6699e1a116a9f7001927e526/800x.webp?source_format=jpg",6:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/6699e1373cb5290016a57ebf/800x.webp?source_format=jpg"}}),...fe({title:"",author:"",category:"",idBase:"kings-prop",volumes:[1,2],covers:{1:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66403c469b88f10022fee1d0/800x.webp?source_format=jpg",2:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/664028eac851b60013fff368/800x.webp?source_format=jpg"}}),...fe({title:"",author:"",category:"",idBase:"saijo",volumes:[1,2,3,4],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/ND0117/ND0117001A/ND0117001A.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/ND0117/ND0117002B/ND0117002B.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/ND0117/ND0117003A/ND0117003A.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/ND0117/ND0117004B/ND0117004B.jpg"}}),...fe({title:"",author:"",category:"",idBase:"imo-uza",volumes:[2,3,4],covers:{2:"https://www.tongli.com.tw/ComicImages/Images/NY0016/NY0016002/NY0016002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/NY0016/NY0016003/NY0016003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/NY0016/NY0016004/NY0016004.jpg"}}),...fe({title:"",author:"/",category:"",idBase:"kakegurui",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]}),...fe({title:" ",author:"/",category:" ",idBase:"fairy-tail-100",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}),...fe({title:"",author:"",category:"",idBase:"eternity",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}),...fe({title:"",author:"",category:"",idBase:"chainsaw",volumes:[1,2,3,4,5,6,7,8,9,10,11],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146001/JC1146001.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146002/JC1146002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146003/JC1146003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146004/JC1146004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146005/JC1146005.jpg",6:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146006/JC1146006.jpg",7:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146007/JC1146007.jpg",8:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146008/JC1146008.jpg",9:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146009/JC1146009.jpg",10:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146010/JC1146010.jpg",11:"https://www.tongli.com.tw/ComicImages/Images/JC1146/JC1146011/JC1146011.jpg"}}),...fe({title:"",author:" ",category:"",idBase:"ender-geister",volumes:[1,2,3],covers:{1:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10366981/0/638892407642800000?v=1",2:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10488971/0/638814367380630000?v=1",3:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10567362/0/638892407635470000?v=1"}}),...fe({title:"R",author:"/",category:"R",idBase:"kindaichi-r",volumes:[1,2,3,4,5,6,7],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/KD0494/KD0494001/KD0494001.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/KD0494/KD0494002/KD0494002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/KD0494/KD0494003/KD0494003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/KD0494/KD0494004/KD0494004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/KD0494/KD0494005/KD0494005.jpg",6:"https://www.tongli.com.tw/ComicImages/Images/KD0494/KD0494006/KD0494006.jpg",7:"https://www.tongli.com.tw/ComicImages/Images/KD0494/KD0494007/KD0494007.jpg"}}),...fe({title:"",author:"",category:"",idBase:"cuckoo",volumes:[1,2]}),...fe({title:"",author:"",category:"",idBase:"akebi",volumes:[1,2,3,4,5,6,7,8],covers:{1:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681682046005/20190422115211730233.jpg",2:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681770740006/20190628164517864277.jpg",3:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681798679005/20190821044938477502.jpg",4:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681825025003/20191102052832689736.jpg",5:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681848986008/20200109033552962374.jpg",6:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681894010009/20200701053108668003.jpg",7:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681991549006/20210316054822146774.jpg",8:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682159959002/20220414060610889737.jpg"}}),...fe({title:"",author:"",category:"",idBase:"goddess-cafe",volumes:[1,2,3,4,5]}),...fe({title:"",author:"Nanashi",category:"",idBase:"nagatoro",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}),...fe({title:"",author:"",category:"",idBase:"kubo",volumes:[1,2,3]}),...fe({title:"",author:"",category:"",idBase:"senpai-boy",volumes:[1,2]}),...fe({title:"",author:"",category:"",idBase:"rent-gf",volumes:[1,2,3,4,5,6,10,11,22,23,24,25,26,27,28],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552001/KD1552001.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552002/KD1552002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552003/KD1552003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552004/KD1552004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552005/KD1552005.jpg",6:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552006/KD1552006.jpg",10:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552010/KD1552010.jpg",11:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552011/KD1552011.jpg",22:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552022/KD1552022.jpg",23:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552023/KD1552023.jpg",24:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552024/KD1552024.jpg",25:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552025/KD1552025.jpg",26:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552026/KD1552026.jpg",27:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552027/KD1552027.jpg",28:"https://www.tongli.com.tw/ComicImages/Images/KD1552/KD1552028/KD1552028.jpg"}}),...fe({title:"",author:"",category:"",idBase:"kagura",volumes:[1,2,3,4,5,6],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/JC1343/JC1343001/JC1343001.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/JC1343/JC1343002/JC1343002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/JC1343/JC1343003/JC1343003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/JC1343/JC1343004/JC1343004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/JC1343/JC1343005/JC1343005.jpg"}}),...fe({title:"",author:"",category:"",idBase:"midnight",volumes:[1,2,3,4,5,6],covers:{1:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10536446/0/638811730968200000?v=1",2:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10661989/0/638823809979470000?v=1",3:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10793138/0/638840312429970000?v=1",4:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10937888/0/638876559761470000?v=1"}}),...fe({title:"",author:"",category:"",idBase:"abyss-manga",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13],covers:{1:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681479515004/702742.jpg",2:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681479517008/702740.jpg",3:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681488480003/709718.jpg",4:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681501890000/718620.jpg",5:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681513177007/726581.jpg",6:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681533051004/742501.jpg",7:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681707834006/ec1649659.jpg",8:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681853357008/20200123032419944616.jpg",9:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2681975418007/20210126033700976857.jpg",10:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682122210000/20220114040139486940.jpg",11:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682325977007/20230110041046291139.jpg",12:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/b2b/vendor/vendor172017708664820240705185809/mainCoverImage1_1284340.jpg",13:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/b2b/vendor/vendor175271991661020250717103838/mainCoverImage1_1478251.jpg"}}),...fe({title:"2.5",author:"",category:"2.5",idBase:"ririsa",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],covers:{1:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518901.jpg",2:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518902.jpg",3:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518903.jpg",4:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518904.jpg",5:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518905.jpg",6:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518906.jpg",7:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518907.jpg",8:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518908.jpg",9:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518909.jpg",10:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518910.jpg",11:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518911.jpg",12:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518912.jpg",13:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518913.jpg",14:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518914.jpg",15:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518915.jpg",16:"https://www.ching-win.com.tw//upload_files/fonlego-rwd/prodpic/D_10518916.jpg"}}),...fe({title:"",author:"Marcey",category:"",idBase:"amagami",volumes:[1,2,3,4,5,6,7,8],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/KD1706/KD1706001/KD1706001.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/KD1706/KD1706002/KD1706002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/KD1706/KD1706003/KD1706003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/KD1706/KD1706004/KD1706004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/KD1706/KD1706005/KD1706005.jpg",6:"https://www.tongli.com.tw/ComicImages/Images/KD1706/KD1706006/KD1706006.jpg",7:"https://www.tongli.com.tw/ComicImages/Images/KD1706/KD1706007/KD1706007.jpg"}}),...fe({title:"",author:"/",category:"",idBase:"manchuria-opium",volumes:[1,2,3,4,5,6,7,8,9,10,11,12],covers:{1:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10239614/0/638681233541600000?v=1",2:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10239615/0/638681233556700000?v=1",3:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10239616/0/638681233558470000?v=1",4:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10410254/0/638744319591730000?v=1",5:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10410255/0/638744319588400000?v=1",6:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10410256/0/638744319590270000?v=1",7:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10561721/0/638890464257570000?v=1",8:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10606679/0/638905868173870000?v=1",9:"https://img.91app.com/webapi/imagesV3/Original/SalePage/10606681/0/638905868175330000?v=1"}}),...fe({title:"",author:"SAKA",category:"",idBase:"kaoru-hana",volumes:[1,7,8],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/KD1735/KD1735001/KD1735001.jpg"}}),...fe({title:"",author:"/",category:"",idBase:"frieren",volumes:[1,2,3,4,5,6,12,14]}),...fe({title:"",author:"",category:"",idBase:"edens",volumes:[1,2,3,4,5],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/KD1514/KD1514001/KD1514001.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/KD1514/KD1514002/KD1514002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/KD1514/KD1514003/KD1514003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/KD1514/KD1514004/KD1514004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/KD1514/KD1514005/KD1514005.jpg"}}),...fe({title:"",author:"",category:"",idBase:"abyss",volumes:[1,2,5,6,7,10,12,14,15],covers:{1:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682167885003/20220503034152155143.jpg",2:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682184595008/20220609030837646522.jpg",5:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/upload/product/o/2682358981002/20230325033658421785.jpg",6:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/b2b/vendor/eslite_2023062720230627101407/10520906.jpg",7:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/b2b/vendor/eslite_2023080820230808104215/10520907.jpg",10:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/b2b/vendor/vendor171263335669720240409112918/mainCoverImage1_1241500.jpg",12:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/b2b/vendor/vendor173700138829720250116122310/mainCoverImage1_1382785.jpg",14:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/b2b/vendor/vendor175153491546220250703172840/mainCoverImage1_1470325.jpg",15:"https://s2.eslite.com/unsafe/fit-in/x900/s.eslite.com/b2b/vendor/vendor175759217760320250911200300/mainCoverImage1_1519185.jpg"}}),...fe({title:"",author:"",category:"",idBase:"smile-manga",volumes:[1,2,3,4,5]}),...fe({title:"",author:"/",category:"",idBase:"matoi",volumes:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],covers:{1:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152001/JC1152001.jpg",2:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152002/JC1152002.jpg",3:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152003/JC1152003.jpg",4:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152004/JC1152004.jpg",5:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152005/JC1152005.jpg",6:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152006/JC1152006.jpg",7:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152007/JC1152007.jpg",8:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152008/JC1152008.jpg",9:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152009/JC1152009.jpg",10:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152010/JC1152010.jpg",11:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152011/JC1152011.jpg",12:"https://www.tongli.com.tw/ComicImages/Images/JC1152/JC1152012/JC1152012.jpg"}}),...fe({title:"",author:"",category:"",idBase:"hikaru",volumes:[1,2,3,4,6],covers:{1:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66555b5c82b9fd002271422e/800x.webp?source_format=jpg",2:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66555b62724233001caf79ac/800x.webp?source_format=jpg",3:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66555b6ae9a87100194368d3/800x.webp?source_format=jpg",4:"https://shoplineimg.com/655b0f3c9b81d900188b35f1/66e0f8fb0971c60013815922/800x.webp?source_format=jpg"}})],xu="ai-library-books-v19",wu="ai-library-categories-tree-v19",f1=()=>{const[i,t]=ae.useState([]),[o,s]=ae.useState([]),[r,c]=ae.useState(!0);return ae.useEffect(()=>{(()=>{const b=localStorage.getItem(xu),x=localStorage.getItem(wu);let w=[],R=[],H=!1;if(b)try{w=JSON.parse(b),w.length>0&&(H=!0)}catch(L){console.error("Failed to parse books",L)}if(x)try{R=JSON.parse(x),R.length>0&&(H=!0)}catch(L){console.error("Failed to parse categories",L)}(!H||w.length===0)&&(w=c1),R.length===0&&(R=u1),t(w),s(R),c(!1)})()},[]),ae.useEffect(()=>{r||localStorage.setItem(xu,JSON.stringify(i))},[i,r]),ae.useEffect(()=>{r||localStorage.setItem(wu,JSON.stringify(o))},[o,r]),{books:i,categories:o,isLoading:r,addBook:A=>{const b={...A,id:crypto.randomUUID(),addedAt:Date.now()};t(x=>[b,...x])},updateBook:A=>{t(b=>b.map(x=>x.id===A.id?A:x))},deleteBook:A=>{t(b=>b.filter(x=>x.id!==A))},updateCategories:A=>{s(A)},importData:(A,b)=>{t(A),s(b),localStorage.setItem(xu,JSON.stringify(A)),localStorage.setItem(wu,JSON.stringify(b))},batchMove:(A,b)=>{t(x=>x.map(w=>A.has(w.id)?{...w,category:b}:w))},batchDelete:A=>{t(b=>b.filter(x=>!A.has(x.id)))}}},gi=i=>[...i].sort((t,o)=>t.name.localeCompare(o.name,"zh-TW",{numeric:!0})).map(t=>({...t,children:t.children?gi(t.children):[]})),wh=(i,t)=>{for(const o of i){if(o.name===t)return o;if(o.children){const s=wh(o.children,t);if(s)return s}}return null},bh=i=>{let t=[i.name];return i.children&&i.children.forEach(o=>{t=t.concat(bh(o))}),t},Hu=(i,t,o=null)=>{for(const s of i){if(s.name===t)return o;if(s.children){const r=Hu(s.children,t,s.name);if(r)return r}}return null};const d1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p1=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,s)=>s?s.toUpperCase():o.toLowerCase()),Dm=i=>{const t=p1(i);return t.charAt(0).toUpperCase()+t.slice(1)},Nh=(...i)=>i.filter((t,o,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===o).join(" ").trim(),m1=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var h1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g1=ae.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:r="",children:c,iconNode:d,...g},v)=>ae.createElement("svg",{ref:v,...h1,width:t,height:t,stroke:i,strokeWidth:s?Number(o)*24/Number(t):o,className:Nh("lucide",r),...!c&&!m1(g)&&{"aria-hidden":"true"},...g},[...d.map(([m,y])=>ae.createElement(m,y)),...Array.isArray(c)?c:[c]]));const we=(i,t)=>{const o=ae.forwardRef(({className:s,...r},c)=>ae.createElement(g1,{ref:c,iconNode:t,className:Nh(`lucide-${d1(Dm(i))}`,`lucide-${i}`,s),...r}));return o.displayName=Dm(i),o};const v1=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Vs=we("arrow-right-left",v1);const y1=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8.62 9.8A2.25 2.25 0 1 1 12 6.836a2.25 2.25 0 1 1 3.38 2.966l-2.626 2.856a.998.998 0 0 1-1.507 0z",key:"9v40y5"}]],Ps=we("book-heart",y1);const _1=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],T1=we("book-open",_1);const S1=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],C1=we("book",S1);const E1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Um=we("check",E1);const A1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vi=we("chevron-down",A1);const x1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],co=we("chevron-right",x1);const w1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],b1=we("chevron-left",w1);const N1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lm=we("circle-alert",N1);const I1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ih=we("circle-check",I1);const R1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],M1=we("circle",R1);const D1=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],U1=we("code-xml",D1);const L1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],z1=we("copy",L1);const G1=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],k1=we("dices",G1);const H1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],B1=we("download",H1);const q1=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Xn=we("folder-open",q1);const V1=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_n=we("folder",V1);const P1=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Rh=we("layout-grid",P1);const O1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],J1=we("loader-circle",O1);const F1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Y1=we("menu",F1);const K1=[["path",{d:"M12 4V2",key:"1k5q1u"}],["path",{d:"M5 10v4a7.004 7.004 0 0 0 5.277 6.787c.412.104.802.292 1.102.592L12 22l.621-.621c.3-.3.69-.488 1.102-.592A7.003 7.003 0 0 0 19 14v-4",key:"1tgyif"}],["path",{d:"M12 4C8 4 4.5 6 4 8c-.243.97-.919 1.952-2 3 1.31-.082 1.972-.29 3-1 .54.92.982 1.356 2 2 1.452-.647 1.954-1.098 2.5-2 .595.995 1.151 1.427 2.5 2 1.31-.621 1.862-1.058 2.5-2 .629.977 1.162 1.423 2.5 2 1.209-.548 1.68-.967 2-2 1.032.916 1.683 1.157 3 1-1.297-1.036-1.758-2.03-2-3-.5-2-4-4-8-4Z",key:"tnsqj"}]],ac=we("nut",K1);const X1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mh=we("pen",X1);const Q1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uo=we("plus",Q1);const $1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Z1=we("refresh-cw",$1);const W1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Bu=we("save",W1);const j1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dh=we("search",j1);const e_=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Uh=we("sliders-horizontal",e_);const t_=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bu=we("sparkles",t_);const n_=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i_=we("square-check-big",n_);const o_=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],l_=we("tag",o_);const s_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rc=we("trash-2",s_);const a_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],r_=we("upload",a_);const u_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yt=we("x",u_);const c_=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],f_=we("zoom-in",c_),d_=({isOpen:i,onClose:t,categories:o,selectedCategory:s,onSelectCategory:r,bookCount:c,books:d,onOpenCategoryManager:g,onOpenSettings:v})=>{const[m,y]=ae.useState(new Set),S=ae.useMemo(()=>gi(o),[o]),_=ae.useMemo(()=>{const w={},R={};d.forEach(L=>{const z=L.category||"";R[z]=(R[z]||0)+1});const H=L=>{let z=R[L.name]||0;return L.children&&L.children.forEach(J=>{z+=H(J)}),w[L.id]=z,z};return o.forEach(L=>H(L)),w},[d,o]),A=w=>{y(R=>{const H=new Set(R);return H.has(w)?H.delete(w):H.add(w),H})},b=(w,R)=>{const H=m.has(w.id),L=s===w.name,z=w.children&&w.children.length>0,J=_[w.id]||0;let U="text-slate-400";return R===0?U=L?"text-rose-400":"text-rose-400/80 hover:text-rose-300":R===1?U=L?"text-indigo-400":"text-indigo-400/80 hover:text-indigo-300":U=L?"text-slate-200":"text-slate-400 hover:text-slate-300",C.jsxs("div",{className:"select-none",children:[C.jsxs("div",{className:`flex items-center justify-between py-1.5 pr-2 rounded-lg transition-colors cursor-pointer ${L?"bg-slate-800":"hover:bg-slate-800/50"} ${R>0?"ml-4 border-l border-slate-800 pl-2":""}`,children:[C.jsxs("button",{className:`flex-1 flex items-center gap-2 text-left truncate ${U}`,onClick:()=>{r(w.name),window.innerWidth<1024&&t()},children:[R===0?L?C.jsx(Xn,{size:16}):C.jsx(_n,{size:16}):null,C.jsx("span",{className:`text-sm flex-1 truncate ${R===0?"font-semibold":"font-medium"}`,children:w.name}),J>0&&C.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full font-medium ${L?"bg-white/10 text-current":"bg-slate-800 text-slate-500"}`,children:J})]}),z&&C.jsx("button",{onClick:F=>{F.stopPropagation(),A(w.id)},className:"p-1 rounded hover:bg-slate-700 text-slate-500 ml-1",children:H?C.jsx(vi,{size:14}):C.jsx(co,{size:14})})]}),z&&H&&C.jsx("div",{children:w.children.map(F=>b(F,R+1))})]},w.id)},x=()=>C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center justify-between p-4 pb-2 lg:mb-0 mb-4",children:[C.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[C.jsx(Ps,{size:16,className:"lg:hidden"}),""]}),C.jsxs("div",{className:"flex gap-2 lg:block",children:[C.jsx("button",{onClick:g,className:"p-1.5 hover:bg-slate-800 rounded text-slate-500 hover:text-indigo-400 transition-colors",title:"",children:C.jsx(Uh,{size:16})}),C.jsx("button",{onClick:v,className:"lg:hidden p-1.5 text-slate-500 hover:bg-slate-800 rounded hover:text-indigo-400",children:C.jsx(ac,{size:16})}),C.jsx("button",{onClick:t,className:"lg:hidden p-1.5 text-slate-500 hover:bg-slate-800 rounded hover:text-indigo-400",children:C.jsx(Yt,{size:16})})]})]}),C.jsxs("nav",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 space-y-1",children:[C.jsxs("button",{onClick:()=>{r(null),window.innerWidth<1024&&t()},className:`w-full flex items-center gap-3 px-2 py-2 text-sm font-medium rounded-lg transition-colors ${s?"text-slate-400 hover:bg-slate-800 hover:text-slate-200":"bg-indigo-600 text-white shadow-md shadow-indigo-500/20"}`,children:[C.jsx(Ps,{size:18}),"",C.jsx("span",{className:"ml-auto text-xs opacity-60 bg-black/20 px-2 py-0.5 rounded-full",children:c})]}),C.jsx("div",{className:"pt-2",children:S.map(w=>b(w,0))})]})]});return C.jsxs(C.Fragment,{children:[C.jsx("aside",{className:"hidden lg:flex w-64 flex-col border-r border-slate-800 bg-slate-950/50",children:C.jsx(x,{})}),i&&C.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden flex",children:[C.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),C.jsx("div",{className:"relative bg-slate-900 w-80 h-full shadow-2xl overflow-y-auto flex flex-col",children:C.jsx(x,{})})]})]})},p_=({onToggleSidebar:i,searchTerm:t,setSearchTerm:o,isBatchMode:s,setIsBatchMode:r,selectedCount:c,onSelectAll:d,onClearSelection:g,onBatchMove:v,onBatchDelete:m,onOpenSettings:y,onOpenAddModal:S})=>C.jsxs("header",{className:"shrink-0 z-40 bg-slate-900/80 backdrop-blur-md border-b border-slate-800",children:[C.jsxs("div",{className:"w-full px-4 h-16 flex items-center justify-between gap-4",children:[C.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[C.jsx("button",{onClick:i,className:"lg:hidden p-2 text-slate-400 hover:bg-slate-800 rounded-lg",children:C.jsx(Y1,{size:24})}),C.jsx("div",{className:"bg-rose-500/10 p-2 rounded-xl text-rose-400 border border-rose-500/20",children:C.jsx(Ps,{size:24})}),C.jsx("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 to-indigo-400 hidden sm:block tracking-wide",children:""})]}),C.jsxs("div",{className:"flex-1 max-w-2xl mx-auto flex items-center gap-4",children:[C.jsxs("div",{className:"relative group flex-1",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500 group-focus-within:text-indigo-400 transition-colors",children:C.jsx(Dh,{size:18})}),C.jsx("input",{type:"text",placeholder:"...",value:t,onChange:_=>o(_.target.value),className:"block w-full pl-10 pr-3 py-2 border border-slate-700 rounded-xl leading-5 bg-slate-900/50 text-slate-200 placeholder-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-slate-900 sm:text-sm transition-all"})]}),C.jsxs("button",{onClick:()=>{r(!s),s&&g()},className:`hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-all ${s?"bg-indigo-600 text-white border-indigo-500":"bg-slate-800 text-slate-400 border-slate-700 hover:text-white"}`,title:"",children:[C.jsx(i_,{size:16}),C.jsx("span",{className:"text-sm font-medium",children:""})]})]}),C.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[C.jsx("button",{onClick:y,className:"p-2 text-slate-400 hover:bg-slate-800 hover:text-indigo-400 rounded-lg transition-colors hidden sm:block",title:"",children:C.jsx(ac,{size:22})}),C.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg transition-all text-sm font-medium shadow-lg hover:shadow-indigo-500/25",children:[C.jsx(uo,{size:18}),C.jsx("span",{className:"hidden sm:inline",children:""})]})]})]}),s&&C.jsxs("div",{className:"w-full bg-indigo-900/30 border-b border-indigo-500/30 px-4 py-2 flex items-center justify-between animate-in slide-in-from-top-2",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("span",{className:"text-sm font-bold text-indigo-300",children:[" ",c," "]}),C.jsx("button",{onClick:d,className:"text-xs text-indigo-400 hover:text-white hover:underline",children:""}),C.jsx("button",{onClick:g,className:"text-xs text-indigo-400 hover:text-white hover:underline",children:""})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("button",{disabled:c===0,onClick:v,className:"flex items-center gap-1.5 px-3 py-1 bg-slate-800 hover:bg-slate-700 text-white rounded-lg text-sm border border-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[C.jsx(Vs,{size:14})," "]}),C.jsxs("button",{disabled:c===0,onClick:m,className:"flex items-center gap-1.5 px-3 py-1 bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 rounded-lg text-sm border border-red-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:[C.jsx(rc,{size:14})," "]})]})]})]});function qu(){return qu=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)({}).hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},qu.apply(null,arguments)}function zm(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Vu(i,t){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},Vu(i,t)}function m_(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Vu(i,t)}var Gm=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function h_(i,t){return!!(i===t||Gm(i)&&Gm(t))}function g_(i,t){if(i.length!==t.length)return!1;for(var o=0;o<i.length;o++)if(!h_(i[o],t[o]))return!1;return!0}function Nu(i,t){t===void 0&&(t=g_);var o,s=[],r,c=!1;function d(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];return c&&o===this&&t(g,s)||(r=i.apply(this,g),c=!0,o=this,s=g),r}return d}var v_=typeof performance=="object"&&typeof performance.now=="function",km=v_?function(){return performance.now()}:function(){return Date.now()};function Hm(i){cancelAnimationFrame(i.id)}function y_(i,t){var o=km();function s(){km()-o>=t?i.call(null):r.id=requestAnimationFrame(s)}var r={id:requestAnimationFrame(s)};return r}var Iu=-1;function Bm(i){if(i===void 0&&(i=!1),Iu===-1||i){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(t),Iu=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Iu}var io=null;function qm(i){if(i===void 0&&(i=!1),io===null||i){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var s=document.createElement("div"),r=s.style;return r.width="100px",r.height="100px",t.appendChild(s),document.body.appendChild(t),t.scrollLeft>0?io="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?io="negative":io="positive-ascending"),document.body.removeChild(t),io}return io}var __=150,T_=function(t,o){return t};function S_(i){var t,o=i.getItemOffset,s=i.getEstimatedTotalSize,r=i.getItemSize,c=i.getOffsetForIndexAndAlignment,d=i.getStartIndexForOffset,g=i.getStopIndexForStartIndex,v=i.initInstanceProps,m=i.shouldResetStyleCacheOnItemSizeChange,y=i.validateProps;return t=(function(S){m_(_,S);function _(b){var x;return x=S.call(this,b)||this,x._instanceProps=v(x.props,zm(x)),x._outerRef=void 0,x._resetIsScrollingTimeoutId=null,x.state={instance:zm(x),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof x.props.initialScrollOffset=="number"?x.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},x._callOnItemsRendered=void 0,x._callOnItemsRendered=Nu(function(w,R,H,L){return x.props.onItemsRendered({overscanStartIndex:w,overscanStopIndex:R,visibleStartIndex:H,visibleStopIndex:L})}),x._callOnScroll=void 0,x._callOnScroll=Nu(function(w,R,H){return x.props.onScroll({scrollDirection:w,scrollOffset:R,scrollUpdateWasRequested:H})}),x._getItemStyle=void 0,x._getItemStyle=function(w){var R=x.props,H=R.direction,L=R.itemSize,z=R.layout,J=x._getItemStyleCache(m&&L,m&&z,m&&H),U;if(J.hasOwnProperty(w))U=J[w];else{var F=o(x.props,w,x._instanceProps),j=r(x.props,w,x._instanceProps),Q=H==="horizontal"||z==="horizontal",te=H==="rtl",re=Q?F:0;J[w]=U={position:"absolute",left:te?void 0:re,right:te?re:void 0,top:Q?0:F,height:Q?"100%":j,width:Q?j:"100%"}}return U},x._getItemStyleCache=void 0,x._getItemStyleCache=Nu(function(w,R,H){return{}}),x._onScrollHorizontal=function(w){var R=w.currentTarget,H=R.clientWidth,L=R.scrollLeft,z=R.scrollWidth;x.setState(function(J){if(J.scrollOffset===L)return null;var U=x.props.direction,F=L;if(U==="rtl")switch(qm()){case"negative":F=-L;break;case"positive-descending":F=z-H-L;break}return F=Math.max(0,Math.min(F,z-H)),{isScrolling:!0,scrollDirection:J.scrollOffset<F?"forward":"backward",scrollOffset:F,scrollUpdateWasRequested:!1}},x._resetIsScrollingDebounced)},x._onScrollVertical=function(w){var R=w.currentTarget,H=R.clientHeight,L=R.scrollHeight,z=R.scrollTop;x.setState(function(J){if(J.scrollOffset===z)return null;var U=Math.max(0,Math.min(z,L-H));return{isScrolling:!0,scrollDirection:J.scrollOffset<U?"forward":"backward",scrollOffset:U,scrollUpdateWasRequested:!1}},x._resetIsScrollingDebounced)},x._outerRefSetter=function(w){var R=x.props.outerRef;x._outerRef=w,typeof R=="function"?R(w):R!=null&&typeof R=="object"&&R.hasOwnProperty("current")&&(R.current=w)},x._resetIsScrollingDebounced=function(){x._resetIsScrollingTimeoutId!==null&&Hm(x._resetIsScrollingTimeoutId),x._resetIsScrollingTimeoutId=y_(x._resetIsScrolling,__)},x._resetIsScrolling=function(){x._resetIsScrollingTimeoutId=null,x.setState({isScrolling:!1},function(){x._getItemStyleCache(-1,null)})},x}_.getDerivedStateFromProps=function(x,w){return C_(x,w),y(x),null};var A=_.prototype;return A.scrollTo=function(x){x=Math.max(0,x),this.setState(function(w){return w.scrollOffset===x?null:{scrollDirection:w.scrollOffset<x?"forward":"backward",scrollOffset:x,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},A.scrollToItem=function(x,w){w===void 0&&(w="auto");var R=this.props,H=R.itemCount,L=R.layout,z=this.state.scrollOffset;x=Math.max(0,Math.min(x,H-1));var J=0;if(this._outerRef){var U=this._outerRef;L==="vertical"?J=U.scrollWidth>U.clientWidth?Bm():0:J=U.scrollHeight>U.clientHeight?Bm():0}this.scrollTo(c(this.props,x,w,z,this._instanceProps,J))},A.componentDidMount=function(){var x=this.props,w=x.direction,R=x.initialScrollOffset,H=x.layout;if(typeof R=="number"&&this._outerRef!=null){var L=this._outerRef;w==="horizontal"||H==="horizontal"?L.scrollLeft=R:L.scrollTop=R}this._callPropsCallbacks()},A.componentDidUpdate=function(){var x=this.props,w=x.direction,R=x.layout,H=this.state,L=H.scrollOffset,z=H.scrollUpdateWasRequested;if(z&&this._outerRef!=null){var J=this._outerRef;if(w==="horizontal"||R==="horizontal")if(w==="rtl")switch(qm()){case"negative":J.scrollLeft=-L;break;case"positive-ascending":J.scrollLeft=L;break;default:var U=J.clientWidth,F=J.scrollWidth;J.scrollLeft=F-U-L;break}else J.scrollLeft=L;else J.scrollTop=L}this._callPropsCallbacks()},A.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Hm(this._resetIsScrollingTimeoutId)},A.render=function(){var x=this.props,w=x.children,R=x.className,H=x.direction,L=x.height,z=x.innerRef,J=x.innerElementType,U=x.innerTagName,F=x.itemCount,j=x.itemData,Q=x.itemKey,te=Q===void 0?T_:Q,re=x.layout,me=x.outerElementType,_e=x.outerTagName,ge=x.style,Me=x.useIsScrolling,P=x.width,Y=this.state.isScrolling,$=H==="horizontal"||re==="horizontal",Z=$?this._onScrollHorizontal:this._onScrollVertical,ne=this._getRangeToRender(),I=ne[0],q=ne[1],W=[];if(F>0)for(var ee=I;ee<=q;ee++)W.push(ae.createElement(w,{data:j,key:te(ee,j),index:ee,isScrolling:Me?Y:void 0,style:this._getItemStyle(ee)}));var le=s(this.props,this._instanceProps);return ae.createElement(me||_e||"div",{className:R,onScroll:Z,ref:this._outerRefSetter,style:qu({position:"relative",height:L,width:P,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:H},ge)},ae.createElement(J||U||"div",{children:W,ref:z,style:{height:$?"100%":le,pointerEvents:Y?"none":void 0,width:$?le:"100%"}}))},A._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var x=this.props.itemCount;if(x>0){var w=this._getRangeToRender(),R=w[0],H=w[1],L=w[2],z=w[3];this._callOnItemsRendered(R,H,L,z)}}if(typeof this.props.onScroll=="function"){var J=this.state,U=J.scrollDirection,F=J.scrollOffset,j=J.scrollUpdateWasRequested;this._callOnScroll(U,F,j)}},A._getRangeToRender=function(){var x=this.props,w=x.itemCount,R=x.overscanCount,H=this.state,L=H.isScrolling,z=H.scrollDirection,J=H.scrollOffset;if(w===0)return[0,0,0,0];var U=d(this.props,J,this._instanceProps),F=g(this.props,U,J,this._instanceProps),j=!L||z==="backward"?Math.max(1,R):1,Q=!L||z==="forward"?Math.max(1,R):1;return[Math.max(0,U-j),Math.max(0,Math.min(w-1,F+Q)),U,F]},_})(ae.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var C_=function(t,o){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,o.instance},E_=S_({getItemOffset:function(t,o){var s=t.itemSize;return o*s},getItemSize:function(t,o){var s=t.itemSize;return s},getEstimatedTotalSize:function(t){var o=t.itemCount,s=t.itemSize;return s*o},getOffsetForIndexAndAlignment:function(t,o,s,r,c,d){var g=t.direction,v=t.height,m=t.itemCount,y=t.itemSize,S=t.layout,_=t.width,A=g==="horizontal"||S==="horizontal",b=A?_:v,x=Math.max(0,m*y-b),w=Math.min(x,o*y),R=Math.max(0,o*y-b+y+d);switch(s==="smart"&&(r>=R-b&&r<=w+b?s="auto":s="center"),s){case"start":return w;case"end":return R;case"center":{var H=Math.round(R+(w-R)/2);return H<Math.ceil(b/2)?0:H>x+Math.floor(b/2)?x:H}default:return r>=R&&r<=w?r:r<R?R:w}},getStartIndexForOffset:function(t,o){var s=t.itemCount,r=t.itemSize;return Math.max(0,Math.min(s-1,Math.floor(o/r)))},getStopIndexForStartIndex:function(t,o,s){var r=t.direction,c=t.height,d=t.itemCount,g=t.itemSize,v=t.layout,m=t.width,y=r==="horizontal"||v==="horizontal",S=o*g,_=y?m:c,A=Math.ceil((_+s-S)/g);return Math.max(0,Math.min(d-1,o+A-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});let Vt;typeof window<"u"?Vt=window:typeof self<"u"?Vt=self:Vt=global;let Pu=null,Ou=null;const Vm=20,Ru=Vt.clearTimeout,Pm=Vt.setTimeout,Mu=Vt.cancelAnimationFrame||Vt.mozCancelAnimationFrame||Vt.webkitCancelAnimationFrame,Om=Vt.requestAnimationFrame||Vt.mozRequestAnimationFrame||Vt.webkitRequestAnimationFrame;Mu==null||Om==null?(Pu=Ru,Ou=function(t){return Pm(t,Vm)}):(Pu=function([t,o]){Mu(t),Ru(o)},Ou=function(t){const o=Om(function(){Ru(s),t()}),s=Pm(function(){Mu(o),t()},Vm);return[o,s]});function A_(i){let t,o,s,r,c,d,g;const v=typeof document<"u"&&document.attachEvent;if(!v){d=function(R){const H=R.__resizeTriggers__,L=H.firstElementChild,z=H.lastElementChild,J=L.firstElementChild;z.scrollLeft=z.scrollWidth,z.scrollTop=z.scrollHeight,J.style.width=L.offsetWidth+1+"px",J.style.height=L.offsetHeight+1+"px",L.scrollLeft=L.scrollWidth,L.scrollTop=L.scrollHeight},c=function(R){return R.offsetWidth!==R.__resizeLast__.width||R.offsetHeight!==R.__resizeLast__.height},g=function(R){if(R.target.className&&typeof R.target.className.indexOf=="function"&&R.target.className.indexOf("contract-trigger")<0&&R.target.className.indexOf("expand-trigger")<0)return;const H=this;d(this),this.__resizeRAF__&&Pu(this.__resizeRAF__),this.__resizeRAF__=Ou(function(){c(H)&&(H.__resizeLast__.width=H.offsetWidth,H.__resizeLast__.height=H.offsetHeight,H.__resizeListeners__.forEach(function(J){J.call(H,R)}))})};let _=!1,A="";s="animationstart";const b="Webkit Moz O ms".split(" ");let x="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),w="";{const R=document.createElement("fakeelement");if(R.style.animationName!==void 0&&(_=!0),_===!1){for(let H=0;H<b.length;H++)if(R.style[b[H]+"AnimationName"]!==void 0){w=b[H],A="-"+w.toLowerCase()+"-",s=x[H],_=!0;break}}}o="resizeanim",t="@"+A+"keyframes "+o+" { from { opacity: 0; } to { opacity: 0; } } ",r=A+"animation: 1ms "+o+"; "}const m=function(_){if(!_.getElementById("detectElementResize")){const A=(t||"")+".resize-triggers { "+(r||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',b=_.head||_.getElementsByTagName("head")[0],x=_.createElement("style");x.id="detectElementResize",x.type="text/css",i!=null&&x.setAttribute("nonce",i),x.styleSheet?x.styleSheet.cssText=A:x.appendChild(_.createTextNode(A)),b.appendChild(x)}};return{addResizeListener:function(_,A){if(v)_.attachEvent("onresize",A);else{if(!_.__resizeTriggers__){const b=_.ownerDocument,x=Vt.getComputedStyle(_);x&&x.position==="static"&&(_.style.position="relative"),m(b),_.__resizeLast__={},_.__resizeListeners__=[],(_.__resizeTriggers__=b.createElement("div")).className="resize-triggers";const w=b.createElement("div");w.className="expand-trigger",w.appendChild(b.createElement("div"));const R=b.createElement("div");R.className="contract-trigger",_.__resizeTriggers__.appendChild(w),_.__resizeTriggers__.appendChild(R),_.appendChild(_.__resizeTriggers__),d(_),_.addEventListener("scroll",g,!0),s&&(_.__resizeTriggers__.__animationListener__=function(L){L.animationName===o&&d(_)},_.__resizeTriggers__.addEventListener(s,_.__resizeTriggers__.__animationListener__))}_.__resizeListeners__.push(A)}},removeResizeListener:function(_,A){if(v)_.detachEvent("onresize",A);else if(_.__resizeListeners__.splice(_.__resizeListeners__.indexOf(A),1),!_.__resizeListeners__.length){_.removeEventListener("scroll",g,!0),_.__resizeTriggers__.__animationListener__&&(_.__resizeTriggers__.removeEventListener(s,_.__resizeTriggers__.__animationListener__),_.__resizeTriggers__.__animationListener__=null);try{_.__resizeTriggers__=!_.removeChild(_.__resizeTriggers__)}catch{}}}}}class x_ extends ae.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:o,disableWidth:s,onResize:r}=this.props;if(this._parentNode){const c=window.getComputedStyle(this._parentNode)||{},d=parseFloat(c.paddingLeft||"0"),g=parseFloat(c.paddingRight||"0"),v=parseFloat(c.paddingTop||"0"),m=parseFloat(c.paddingBottom||"0"),y=this._parentNode.getBoundingClientRect(),S=y.height-v-m,_=y.width-d-g;if(!o&&this.state.height!==S||!s&&this.state.width!==_){this.setState({height:S,width:_});const A=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof r=="function"&&r({height:S,width:_,get scaledHeight(){return A(),S},get scaledWidth(){return A(),_}})}}},this._setRef=o=>{this._autoSizer=o}}componentDidMount(){const{nonce:t}=this.props,o=this._autoSizer?this._autoSizer.parentNode:null;if(o!=null&&o.ownerDocument&&o.ownerDocument.defaultView&&o instanceof o.ownerDocument.defaultView.HTMLElement){this._parentNode=o;const s=o.ownerDocument.defaultView.ResizeObserver;s!=null?(this._resizeObserver=new s(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(o)):(this._detectElementResize=A_(t),this._detectElementResize.addResizeListener(o,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:t,defaultHeight:o,defaultWidth:s,disableHeight:r=!1,disableWidth:c=!1,doNotBailOutOnEmptyChildren:d=!1,nonce:g,onResize:v,style:m={},tagName:y="div",...S}=this.props,{height:_,width:A}=this.state,b={overflow:"visible"},x={};let w=!1;return r||(_===0&&(w=!0),b.height=0,x.height=_,x.scaledHeight=_),c||(A===0&&(w=!0),b.width=0,x.width=A,x.scaledWidth=A),d&&(w=!1),ae.createElement(y,{ref:this._setRef,style:{...b,...m},...S},!w&&t(x))}}const w_=({book:i,onClick:t,isSelectable:o=!1,isSelected:s=!1})=>{const r=i.coverUrl&&i.coverUrl.trim().length>0?i.coverUrl:`https://picsum.photos/seed/${i.id}/300/450`,c=d=>{o&&d.stopPropagation(),t(i)};return C.jsxs("div",{onClick:c,className:`group relative bg-slate-800 rounded-lg shadow-lg border overflow-hidden transition-all duration-300 flex flex-col h-full cursor-pointer
        ${s?"border-indigo-500 ring-2 ring-indigo-500/50 translate-y-[-4px] shadow-indigo-500/20":"border-slate-700 hover:shadow-indigo-500/20 hover:border-indigo-500/40 hover:-translate-y-1"}
      `,children:[C.jsxs("div",{className:"relative aspect-[2/3] w-full overflow-hidden bg-slate-700",children:[C.jsx("img",{src:r,alt:i.title,className:`w-full h-full object-cover transition-transform duration-500 ${!o&&"group-hover:scale-105"}`,loading:"lazy",referrerPolicy:"no-referrer",onError:d=>{const g=d.target;g.src!==`https://picsum.photos/seed/${i.id}/300/450`&&(g.src=`https://picsum.photos/seed/${i.id}/300/450`)}}),o&&C.jsx("div",{className:`absolute inset-0 transition-colors ${s?"bg-indigo-900/40":"bg-black/0 group-hover:bg-black/10"}`,children:C.jsx("div",{className:"absolute top-2 right-2",children:s?C.jsx("div",{className:"bg-indigo-500 text-white rounded-full p-0.5 shadow-lg",children:C.jsx(Ih,{size:24,fill:"currentColor",className:"text-white"})}):C.jsx("div",{className:"bg-slate-900/50 text-slate-300 rounded-full p-0.5 backdrop-blur-sm border border-slate-500/50 hover:bg-slate-800 hover:border-indigo-400",children:C.jsx(M1,{size:24})})})})]}),C.jsx("div",{className:"p-3 flex flex-col flex-grow bg-slate-800",children:C.jsxs("div",{className:"mb-1",children:[C.jsx("h3",{className:"font-bold text-slate-100 text-sm leading-snug line-clamp-2 mb-0.5 group-hover:text-indigo-300 transition-colors",title:i.title,children:i.title}),C.jsx("p",{className:"text-slate-400 text-xs font-medium line-clamp-1",children:i.author})]})})]})},b_=({category:i,representativeBook:t,bookCount:o,onClick:s})=>{const r=t?.coverUrl&&t.coverUrl.trim().length>0?t.coverUrl:null;return C.jsxs("div",{onClick:()=>s(i.name),className:"group relative bg-slate-800 rounded-lg shadow-lg border border-slate-700 overflow-hidden hover:shadow-indigo-500/20 hover:border-indigo-500/40 transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col h-full",children:[C.jsxs("div",{className:"relative aspect-[2/3] w-full overflow-hidden bg-slate-700 shrink-0",children:[r?C.jsx("img",{src:r,alt:i.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 opacity-90 group-hover:opacity-100",loading:"lazy",referrerPolicy:"no-referrer",onError:c=>{c.target.style.display="none"}}):C.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-800 text-slate-600",children:C.jsx(_n,{size:48,strokeWidth:1.5})}),C.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-colors"})]}),C.jsxs("div",{className:"p-3 flex flex-col flex-grow bg-slate-800 border-t border-slate-700/50",children:[C.jsx("h3",{className:"font-bold text-slate-100 text-sm leading-snug line-clamp-2 mb-1 group-hover:text-indigo-300 transition-colors",title:i.name,children:i.name}),C.jsxs("div",{className:"flex items-center justify-between mt-auto pt-1",children:[C.jsxs("span",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:[o," "]}),C.jsx("div",{className:"text-slate-500 group-hover:text-indigo-400 group-hover:translate-x-0.5 transition-all",children:C.jsx(co,{size:14})})]})]}),C.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-rose-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})},N_=i=>i.children!==void 0,uc=i=>{let t=[i.name];return i.children&&i.children.forEach(o=>{t=t.concat(uc(o))}),t},I_=(i,t)=>{const o=uc(i),s=t.filter(r=>o.includes(r.category));return s.length>0?s[0]:void 0},R_=(i,t)=>{const o=uc(i);return t.filter(s=>o.includes(s.category)).length},M_=({viewData:i,books:t,isBatchMode:o,selectedBookIds:s,onBookClick:r,onBatchSelect:c,onCategoryClick:d,onAddFirstBook:g,isLoading:v})=>{if(i.items.length===0&&!v)return C.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center border-2 border-dashed border-slate-800 rounded-2xl bg-slate-900/20",children:[C.jsx("div",{className:"w-20 h-20 bg-slate-800/50 text-slate-600 rounded-full flex items-center justify-center mb-4",children:C.jsx(T1,{size:40})}),C.jsx("h3",{className:"text-xl font-medium text-slate-200 mb-2",children:t.length===0?"":""}),C.jsx("p",{className:"text-slate-500 max-w-sm mb-6",children:t.length===0?"":""}),t.length===0&&C.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-3 rounded-xl font-medium transition-all shadow-lg hover:shadow-indigo-500/20",children:[" ",C.jsx(uo,{size:18})]})]});const m=20;return C.jsx("div",{className:"flex-1 h-full pb-20",children:C.jsx(x_,{children:({height:y,width:S})=>{let _=2;S>=1536?_=8:S>=1280?_=7:S>=1024?_=6:S>=768?_=4:S>=640&&(_=3);const A=Math.ceil(i.items.length/_),b=(S-m*(_-1))/_,x=b*1.5+88;return C.jsx(E_,{height:y,itemCount:A,itemSize:x,width:S,className:"custom-scrollbar",children:({index:w,style:R})=>{const H=[];for(let z=0;z<_;z++){const J=w*_+z;J<i.items.length&&H.push({item:i.items[J],index:J})}const L={...R,height:Number(R.height)-m,marginBottom:m};return C.jsx("div",{style:L,className:"flex gap-[20px]",children:H.map(({item:z,index:J})=>C.jsx("div",{style:{width:b,height:"100%"},children:N_(z)?C.jsx(b_,{category:z,representativeBook:I_(z,t),bookCount:R_(z,t),onClick:d}):C.jsx(w_,{book:z,onClick:U=>o?c(U.id):r(U),isSelectable:o,isSelected:s.has(z.id)})},z.id))})}})}})})};var cl={exports:{}},Du={},Uu,Jm;function D_(){if(Jm)return Uu;Jm=1;function i(t,o){typeof o=="boolean"&&(o={forever:o}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=o||{},this._maxRetryTime=o&&o.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Uu=i,i.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},i.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},i.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var o=new Date().getTime();if(t&&o-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},s),this._options.unref&&this._timer.unref(),!0},i.prototype.attempt=function(t,o){this._fn=t,o&&(o.timeout&&(this._operationTimeout=o.timeout),o.cb&&(this._operationTimeoutCb=o.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},i.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},i.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},i.prototype.start=i.prototype.try,i.prototype.errors=function(){return this._errors},i.prototype.attempts=function(){return this._attempts},i.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},o=null,s=0,r=0;r<this._errors.length;r++){var c=this._errors[r],d=c.message,g=(t[d]||0)+1;t[d]=g,g>=s&&(o=c,s=g)}return o},Uu}var Fm;function U_(){return Fm||(Fm=1,(function(i){var t=D_();i.operation=function(o){var s=i.timeouts(o);return new t(s,{forever:o&&(o.forever||o.retries===1/0),unref:o&&o.unref,maxRetryTime:o&&o.maxRetryTime})},i.timeouts=function(o){if(o instanceof Array)return[].concat(o);var s={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in o)s[r]=o[r];if(s.minTimeout>s.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var c=[],d=0;d<s.retries;d++)c.push(this.createTimeout(d,s));return o&&o.forever&&!c.length&&c.push(this.createTimeout(d,s)),c.sort(function(g,v){return g-v}),c},i.createTimeout=function(o,s){var r=s.randomize?Math.random()+1:1,c=Math.round(r*Math.max(s.minTimeout,1)*Math.pow(s.factor,o));return c=Math.min(c,s.maxTimeout),c},i.wrap=function(o,s,r){if(s instanceof Array&&(r=s,s=null),!r){r=[];for(var c in o)typeof o[c]=="function"&&r.push(c)}for(var d=0;d<r.length;d++){var g=r[d],v=o[g];o[g]=(function(y){var S=i.operation(s),_=Array.prototype.slice.call(arguments,1),A=_.pop();_.push(function(b){S.retry(b)||(b&&(arguments[0]=S.mainError()),A.apply(this,arguments))}),S.attempt(function(){y.apply(o,_)})}).bind(o,v),o[g].options=s}}})(Du)),Du}var Lu,Ym;function L_(){return Ym||(Ym=1,Lu=U_()),Lu}var Km;function z_(){if(Km)return cl.exports;Km=1;const i=L_(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(g){super(),g instanceof Error?(this.originalError=g,{message:g}=g):(this.originalError=new Error(g),this.originalError.stack=this.stack),this.name="AbortError",this.message=g}}const s=(d,g,v)=>{const m=v.retries-(g-1);return d.attemptNumber=g,d.retriesLeft=m,d},r=d=>t.includes(d),c=(d,g)=>new Promise((v,m)=>{g={onFailedAttempt:()=>{},retries:10,...g};const y=i.operation(g);y.attempt(async S=>{try{v(await d(S))}catch(_){if(!(_ instanceof Error)){m(new TypeError(`Non-error was thrown: "${_}". You should only throw errors.`));return}if(_ instanceof o)y.stop(),m(_.originalError);else if(_ instanceof TypeError&&!r(_.message))y.stop(),m(_);else{s(_,S,g);try{await g.onFailedAttempt(_)}catch(A){m(A);return}y.retry(_)||m(y.mainError())}}})});return cl.exports=c,cl.exports.default=c,cl.exports.AbortError=o,cl.exports}var Lh=z_();const G_=lc(Lh);var k_={};let H_,B_;function q_(){return{geminiUrl:H_,vertexUrl:B_}}function V_(i,t,o,s){var r,c;if(!i?.baseUrl){const d=q_();return t?(r=d.vertexUrl)!==null&&r!==void 0?r:o:(c=d.geminiUrl)!==null&&c!==void 0?c:s}return i.baseUrl}class Sn{}function ie(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,o){for(let c=0;c<t.length-1;c++){const d=t[c];if(d.endsWith("[]")){const g=d.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(i[g])){const v=i[g];if(Array.isArray(o))for(let m=0;m<v.length;m++){const y=v[m];f(y,t.slice(c+1),o[m])}else for(const m of v)f(m,t.slice(c+1),o)}return}else if(d.endsWith("[0]")){const g=d.slice(0,-3);g in i||(i[g]=[{}]);const v=i[g];f(v[0],t.slice(c+1),o);return}(!i[d]||typeof i[d]!="object")&&(i[d]={}),i=i[d]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return o;const r=t[s];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const d=i[c];return Array.isArray(d)?d.map(g=>u(g,t.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function P_(i,t){for(const[o,s]of Object.entries(t)){const r=o.split("."),c=s.split("."),d=new Set;let g=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){g=v;break}if(g!==-1&&c.length>g)for(let v=g;v<c.length;v++){const m=c[v];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}Ju(i,r,c,0,d)}}function Ju(i,t,o,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const c=t[s];if(c.endsWith("[]")){const d=c.slice(0,-2),g=i;if(d in g&&Array.isArray(g[d]))for(const v of g[d])Ju(v,t,o,s+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const d=i,g=Object.keys(d).filter(m=>!m.startsWith("_")&&!r.has(m)),v={};for(const m of g)v[m]=d[m];for(const[m,y]of Object.entries(v)){const S=[];for(const _ of o.slice(s))_==="*"?S.push(m):S.push(_);f(d,S,y)}for(const m of g)delete d[m]}}else{const d=i;c in d&&Ju(d[c],t,o,s+1,r)}}function cc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function O_(i){const t={},o=u(i,["operationName"]);o!=null&&f(t,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&f(t,["_url","resourceName"],s),t}function J_(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],Y_(d)),t}function F_(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],K_(d)),t}function Y_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>X_(d))),f(t,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function K_(i){const t={},o=u(i,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Q_(d))),f(t,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function X_(i){const t={},o=u(i,["video"]);return o!=null&&f(t,["video"],tT(o)),t}function Q_(i){const t={},o=u(i,["_self"]);return o!=null&&f(t,["video"],nT(o)),t}function $_(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function Z_(i){const t={},o=u(i,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function W_(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],j_(d)),t}function j_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function zh(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],eT(d)),t}function eT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function tT(i){const t={},o=u(i,["uri"]);o!=null&&f(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&f(t,["videoBytes"],cc(s));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function nT(i){const t={},o=u(i,["gcsUri"]);o!=null&&f(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],cc(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}var Xm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xm||(Xm={}));var Qm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Qm||(Qm={}));var $m;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})($m||($m={}));var yt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(yt||(yt={}));var Zm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Zm||(Zm={}));var Wm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Wm||(Wm={}));var jm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jm||(jm={}));var e0;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(e0||(e0={}));var t0;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(t0||(t0={}));var n0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(n0||(n0={}));var i0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(i0||(i0={}));var o0;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(o0||(o0={}));var l0;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(l0||(l0={}));var s0;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(s0||(s0={}));var a0;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(a0||(a0={}));var r0;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(r0||(r0={}));var u0;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(u0||(u0={}));var c0;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(c0||(c0={}));var f0;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(f0||(f0={}));var d0;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(d0||(d0={}));var p0;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(p0||(p0={}));var Os;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Os||(Os={}));var m0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(m0||(m0={}));var h0;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(h0||(h0={}));var g0;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(g0||(g0={}));var Fu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Fu||(Fu={}));var v0;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(v0||(v0={}));var y0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(y0||(y0={}));var Yu;(function(i){i.COLLECTION="COLLECTION"})(Yu||(Yu={}));var _0;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(_0||(_0={}));var T0;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(T0||(T0={}));var Js;(function(i){i.PREDICT="PREDICT",i.EMBED_CONTENT="EMBED_CONTENT"})(Js||(Js={}));var S0;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(S0||(S0={}));var C0;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(C0||(C0={}));var E0;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(E0||(E0={}));var A0;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(A0||(A0={}));var x0;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(x0||(x0={}));var w0;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(w0||(w0={}));var b0;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(b0||(b0={}));var N0;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(N0||(N0={}));var I0;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(I0||(I0={}));var R0;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(R0||(R0={}));var M0;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(M0||(M0={}));var D0;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(D0||(D0={}));var U0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(U0||(U0={}));var L0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(L0||(L0={}));var z0;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(z0||(z0={}));var G0;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(G0||(G0={}));var k0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(k0||(k0={}));var H0;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(H0||(H0={}));var B0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(B0||(B0={}));var q0;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(q0||(q0={}));var V0;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(V0||(V0={}));var P0;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(P0||(P0={}));var O0;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(O0||(O0={}));var J0;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(J0||(J0={}));var F0;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(F0||(F0={}));var lo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(lo||(lo={}));class Ku{constructor(t){const o={};for(const s of t.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class fl{get text(){var t,o,s,r,c,d,g,v;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const S=[];for(const _ of(v=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[A,b]of Object.entries(_))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(b!==null||b!==void 0)&&S.push(A);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;y=!0,m+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var t,o,s,r,c,d,g,v;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const S of(v=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[_,A]of Object.entries(S))_!=="inlineData"&&(A!==null||A!==void 0)&&y.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,s,r,c,d,g,v;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(v=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if(m?.length!==0)return m}get executableCode(){var t,o,s,r,c,d,g,v,m;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if(y?.length!==0)return(m=y?.[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,s,r,c,d,g,v,m;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(g=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if(y?.length!==0)return(m=y?.[0])===null||m===void 0?void 0:m.output}}class Y0{}class K0{}class iT{}class oT{}class lT{}class sT{}class X0{}class Q0{}class $0{}class aT{}class Fs{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Fs;let r;const c=t;return o?r=F_(c):r=J_(c),Object.assign(s,r),s}}class Z0{}class W0{}class j0{}class eh{}class rT{}class uT{}class cT{}class fc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new fc,c=W_(t);return Object.assign(s,c),s}}class fT{}class dT{}class pT{}class mT{}class th{}class hT{get text(){var t,o,s;let r="",c=!1;const d=[];for(const g of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[v,m]of Object.entries(g))v!=="text"&&v!=="thought"&&m!==null&&d.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,o,s;let r="";const c=[];for(const d of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,v]of Object.entries(d))g!=="inlineData"&&v!==null&&c.push(g);d.inlineData&&typeof d.inlineData.data=="string"&&(r+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class gT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class dc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new dc,c=zh(t);return Object.assign(s,c),s}}function Ie(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Gh(i,t){const o=Ie(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function kh(i){return Array.isArray(i)?i.map(t=>Ys(t)):[Ys(i)]}function Ys(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Hh(i){const t=Ys(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Bh(i){const t=Ys(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function nh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function qh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>nh(t)):[nh(i)]}function Xu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function ih(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function oh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function je(i){if(i==null)throw new Error("ContentUnion is required");return Xu(i)?i:{role:"user",parts:qh(i)}}function pc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const s=je(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=je(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>je(o)):[je(t)]}function It(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(ih(i)||oh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[je(i)]}const t=[],o=[],s=Xu(i[0]);for(const r of i){const c=Xu(r);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(ih(r)||oh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||t.push({role:"user",parts:qh(o)}),t}function vT(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)t.type=Object.values(yt).includes(o[0].toUpperCase())?o[0].toUpperCase():yt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of o)t.anyOf.push({type:Object.values(yt).includes(s.toUpperCase())?s.toUpperCase():yt.TYPE_UNSPECIFIED})}}function ao(i){const t={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&vT(i.type,t);for(const[d,g]of Object.entries(i))if(g!=null)if(d=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(yt).includes(g.toUpperCase())?g.toUpperCase():yt.TYPE_UNSPECIFIED}else if(o.includes(d))t[d]=ao(g);else if(s.includes(d)){const v=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}v.push(ao(m))}t[d]=v}else if(r.includes(d)){const v={};for(const[m,y]of Object.entries(g))v[m]=ao(y);t[d]=v}else{if(d==="additionalProperties")continue;t[d]=g}return t}function mc(i){return ao(i)}function hc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function gc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function fo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ao(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ao(t.response));return i}function po(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function yT(i,t,o,s=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Cn(i,t){if(typeof t!="string")throw new Error("name must be a string");return yT(i,t,"cachedContents")}function Vh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Qn(i){return cc(i)}function _T(i){return i!=null&&typeof i=="object"&&"name"in i}function TT(i){return i!=null&&typeof i=="object"&&"video"in i}function ST(i){return i!=null&&typeof i=="object"&&"uri"in i}function Ph(i){var t;let o;if(_T(i)&&(o=i.name),!(ST(i)&&(o=i.uri,o===void 0))&&!(TT(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Oh(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Jh(i){for(const t of["models","tunedModels","publisherModels"])if(CT(i,t))return i[t];return[]}function CT(i,t){return i!==null&&typeof i=="object"&&t in i}function ET(i,t={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function AT(i,t={}){const o=[],s=new Set;for(const r of i){const c=r.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const d=ET(r,t);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function Fh(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function xT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Yh(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const d of r){if(typeof d!="object"||d===null)continue;const v=d.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function mo(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Kh(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function wT(i){return i.includes("gemini")&&i!=="gemini-embedding-001"||i.includes("maas")}function bT(i){const t={},o=u(i,["responsesFile"]);o!=null&&f(t,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>aS(d))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["inlinedEmbedContentResponses"],c)}return t}function NT(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&f(t,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&f(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function IT(i){const t={},o=u(i,["format"]);o!=null&&f(t,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&f(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Bs(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],Kh(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const d=u(i,["metadata","endTime"]);d!=null&&f(t,["endTime"],d);const g=u(i,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const v=u(i,["metadata","model"]);v!=null&&f(t,["model"],v);const m=u(i,["metadata","output"]);return m!=null&&f(t,["dest"],bT(Yh(m))),t}function Qu(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const s=u(i,["displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["state"]);r!=null&&f(t,["state"],Kh(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["createTime"]);d!=null&&f(t,["createTime"],d);const g=u(i,["startTime"]);g!=null&&f(t,["startTime"],g);const v=u(i,["endTime"]);v!=null&&f(t,["endTime"],v);const m=u(i,["updateTime"]);m!=null&&f(t,["updateTime"],m);const y=u(i,["model"]);y!=null&&f(t,["model"],y);const S=u(i,["inputConfig"]);S!=null&&f(t,["src"],RT(S));const _=u(i,["outputConfig"]);_!=null&&f(t,["dest"],NT(Yh(_)));const A=u(i,["completionStats"]);return A!=null&&f(t,["completionStats"],A),t}function RT(i){const t={},o=u(i,["instancesFormat"]);o!=null&&f(t,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&f(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function MT(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&f(o,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>sS(i,d))),f(o,["requests","requests"],c)}return o}function DT(i){const t={},o=u(i,["format"]);o!=null&&f(t,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&f(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function UT(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function LT(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],mo(i,s)),o}function zT(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],mo(i,s)),o}function GT(i){const t={},o=u(i,["content"]);o!=null&&f(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],kT(s));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const d=u(i,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&f(t,["index"],v);const m=u(i,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const y=u(i,["safetyRatings"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(A=>A)),f(t,["safetyRatings"],_)}const S=u(i,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function kT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["citations"],s)}return t}function Xh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>mS(c))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function HT(i,t){const o={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&f(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function BT(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],IT(xT(r))),o}function lh(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(i,s));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],MT(i,Fh(i,r)));const c=u(t,["config"]);return c!=null&&HT(c,o),o}function qT(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["model"],Ie(i,s));const r=u(t,["src"]);r!=null&&f(o,["inputConfig"],DT(Fh(i,r)));const c=u(t,["config"]);return c!=null&&BT(c,o),o}function VT(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&f(t,["batch","displayName"],s),o}function PT(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["_url","model"],Ie(i,s));const r=u(t,["src"]);r!=null&&f(o,["batch","inputConfig"],QT(i,r));const c=u(t,["config"]);return c!=null&&VT(c,o),o}function OT(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],mo(i,s)),o}function JT(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],mo(i,s)),o}function FT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function YT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function KT(i,t){const o={},s=u(t,["contents"]);if(s!=null){let c=pc(i,s);Array.isArray(c)&&(c=c.map(d=>d)),f(o,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(o,["_self"],XT(r,o)),P_(o,{"requests[].*":"requests[].request.*"})),o}function XT(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function QT(i,t){const o={},s=u(t,["fileName"]);s!=null&&f(o,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&f(o,["requests"],KT(i,r)),o}function $T(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function ZT(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function WT(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function jT(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&f(o,["systemInstruction"],Xh(je(r)));const c=u(t,["temperature"]);c!=null&&f(s,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(s,["topP"],d);const g=u(t,["topK"]);g!=null&&f(s,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&f(s,["candidateCount"],v);const m=u(t,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const y=u(t,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const S=u(t,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const _=u(t,["logprobs"]);_!=null&&f(s,["logprobs"],_);const A=u(t,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const b=u(t,["frequencyPenalty"]);b!=null&&f(s,["frequencyPenalty"],b);const x=u(t,["seed"]);x!=null&&f(s,["seed"],x);const w=u(t,["responseMimeType"]);w!=null&&f(s,["responseMimeType"],w);const R=u(t,["responseSchema"]);R!=null&&f(s,["responseSchema"],mc(R));const H=u(t,["responseJsonSchema"]);if(H!=null&&f(s,["responseJsonSchema"],H),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=u(t,["safetySettings"]);if(o!==void 0&&L!=null){let _e=L;Array.isArray(_e)&&(_e=_e.map(ge=>hS(ge))),f(o,["safetySettings"],_e)}const z=u(t,["tools"]);if(o!==void 0&&z!=null){let _e=po(z);Array.isArray(_e)&&(_e=_e.map(ge=>vS(fo(ge)))),f(o,["tools"],_e)}const J=u(t,["toolConfig"]);if(o!==void 0&&J!=null&&f(o,["toolConfig"],gS(J)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=u(t,["cachedContent"]);o!==void 0&&U!=null&&f(o,["cachedContent"],Cn(i,U));const F=u(t,["responseModalities"]);F!=null&&f(s,["responseModalities"],F);const j=u(t,["mediaResolution"]);j!=null&&f(s,["mediaResolution"],j);const Q=u(t,["speechConfig"]);if(Q!=null&&f(s,["speechConfig"],hc(Q)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=u(t,["thinkingConfig"]);te!=null&&f(s,["thinkingConfig"],te);const re=u(t,["imageConfig"]);re!=null&&f(s,["imageConfig"],lS(re));const me=u(t,["enableEnhancedCivicAnswers"]);if(me!=null&&f(s,["enableEnhancedCivicAnswers"],me),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function eS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(m=>GT(m))),f(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const d=u(i,["responseId"]);d!=null&&f(t,["responseId"],d);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function tS(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],mo(i,s)),o}function nS(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],mo(i,s)),o}function iS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function oS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function lS(i){const t={},o=u(i,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function sS(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["request","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let g=It(r);Array.isArray(g)&&(g=g.map(v=>Xh(v))),f(o,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(o,["metadata"],c);const d=u(t,["config"]);return d!=null&&f(o,["request","generationConfig"],jT(i,d,u(o,["request"],{}))),o}function aS(i){const t={},o=u(i,["response"]);o!=null&&f(t,["response"],eS(o));const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["error"]);return r!=null&&f(t,["error"],r),t}function rS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function uS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),o}function cS(i){const t={},o=u(i,["config"]);return o!=null&&rS(o,t),t}function fS(i){const t={},o=u(i,["config"]);return o!=null&&uS(o,t),t}function dS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Bs(d))),f(t,["batchJobs"],c)}return t}function pS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Qu(d))),f(t,["batchJobs"],c)}return t}function mS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],$T(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],ZT(d));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],UT(v));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function hS(i){const t={},o=u(i,["category"]);if(o!=null&&f(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function gS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],WT(s)),t}function vS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const d=u(i,["googleMaps"]);d!=null&&f(t,["googleMaps"],iS(d));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],oS(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}var Tn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Tn||(Tn={}));class yi{constructor(t,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,s,r)}init(t,o,s){var r,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(r=d.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class yS extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new yi(Tn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=lh(this.apiClient,t),s=o._url,r=ie("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,v=g.requests,m=[];for(const y of v){const S=Object.assign({},y);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const A=S.request;A.systemInstruction=_,S.request=A}m.push(S)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const c=this.getGcsUri(t),d=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${r}`;else if(d)s.dest=`${d}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=qT(this.apiClient,t);return g=ie("batchPredictionJobs",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>Qu(y))}else{const m=lh(this.apiClient,t);return g=ie("{model}:batchGenerateContent",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Bs(y))}}async createEmbeddingsInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PT(this.apiClient,t);return c=ie("{model}:asyncBatchEmbedContent",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>Bs(v))}}async get(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=nS(this.apiClient,t);return g=ie("batchPredictionJobs/{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>Qu(y))}else{const m=tS(this.apiClient,t);return g=ie("batches/{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Bs(y))}}async cancel(t){var o,s,r,c;let d="",g={};if(this.apiClient.isVertexAI()){const v=zT(this.apiClient,t);d=ie("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=LT(this.apiClient,t);d=ie("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=fS(t);return g=ie("batchPredictionJobs",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=pS(y),_=new th;return Object.assign(_,S),_})}else{const m=cS(t);return g=ie("batches",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=dS(y),_=new th;return Object.assign(_,S),_})}}async delete(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=JT(this.apiClient,t);return g=ie("batchPredictionJobs/{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>YT(y))}else{const m=OT(this.apiClient,t);return g=ie("batches/{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>FT(y))}}}function _S(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function sh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>PS(c))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function TS(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let y=It(d);Array.isArray(y)&&(y=y.map(S=>sh(S))),f(t,["contents"],y)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],sh(je(g)));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(S=>JS(S))),f(t,["tools"],y)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],OS(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function SS(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(i,["contents"]);if(t!==void 0&&d!=null){let S=It(d);Array.isArray(S)&&(S=S.map(_=>_)),f(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],je(g));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>FS(_))),f(t,["tools"],S)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const y=u(i,["kmsKeyName"]);return t!==void 0&&y!=null&&f(t,["encryption_spec","kmsKeyName"],y),o}function CS(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["model"],Gh(i,s));const r=u(t,["config"]);return r!=null&&TS(r,o),o}function ES(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["model"],Gh(i,s));const r=u(t,["config"]);return r!=null&&SS(r,o),o}function AS(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Cn(i,s)),o}function xS(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Cn(i,s)),o}function wS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function bS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function NS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function IS(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function RS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function MS(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function DS(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Cn(i,s)),o}function US(i,t){const o={},s=u(t,["name"]);return s!=null&&f(o,["_url","name"],Cn(i,s)),o}function LS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function zS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function GS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function kS(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function HS(i){const t={},o=u(i,["config"]);return o!=null&&GS(o,t),t}function BS(i){const t={},o=u(i,["config"]);return o!=null&&kS(o,t),t}function qS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function VS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function PS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],NS(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],IS(d));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],_S(v));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function OS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],RS(s)),t}function JS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const d=u(i,["googleMaps"]);d!=null&&f(t,["googleMaps"],LS(d));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],zS(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function FS(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const d=u(i,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(_=>MS(_))),f(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&f(t,["googleSearch"],v);const m=u(i,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],m);const y=u(i,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function YS(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function KS(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),o}function XS(i,t){const o={},s=u(t,["name"]);s!=null&&f(o,["_url","name"],Cn(i,s));const r=u(t,["config"]);return r!=null&&YS(r,o),o}function QS(i,t){const o={},s=u(t,["name"]);s!=null&&f(o,["_url","name"],Cn(i,s));const r=u(t,["config"]);return r!=null&&KS(r,o),o}class $S extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new yi(Tn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=ES(this.apiClient,t);return g=ie("cachedContents",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=CS(this.apiClient,t);return g=ie("cachedContents",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async get(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=US(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=DS(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async delete(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=xS(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=bS(y),_=new j0;return Object.assign(_,S),_})}else{const m=AS(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=wS(y),_=new j0;return Object.assign(_,S),_})}}async update(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=QS(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=XS(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async listInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=BS(t);return g=ie("cachedContents",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=VS(y),_=new eh;return Object.assign(_,S),_})}else{const m=HS(t);return g=ie("cachedContents",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=qS(y),_=new eh;return Object.assign(_,S),_})}}}function Ks(i,t){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function ah(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(i){return this instanceof pe?(this.v=i,this):new pe(i)}function Kt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",d),r[Symbol.asyncIterator]=function(){return this},r;function d(A){return function(b){return Promise.resolve(b).then(A,S)}}function g(A,b){s[A]&&(r[A]=function(x){return new Promise(function(w,R){c.push([A,x,w,R])>1||v(A,x)})},b&&(r[A]=b(r[A])))}function v(A,b){try{m(s[A](b))}catch(x){_(c[0][3],x)}}function m(A){A.value instanceof pe?Promise.resolve(A.value.v).then(y,S):_(c[0][2],A)}function y(A){v("next",A)}function S(A){v("throw",A)}function _(A,b){A(b),c.shift(),c.length&&v(c[0][0],c[0][1])}}function Xt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof ah=="function"?ah(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(c){o[c]=i[c]&&function(d){return new Promise(function(g,v){d=i[c](d),r(g,v,d.done,d.value)})}}function r(c,d,g,v){Promise.resolve(v).then(function(m){c({value:m,done:g})},d)}}function ZS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Qh(o)}function Qh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function WS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function rh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let c=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),c&&!Qh(i[s])&&(c=!1),s++;c?t.push(...r):t.pop()}return t}class jS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new eC(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class eC{constructor(t,o,s,r={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=s,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),WS(c)}async sendMessage(t){var o;await this.sendPromise;const s=je(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,d,g;const v=await r,m=(d=(c=v.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=v.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];y!=null&&(_=(g=y.slice(S))!==null&&g!==void 0?g:[]);const A=m?[m]:[];this.recordHistory(s,A,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const s=je(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,s)}getHistory(t=!1){const o=t?rh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Kt(this,arguments,function*(){var r,c,d,g,v,m;const y=[];try{for(var S=!0,_=Xt(t),A;A=yield pe(_.next()),r=A.done,!r;S=!0){g=A.value,S=!1;const b=g;if(ZS(b)){const x=(m=(v=b.candidates)===null||v===void 0?void 0:v[0])===null||m===void 0?void 0:m.content;x!==void 0&&y.push(x)}yield yield pe(b)}}catch(b){c={error:b}}finally{try{!S&&!r&&(d=_.return)&&(yield pe(d.call(_)))}finally{if(c)throw c.error}}this.recordHistory(o,y)})}recordHistory(t,o,s){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...rh(s)):this.history.push(t),this.history.push(...r)}}class ml extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ml.prototype)}}function tC(i){const t={},o=u(i,["file"]);return o!=null&&f(t,["file"],o),t}function nC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function iC(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Ph(o)),t}function oC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function lC(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","file"],Ph(o)),t}function sC(i){const t={},o=u(i,["uris"]);return o!=null&&f(t,["uris"],o),t}function aC(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function rC(i){const t={},o=u(i,["config"]);return o!=null&&aC(o,t),t}function uC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["files"],c)}return t}function cC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["files"],r)}return t}class fC extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new yi(Tn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rC(t);return c=ie("files",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const m=uC(v),y=new fT;return Object.assign(y,m),y})}}async createInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tC(t);return c=ie("upload/v1beta/files",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const m=nC(v),y=new dT;return Object.assign(y,m),y})}}async get(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lC(t);return c=ie("files/{file}",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iC(t);return c=ie("files/{file}",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const m=oC(v),y=new pT;return Object.assign(y,m),y})}}async registerFilesInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sC(t);return c=ie("files:register",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const m=cC(v),y=new mT;return Object.assign(y,m),y})}}}function qs(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function dC(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>NC(c))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function pC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function mC(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hC(i){const t={},o=u(i,["description"]);o!=null&&f(t,["description"],o);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(i,["response"]);d!=null&&f(t,["response"],d);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function gC(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const d=u(i,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&f(t,["logprobs"],v);const m=u(i,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const y=u(i,["mediaResolution"]);y!=null&&f(t,["mediaResolution"],y);const S=u(i,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const _=u(i,["responseLogprobs"]);_!=null&&f(t,["responseLogprobs"],_);const A=u(i,["responseMimeType"]);A!=null&&f(t,["responseMimeType"],A);const b=u(i,["responseModalities"]);b!=null&&f(t,["responseModalities"],b);const x=u(i,["responseSchema"]);x!=null&&f(t,["responseSchema"],x);const w=u(i,["routingConfig"]);w!=null&&f(t,["routingConfig"],w);const R=u(i,["seed"]);R!=null&&f(t,["seed"],R);const H=u(i,["speechConfig"]);H!=null&&f(t,["speechConfig"],H);const L=u(i,["stopSequences"]);L!=null&&f(t,["stopSequences"],L);const z=u(i,["temperature"]);z!=null&&f(t,["temperature"],z);const J=u(i,["thinkingConfig"]);J!=null&&f(t,["thinkingConfig"],J);const U=u(i,["topK"]);U!=null&&f(t,["topK"],U);const F=u(i,["topP"]);if(F!=null&&f(t,["topP"],F),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function yC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function _C(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],gc(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],dC(je(b)));const x=u(i,["tools"]);if(t!==void 0&&x!=null){let U=po(x);Array.isArray(U)&&(U=U.map(F=>RC(fo(F)))),f(t,["setup","tools"],U)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],IC(w));const R=u(i,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const H=u(i,["outputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","outputAudioTranscription"],H);const L=u(i,["realtimeInputConfig"]);t!==void 0&&L!=null&&f(t,["setup","realtimeInputConfig"],L);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],z);const J=u(i,["proactivity"]);if(t!==void 0&&J!=null&&f(t,["setup","proactivity"],J),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function TC(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],gC(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],gc(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],je(b));const x=u(i,["tools"]);if(t!==void 0&&x!=null){let F=po(x);Array.isArray(F)&&(F=F.map(j=>MC(fo(j)))),f(t,["setup","tools"],F)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],w);const R=u(i,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const H=u(i,["outputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","outputAudioTranscription"],H);const L=u(i,["realtimeInputConfig"]);t!==void 0&&L!=null&&f(t,["setup","realtimeInputConfig"],L);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],z);const J=u(i,["proactivity"]);t!==void 0&&J!=null&&f(t,["setup","proactivity"],J);const U=u(i,["explicitVadSignal"]);return t!==void 0&&U!=null&&f(t,["setup","explicitVadSignal"],U),o}function SC(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&f(o,["config"],_C(r,o)),o}function CC(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&f(o,["config"],TC(r,o)),o}function EC(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function AC(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["weightedPrompts"],s)}return t}function xC(i){const t={},o=u(i,["media"]);if(o!=null){let m=kh(o);Array.isArray(m)&&(m=m.map(y=>qs(y))),f(t,["mediaChunks"],m)}const s=u(i,["audio"]);s!=null&&f(t,["audio"],qs(Bh(s)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],qs(Hh(c)));const d=u(i,["text"]);d!=null&&f(t,["text"],d);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&f(t,["activityEnd"],v),t}function wC(i){const t={},o=u(i,["media"]);if(o!=null){let m=kh(o);Array.isArray(m)&&(m=m.map(y=>y)),f(t,["mediaChunks"],m)}const s=u(i,["audio"]);s!=null&&f(t,["audio"],Bh(s));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Hh(c));const d=u(i,["text"]);d!=null&&f(t,["text"],d);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&f(t,["activityEnd"],v),t}function bC(i){const t={},o=u(i,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&f(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const d=u(i,["usageMetadata"]);d!=null&&f(t,["usageMetadata"],DC(d));const g=u(i,["goAway"]);g!=null&&f(t,["goAway"],g);const v=u(i,["sessionResumptionUpdate"]);v!=null&&f(t,["sessionResumptionUpdate"],v);const m=u(i,["voiceActivityDetectionSignal"]);m!=null&&f(t,["voiceActivityDetectionSignal"],m);const y=u(i,["voiceActivity"]);return y!=null&&f(t,["voiceActivity"],UC(y)),t}function NC(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],pC(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],mC(d));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],qs(v));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function IC(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function RC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const d=u(i,["googleMaps"]);d!=null&&f(t,["googleMaps"],vC(d));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],yC(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function MC(i){const t={},o=u(i,["retrieval"]);o!=null&&f(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const d=u(i,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(_=>hC(_))),f(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&f(t,["googleSearch"],v);const m=u(i,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],m);const y=u(i,["urlContext"]);return y!=null&&f(t,["urlContext"],y),t}function DC(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&f(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const d=u(i,["thoughtsTokenCount"]);d!=null&&f(t,["thoughtsTokenCount"],d);const g=u(i,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const v=u(i,["promptTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(b=>b)),f(t,["promptTokensDetails"],A)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(b=>b)),f(t,["cacheTokensDetails"],A)}const y=u(i,["candidatesTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(b=>b)),f(t,["responseTokensDetails"],A)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(b=>b)),f(t,["toolUsePromptTokensDetails"],A)}const _=u(i,["trafficType"]);return _!=null&&f(t,["trafficType"],_),t}function UC(i){const t={},o=u(i,["type"]);return o!=null&&f(t,["voiceActivityType"],o),t}function LC(i,t){const o={},s=u(i,["data"]);if(s!=null&&f(o,["data"],s),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function zC(i,t){const o={},s=u(i,["content"]);s!=null&&f(o,["content"],s);const r=u(i,["citationMetadata"]);r!=null&&f(o,["citationMetadata"],GC(r));const c=u(i,["tokenCount"]);c!=null&&f(o,["tokenCount"],c);const d=u(i,["finishReason"]);d!=null&&f(o,["finishReason"],d);const g=u(i,["avgLogprobs"]);g!=null&&f(o,["avgLogprobs"],g);const v=u(i,["groundingMetadata"]);v!=null&&f(o,["groundingMetadata"],v);const m=u(i,["index"]);m!=null&&f(o,["index"],m);const y=u(i,["logprobsResult"]);y!=null&&f(o,["logprobsResult"],y);const S=u(i,["safetyRatings"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(b=>b)),f(o,["safetyRatings"],A)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(o,["urlContextMetadata"],_),o}function GC(i,t){const o={},s=u(i,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["citations"],r)}return o}function kC(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let d=It(c);Array.isArray(d)&&(d=d.map(g=>g)),f(s,["contents"],d)}return s}function HC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(o,["tokensInfo"],c)}return o}function BC(i,t){const o={},s=u(i,["values"]);s!=null&&f(o,["values"],s);const r=u(i,["statistics"]);return r!=null&&f(o,["statistics"],qC(r)),o}function qC(i,t){const o={},s=u(i,["truncated"]);s!=null&&f(o,["truncated"],s);const r=u(i,["token_count"]);return r!=null&&f(o,["tokenCount"],r),o}function hl(i,t){const o={},s=u(i,["parts"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>QE(d))),f(o,["parts"],c)}const r=u(i,["role"]);return r!=null&&f(o,["role"],r),o}function VC(i,t){const o={},s=u(i,["controlType"]);s!=null&&f(o,["controlType"],s);const r=u(i,["enableControlImageComputation"]);return r!=null&&f(o,["computeControl"],r),o}function PC(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function OC(i,t,o){const s={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],je(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>jh(v))),f(t,["tools"],g)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&f(t,["generationConfig"],LE(d)),s}function JC(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(v=>hl(v))),f(s,["contents"],g)}const d=u(t,["config"]);return d!=null&&PC(d),s}function FC(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(v=>v)),f(s,["contents"],g)}const d=u(t,["config"]);return d!=null&&OC(d,s),s}function YC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);r!=null&&f(o,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&f(o,["cachedContentTokenCount"],c),o}function KC(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);return r!=null&&f(o,["totalTokens"],r),o}function XC(i,t,o){const s={},r=u(t,["model"]);return r!=null&&f(s,["_url","name"],Ie(i,r)),s}function QC(i,t,o){const s={},r=u(t,["model"]);return r!=null&&f(s,["_url","name"],Ie(i,r)),s}function $C(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function ZC(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function WC(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const v=u(i,["guidanceScale"]);t!==void 0&&v!=null&&f(t,["parameters","guidanceScale"],v);const m=u(i,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const A=u(i,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const b=u(i,["language"]);t!==void 0&&b!=null&&f(t,["parameters","language"],b);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","mimeType"],x);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","compressionQuality"],w);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&f(t,["parameters","addWatermark"],R);const H=u(i,["labels"]);t!==void 0&&H!=null&&f(t,["labels"],H);const L=u(i,["editMode"]);t!==void 0&&L!=null&&f(t,["parameters","editMode"],L);const z=u(i,["baseSteps"]);return t!==void 0&&z!=null&&f(t,["parameters","editConfig","baseSteps"],z),s}function jC(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const d=u(t,["referenceImages"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(m=>tA(m))),f(s,["instances[0]","referenceImages"],v)}const g=u(t,["config"]);return g!=null&&WC(g,s),s}function eE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>$s(d))),f(o,["generatedImages"],c)}return o}function tE(i,t,o){const s={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function nE(i,t,o){const s={};let r=u(o,["embeddingApiType"]);if(r===void 0&&(r="PREDICT"),r==="PREDICT"){const m=u(i,["taskType"]);t!==void 0&&m!=null&&f(t,["instances[]","task_type"],m)}else if(r==="EMBED_CONTENT"){const m=u(i,["taskType"]);t!==void 0&&m!=null&&f(t,["taskType"],m)}let c=u(o,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const m=u(i,["title"]);t!==void 0&&m!=null&&f(t,["instances[]","title"],m)}else if(c==="EMBED_CONTENT"){const m=u(i,["title"]);t!==void 0&&m!=null&&f(t,["title"],m)}let d=u(o,["embeddingApiType"]);if(d===void 0&&(d="PREDICT"),d==="PREDICT"){const m=u(i,["outputDimensionality"]);t!==void 0&&m!=null&&f(t,["parameters","outputDimensionality"],m)}else if(d==="EMBED_CONTENT"){const m=u(i,["outputDimensionality"]);t!==void 0&&m!=null&&f(t,["outputDimensionality"],m)}let g=u(o,["embeddingApiType"]);if(g===void 0&&(g="PREDICT"),g==="PREDICT"){const m=u(i,["mimeType"]);t!==void 0&&m!=null&&f(t,["instances[]","mimeType"],m)}let v=u(o,["embeddingApiType"]);if(v===void 0&&(v="PREDICT"),v==="PREDICT"){const m=u(i,["autoTruncate"]);t!==void 0&&m!=null&&f(t,["parameters","autoTruncate"],m)}else if(v==="EMBED_CONTENT"){const m=u(i,["autoTruncate"]);t!==void 0&&m!=null&&f(t,["autoTruncate"],m)}return s}function iE(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let m=pc(i,c);Array.isArray(m)&&(m=m.map(y=>y)),f(s,["requests[]","content"],m)}const d=u(t,["content"]);d!=null&&hl(je(d));const g=u(t,["config"]);g!=null&&tE(g,s);const v=u(t,["model"]);return v!==void 0&&f(s,["requests[]","model"],Ie(i,v)),s}function oE(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));let c=u(o,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const v=u(t,["contents"]);if(v!=null){let m=pc(i,v);Array.isArray(m)&&(m=m.map(y=>y)),f(s,["instances[]","content"],m)}}let d=u(o,["embeddingApiType"]);if(d===void 0&&(d="PREDICT"),d==="EMBED_CONTENT"){const v=u(t,["content"]);v!=null&&f(s,["content"],je(v))}const g=u(t,["config"]);return g!=null&&nE(g,s,o),s}function lE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["embeddings"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(g=>g)),f(o,["embeddings"],d)}const c=u(i,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function sE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(g=>BC(g))),f(o,["embeddings"],d)}const c=u(i,["metadata"]);if(c!=null&&f(o,["metadata"],c),t&&u(t,["embeddingApiType"])==="EMBED_CONTENT"){const d=u(i,["embedding"]),g=u(i,["usageMetadata"]),v=u(i,["truncated"]);if(d){const m={};g&&g.promptTokenCount&&(m.tokenCount=g.promptTokenCount),v&&(m.truncated=v),d.statistics=m,f(o,["embeddings"],[d])}}return o}function aE(i,t){const o={},s=u(i,["endpoint"]);s!=null&&f(o,["name"],s);const r=u(i,["deployedModelId"]);return r!=null&&f(o,["deployedModelId"],r),o}function rE(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["fileUri"]);s!=null&&f(o,["fileUri"],s);const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function uE(i,t){const o={},s=u(i,["id"]);s!=null&&f(o,["id"],s);const r=u(i,["args"]);r!=null&&f(o,["args"],r);const c=u(i,["name"]);if(c!=null&&f(o,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function cE(i,t){const o={},s=u(i,["allowedFunctionNames"]);s!=null&&f(o,["allowedFunctionNames"],s);const r=u(i,["mode"]);if(r!=null&&f(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function fE(i,t){const o={},s=u(i,["description"]);s!=null&&f(o,["description"],s);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["parameters"]);c!=null&&f(o,["parameters"],c);const d=u(i,["parametersJsonSchema"]);d!=null&&f(o,["parametersJsonSchema"],d);const g=u(i,["response"]);g!=null&&f(o,["response"],g);const v=u(i,["responseJsonSchema"]);if(v!=null&&f(o,["responseJsonSchema"],v),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function dE(i,t,o,s){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],hl(je(c)));const d=u(t,["temperature"]);d!=null&&f(r,["temperature"],d);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const v=u(t,["topK"]);v!=null&&f(r,["topK"],v);const m=u(t,["candidateCount"]);m!=null&&f(r,["candidateCount"],m);const y=u(t,["maxOutputTokens"]);y!=null&&f(r,["maxOutputTokens"],y);const S=u(t,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const _=u(t,["responseLogprobs"]);_!=null&&f(r,["responseLogprobs"],_);const A=u(t,["logprobs"]);A!=null&&f(r,["logprobs"],A);const b=u(t,["presencePenalty"]);b!=null&&f(r,["presencePenalty"],b);const x=u(t,["frequencyPenalty"]);x!=null&&f(r,["frequencyPenalty"],x);const w=u(t,["seed"]);w!=null&&f(r,["seed"],w);const R=u(t,["responseMimeType"]);R!=null&&f(r,["responseMimeType"],R);const H=u(t,["responseSchema"]);H!=null&&f(r,["responseSchema"],mc(H));const L=u(t,["responseJsonSchema"]);if(L!=null&&f(r,["responseJsonSchema"],L),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(t,["safetySettings"]);if(o!==void 0&&z!=null){let ge=z;Array.isArray(ge)&&(ge=ge.map(Me=>nA(Me))),f(o,["safetySettings"],ge)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let ge=po(J);Array.isArray(ge)&&(ge=ge.map(Me=>uA(fo(Me)))),f(o,["tools"],ge)}const U=u(t,["toolConfig"]);if(o!==void 0&&U!=null&&f(o,["toolConfig"],rA(U)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=u(t,["cachedContent"]);o!==void 0&&F!=null&&f(o,["cachedContent"],Cn(i,F));const j=u(t,["responseModalities"]);j!=null&&f(r,["responseModalities"],j);const Q=u(t,["mediaResolution"]);Q!=null&&f(r,["mediaResolution"],Q);const te=u(t,["speechConfig"]);if(te!=null&&f(r,["speechConfig"],hc(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=u(t,["thinkingConfig"]);re!=null&&f(r,["thinkingConfig"],re);const me=u(t,["imageConfig"]);me!=null&&f(r,["imageConfig"],BE(me));const _e=u(t,["enableEnhancedCivicAnswers"]);if(_e!=null&&f(r,["enableEnhancedCivicAnswers"],_e),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function pE(i,t,o,s){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],je(c));const d=u(t,["temperature"]);d!=null&&f(r,["temperature"],d);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const v=u(t,["topK"]);v!=null&&f(r,["topK"],v);const m=u(t,["candidateCount"]);m!=null&&f(r,["candidateCount"],m);const y=u(t,["maxOutputTokens"]);y!=null&&f(r,["maxOutputTokens"],y);const S=u(t,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const _=u(t,["responseLogprobs"]);_!=null&&f(r,["responseLogprobs"],_);const A=u(t,["logprobs"]);A!=null&&f(r,["logprobs"],A);const b=u(t,["presencePenalty"]);b!=null&&f(r,["presencePenalty"],b);const x=u(t,["frequencyPenalty"]);x!=null&&f(r,["frequencyPenalty"],x);const w=u(t,["seed"]);w!=null&&f(r,["seed"],w);const R=u(t,["responseMimeType"]);R!=null&&f(r,["responseMimeType"],R);const H=u(t,["responseSchema"]);H!=null&&f(r,["responseSchema"],mc(H));const L=u(t,["responseJsonSchema"]);L!=null&&f(r,["responseJsonSchema"],L);const z=u(t,["routingConfig"]);z!=null&&f(r,["routingConfig"],z);const J=u(t,["modelSelectionConfig"]);J!=null&&f(r,["modelConfig"],J);const U=u(t,["safetySettings"]);if(o!==void 0&&U!=null){let $=U;Array.isArray($)&&($=$.map(Z=>Z)),f(o,["safetySettings"],$)}const F=u(t,["tools"]);if(o!==void 0&&F!=null){let $=po(F);Array.isArray($)&&($=$.map(Z=>jh(fo(Z)))),f(o,["tools"],$)}const j=u(t,["toolConfig"]);o!==void 0&&j!=null&&f(o,["toolConfig"],j);const Q=u(t,["labels"]);o!==void 0&&Q!=null&&f(o,["labels"],Q);const te=u(t,["cachedContent"]);o!==void 0&&te!=null&&f(o,["cachedContent"],Cn(i,te));const re=u(t,["responseModalities"]);re!=null&&f(r,["responseModalities"],re);const me=u(t,["mediaResolution"]);me!=null&&f(r,["mediaResolution"],me);const _e=u(t,["speechConfig"]);_e!=null&&f(r,["speechConfig"],hc(_e));const ge=u(t,["audioTimestamp"]);ge!=null&&f(r,["audioTimestamp"],ge);const Me=u(t,["thinkingConfig"]);Me!=null&&f(r,["thinkingConfig"],Me);const P=u(t,["imageConfig"]);if(P!=null&&f(r,["imageConfig"],qE(P)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Y=u(t,["modelArmorConfig"]);return o!==void 0&&Y!=null&&f(o,["modelArmorConfig"],Y),r}function uh(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(v=>hl(v))),f(s,["contents"],g)}const d=u(t,["config"]);return d!=null&&f(s,["generationConfig"],dE(i,d,s)),s}function ch(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let g=It(c);Array.isArray(g)&&(g=g.map(v=>v)),f(s,["contents"],g)}const d=u(t,["config"]);return d!=null&&f(s,["generationConfig"],pE(i,d,s)),s}function fh(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>zC(y))),f(o,["candidates"],m)}const c=u(i,["modelVersion"]);c!=null&&f(o,["modelVersion"],c);const d=u(i,["promptFeedback"]);d!=null&&f(o,["promptFeedback"],d);const g=u(i,["responseId"]);g!=null&&f(o,["responseId"],g);const v=u(i,["usageMetadata"]);return v!=null&&f(o,["usageMetadata"],v),o}function dh(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(S=>S)),f(o,["candidates"],y)}const c=u(i,["createTime"]);c!=null&&f(o,["createTime"],c);const d=u(i,["modelVersion"]);d!=null&&f(o,["modelVersion"],d);const g=u(i,["promptFeedback"]);g!=null&&f(o,["promptFeedback"],g);const v=u(i,["responseId"]);v!=null&&f(o,["responseId"],v);const m=u(i,["usageMetadata"]);return m!=null&&f(o,["usageMetadata"],m),o}function mE(i,t,o){const s={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&f(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const m=u(i,["includeSafetyAttributes"]);t!==void 0&&m!=null&&f(t,["parameters","includeSafetyAttributes"],m);const y=u(i,["includeRaiReason"]);t!==void 0&&y!=null&&f(t,["parameters","includeRaiReason"],y);const S=u(i,["language"]);t!==void 0&&S!=null&&f(t,["parameters","language"],S);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","mimeType"],_);const A=u(i,["outputCompressionQuality"]);if(t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=u(i,["imageSize"]);if(t!==void 0&&b!=null&&f(t,["parameters","sampleImageSize"],b),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function hE(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const v=u(i,["guidanceScale"]);t!==void 0&&v!=null&&f(t,["parameters","guidanceScale"],v);const m=u(i,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const A=u(i,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const b=u(i,["language"]);t!==void 0&&b!=null&&f(t,["parameters","language"],b);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","mimeType"],x);const w=u(i,["outputCompressionQuality"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","compressionQuality"],w);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&f(t,["parameters","addWatermark"],R);const H=u(i,["labels"]);t!==void 0&&H!=null&&f(t,["labels"],H);const L=u(i,["imageSize"]);t!==void 0&&L!=null&&f(t,["parameters","sampleImageSize"],L);const z=u(i,["enhancePrompt"]);return t!==void 0&&z!=null&&f(t,["parameters","enhancePrompt"],z),s}function gE(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const d=u(t,["config"]);return d!=null&&mE(d,s),s}function vE(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const d=u(t,["config"]);return d!=null&&hE(d,s),s}function yE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(g=>RE(g))),f(o,["generatedImages"],d)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],Zh(c)),o}function _E(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(g=>$s(g))),f(o,["generatedImages"],d)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],Wh(c)),o}function TE(i,t,o){const s={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const g=u(i,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const v=u(i,["personGeneration"]);if(t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=u(i,["negativePrompt"]);t!==void 0&&m!=null&&f(t,["parameters","negativePrompt"],m);const y=u(i,["enhancePrompt"]);if(t!==void 0&&y!=null&&f(t,["parameters","enhancePrompt"],y),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(i,["lastFrame"]);t!==void 0&&S!=null&&f(t,["instances[0]","lastFrame"],Zs(S));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let A=_;Array.isArray(A)&&(A=A.map(b=>CA(b))),f(t,["instances[0]","referenceImages"],A)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function SE(i,t,o){const s={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const d=u(i,["fps"]);t!==void 0&&d!=null&&f(t,["parameters","fps"],d);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&f(t,["parameters","durationSeconds"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["parameters","seed"],v);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const y=u(i,["resolution"]);t!==void 0&&y!=null&&f(t,["parameters","resolution"],y);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&f(t,["parameters","pubsubTopic"],_);const A=u(i,["negativePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","negativePrompt"],A);const b=u(i,["enhancePrompt"]);t!==void 0&&b!=null&&f(t,["parameters","enhancePrompt"],b);const x=u(i,["generateAudio"]);t!==void 0&&x!=null&&f(t,["parameters","generateAudio"],x);const w=u(i,["lastFrame"]);t!==void 0&&w!=null&&f(t,["instances[0]","lastFrame"],Qt(w));const R=u(i,["referenceImages"]);if(t!==void 0&&R!=null){let z=R;Array.isArray(z)&&(z=z.map(J=>EA(J))),f(t,["instances[0]","referenceImages"],z)}const H=u(i,["mask"]);t!==void 0&&H!=null&&f(t,["instances[0]","mask"],SA(H));const L=u(i,["compressionQuality"]);return t!==void 0&&L!=null&&f(t,["parameters","compressionQuality"],L),s}function CE(i,t){const o={},s=u(i,["name"]);s!=null&&f(o,["name"],s);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const d=u(i,["error"]);d!=null&&f(o,["error"],d);const g=u(i,["response","generateVideoResponse"]);return g!=null&&f(o,["response"],wE(g)),o}function EE(i,t){const o={},s=u(i,["name"]);s!=null&&f(o,["name"],s);const r=u(i,["metadata"]);r!=null&&f(o,["metadata"],r);const c=u(i,["done"]);c!=null&&f(o,["done"],c);const d=u(i,["error"]);d!=null&&f(o,["error"],d);const g=u(i,["response"]);return g!=null&&f(o,["response"],bE(g)),o}function AE(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const d=u(t,["image"]);d!=null&&f(s,["instances[0]","image"],Zs(d));const g=u(t,["video"]);g!=null&&f(s,["instances[0]","video"],eg(g));const v=u(t,["source"]);v!=null&&NE(v,s);const m=u(t,["config"]);return m!=null&&TE(m,s),s}function xE(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const d=u(t,["image"]);d!=null&&f(s,["instances[0]","image"],Qt(d));const g=u(t,["video"]);g!=null&&f(s,["instances[0]","video"],tg(g));const v=u(t,["source"]);v!=null&&IE(v,s);const m=u(t,["config"]);return m!=null&&SE(m,s),s}function wE(i,t){const o={},s=u(i,["generatedSamples"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(g=>DE(g))),f(o,["generatedVideos"],d)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function bE(i,t){const o={},s=u(i,["videos"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(g=>UE(g))),f(o,["generatedVideos"],d)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function NE(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Zs(c));const d=u(i,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],eg(d)),s}function IE(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Qt(c));const d=u(i,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],tg(d)),s}function RE(i,t){const o={},s=u(i,["_self"]);s!=null&&f(o,["image"],VE(s));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&f(o,["safetyAttributes"],Zh(c)),o}function $s(i,t){const o={},s=u(i,["_self"]);s!=null&&f(o,["image"],$h(s));const r=u(i,["raiFilteredReason"]);r!=null&&f(o,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&f(o,["safetyAttributes"],Wh(c));const d=u(i,["prompt"]);return d!=null&&f(o,["enhancedPrompt"],d),o}function ME(i,t){const o={},s=u(i,["_self"]);s!=null&&f(o,["mask"],$h(s));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(o,["labels"],c)}return o}function DE(i,t){const o={},s=u(i,["video"]);return s!=null&&f(o,["video"],_A(s)),o}function UE(i,t){const o={},s=u(i,["_self"]);return s!=null&&f(o,["video"],TA(s)),o}function LE(i,t){const o={},s=u(i,["modelSelectionConfig"]);s!=null&&f(o,["modelConfig"],s);const r=u(i,["responseJsonSchema"]);r!=null&&f(o,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&f(o,["audioTimestamp"],c);const d=u(i,["candidateCount"]);d!=null&&f(o,["candidateCount"],d);const g=u(i,["enableAffectiveDialog"]);g!=null&&f(o,["enableAffectiveDialog"],g);const v=u(i,["frequencyPenalty"]);v!=null&&f(o,["frequencyPenalty"],v);const m=u(i,["logprobs"]);m!=null&&f(o,["logprobs"],m);const y=u(i,["maxOutputTokens"]);y!=null&&f(o,["maxOutputTokens"],y);const S=u(i,["mediaResolution"]);S!=null&&f(o,["mediaResolution"],S);const _=u(i,["presencePenalty"]);_!=null&&f(o,["presencePenalty"],_);const A=u(i,["responseLogprobs"]);A!=null&&f(o,["responseLogprobs"],A);const b=u(i,["responseMimeType"]);b!=null&&f(o,["responseMimeType"],b);const x=u(i,["responseModalities"]);x!=null&&f(o,["responseModalities"],x);const w=u(i,["responseSchema"]);w!=null&&f(o,["responseSchema"],w);const R=u(i,["routingConfig"]);R!=null&&f(o,["routingConfig"],R);const H=u(i,["seed"]);H!=null&&f(o,["seed"],H);const L=u(i,["speechConfig"]);L!=null&&f(o,["speechConfig"],L);const z=u(i,["stopSequences"]);z!=null&&f(o,["stopSequences"],z);const J=u(i,["temperature"]);J!=null&&f(o,["temperature"],J);const U=u(i,["thinkingConfig"]);U!=null&&f(o,["thinkingConfig"],U);const F=u(i,["topK"]);F!=null&&f(o,["topK"],F);const j=u(i,["topP"]);if(j!=null&&f(o,["topP"],j),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function zE(i,t,o){const s={},r=u(t,["model"]);return r!=null&&f(s,["_url","name"],Ie(i,r)),s}function GE(i,t,o){const s={},r=u(t,["model"]);return r!=null&&f(s,["_url","name"],Ie(i,r)),s}function kE(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=u(i,["enableWidget"]);return s!=null&&f(o,["enableWidget"],s),o}function HE(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=u(i,["timeRangeFilter"]);return s!=null&&f(o,["timeRangeFilter"],s),o}function BE(i,t){const o={},s=u(i,["aspectRatio"]);s!=null&&f(o,["aspectRatio"],s);const r=u(i,["imageSize"]);if(r!=null&&f(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function qE(i,t){const o={},s=u(i,["aspectRatio"]);s!=null&&f(o,["aspectRatio"],s);const r=u(i,["imageSize"]);r!=null&&f(o,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&f(o,["personGeneration"],c);const d=u(i,["outputMimeType"]);d!=null&&f(o,["imageOutputOptions","mimeType"],d);const g=u(i,["outputCompressionQuality"]);return g!=null&&f(o,["imageOutputOptions","compressionQuality"],g),o}function VE(i,t){const o={},s=u(i,["bytesBase64Encoded"]);s!=null&&f(o,["imageBytes"],Qn(s));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function $h(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&f(o,["gcsUri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["imageBytes"],Qn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function Zs(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=u(i,["imageBytes"]);s!=null&&f(o,["bytesBase64Encoded"],Qn(s));const r=u(i,["mimeType"]);return r!=null&&f(o,["mimeType"],r),o}function Qt(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&f(o,["gcsUri"],s);const r=u(i,["imageBytes"]);r!=null&&f(o,["bytesBase64Encoded"],Qn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function PE(i,t,o,s){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const g=u(t,["filter"]);o!==void 0&&g!=null&&f(o,["_query","filter"],g);const v=u(t,["queryBase"]);return o!==void 0&&v!=null&&f(o,["_url","models_url"],Oh(i,v)),r}function OE(i,t,o,s){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const g=u(t,["filter"]);o!==void 0&&g!=null&&f(o,["_query","filter"],g);const v=u(t,["queryBase"]);return o!==void 0&&v!=null&&f(o,["_url","models_url"],Oh(i,v)),r}function JE(i,t,o){const s={},r=u(t,["config"]);return r!=null&&PE(i,r,s),s}function FE(i,t,o){const s={},r=u(t,["config"]);return r!=null&&OE(i,r,s),s}function YE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let d=Jh(c);Array.isArray(d)&&(d=d.map(g=>$u(g))),f(o,["models"],d)}return o}function KE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let d=Jh(c);Array.isArray(d)&&(d=d.map(g=>Zu(g))),f(o,["models"],d)}return o}function XE(i,t){const o={},s=u(i,["maskMode"]);s!=null&&f(o,["maskMode"],s);const r=u(i,["segmentationClasses"]);r!=null&&f(o,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&f(o,["dilation"],c),o}function $u(i,t){const o={},s=u(i,["name"]);s!=null&&f(o,["name"],s);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const d=u(i,["version"]);d!=null&&f(o,["version"],d);const g=u(i,["_self"]);g!=null&&f(o,["tunedModelInfo"],cA(g));const v=u(i,["inputTokenLimit"]);v!=null&&f(o,["inputTokenLimit"],v);const m=u(i,["outputTokenLimit"]);m!=null&&f(o,["outputTokenLimit"],m);const y=u(i,["supportedGenerationMethods"]);y!=null&&f(o,["supportedActions"],y);const S=u(i,["temperature"]);S!=null&&f(o,["temperature"],S);const _=u(i,["maxTemperature"]);_!=null&&f(o,["maxTemperature"],_);const A=u(i,["topP"]);A!=null&&f(o,["topP"],A);const b=u(i,["topK"]);b!=null&&f(o,["topK"],b);const x=u(i,["thinking"]);return x!=null&&f(o,["thinking"],x),o}function Zu(i,t){const o={},s=u(i,["name"]);s!=null&&f(o,["name"],s);const r=u(i,["displayName"]);r!=null&&f(o,["displayName"],r);const c=u(i,["description"]);c!=null&&f(o,["description"],c);const d=u(i,["versionId"]);d!=null&&f(o,["version"],d);const g=u(i,["deployedModels"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(A=>aE(A))),f(o,["endpoints"],_)}const v=u(i,["labels"]);v!=null&&f(o,["labels"],v);const m=u(i,["_self"]);m!=null&&f(o,["tunedModelInfo"],fA(m));const y=u(i,["defaultCheckpointId"]);y!=null&&f(o,["defaultCheckpointId"],y);const S=u(i,["checkpoints"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(A=>A)),f(o,["checkpoints"],_)}return o}function QE(i,t){const o={},s=u(i,["mediaResolution"]);s!=null&&f(o,["mediaResolution"],s);const r=u(i,["codeExecutionResult"]);r!=null&&f(o,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&f(o,["executableCode"],c);const d=u(i,["fileData"]);d!=null&&f(o,["fileData"],rE(d));const g=u(i,["functionCall"]);g!=null&&f(o,["functionCall"],uE(g));const v=u(i,["functionResponse"]);v!=null&&f(o,["functionResponse"],v);const m=u(i,["inlineData"]);m!=null&&f(o,["inlineData"],LC(m));const y=u(i,["text"]);y!=null&&f(o,["text"],y);const S=u(i,["thought"]);S!=null&&f(o,["thought"],S);const _=u(i,["thoughtSignature"]);_!=null&&f(o,["thoughtSignature"],_);const A=u(i,["videoMetadata"]);return A!=null&&f(o,["videoMetadata"],A),o}function $E(i,t){const o={},s=u(i,["productImage"]);return s!=null&&f(o,["image"],Qt(s)),o}function ZE(i,t,o){const s={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&f(t,["parameters","baseSteps"],c);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&f(t,["parameters","storageUri"],d);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const m=u(i,["personGeneration"]);t!==void 0&&m!=null&&f(t,["parameters","personGeneration"],m);const y=u(i,["addWatermark"]);t!==void 0&&y!=null&&f(t,["parameters","addWatermark"],y);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","enhancePrompt"],A);const b=u(i,["labels"]);return t!==void 0&&b!=null&&f(t,["labels"],b),s}function WE(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["source"]);c!=null&&eA(c,s);const d=u(t,["config"]);return d!=null&&ZE(d,s),s}function jE(i,t){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>$s(c))),f(o,["generatedImages"],r)}return o}function eA(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&f(t,["instances[0]","personImage","image"],Qt(c));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>$E(v))),f(t,["instances[0]","productImages"],g)}return s}function tA(i,t){const o={},s=u(i,["referenceImage"]);s!=null&&f(o,["referenceImage"],Qt(s));const r=u(i,["referenceId"]);r!=null&&f(o,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&f(o,["referenceType"],c);const d=u(i,["maskImageConfig"]);d!=null&&f(o,["maskImageConfig"],XE(d));const g=u(i,["controlImageConfig"]);g!=null&&f(o,["controlImageConfig"],VC(g));const v=u(i,["styleImageConfig"]);v!=null&&f(o,["styleImageConfig"],v);const m=u(i,["subjectImageConfig"]);return m!=null&&f(o,["subjectImageConfig"],m),o}function Zh(i,t){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&f(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function Wh(i,t){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&f(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function nA(i,t){const o={},s=u(i,["category"]);if(s!=null&&f(o,["category"],s),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&f(o,["threshold"],r),o}function iA(i,t){const o={},s=u(i,["image"]);return s!=null&&f(o,["image"],Qt(s)),o}function oA(i,t,o){const s={},r=u(i,["mode"]);t!==void 0&&r!=null&&f(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&f(t,["parameters","maxPredictions"],c);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&f(t,["parameters","confidenceThreshold"],d);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&f(t,["parameters","maskDilation"],g);const v=u(i,["binaryColorThreshold"]);t!==void 0&&v!=null&&f(t,["parameters","binaryColorThreshold"],v);const m=u(i,["labels"]);return t!==void 0&&m!=null&&f(t,["labels"],m),s}function lA(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["source"]);c!=null&&aA(c,s);const d=u(t,["config"]);return d!=null&&oA(d,s),s}function sA(i,t){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>ME(c))),f(o,["generatedMasks"],r)}return o}function aA(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Qt(c));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&f(t,["instances[0]","scribble"],iA(d)),s}function rA(i,t){const o={},s=u(i,["retrievalConfig"]);s!=null&&f(o,["retrievalConfig"],s);const r=u(i,["functionCallingConfig"]);return r!=null&&f(o,["functionCallingConfig"],cE(r)),o}function uA(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["computerUse"]);s!=null&&f(o,["computerUse"],s);const r=u(i,["fileSearch"]);r!=null&&f(o,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&f(o,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(_=>_)),f(o,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&f(o,["googleMaps"],kE(g));const v=u(i,["googleSearch"]);v!=null&&f(o,["googleSearch"],HE(v));const m=u(i,["googleSearchRetrieval"]);m!=null&&f(o,["googleSearchRetrieval"],m);const y=u(i,["urlContext"]);return y!=null&&f(o,["urlContext"],y),o}function jh(i,t){const o={},s=u(i,["retrieval"]);s!=null&&f(o,["retrieval"],s);const r=u(i,["computerUse"]);if(r!=null&&f(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&f(o,["codeExecution"],c);const d=u(i,["enterpriseWebSearch"]);d!=null&&f(o,["enterpriseWebSearch"],d);const g=u(i,["functionDeclarations"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(A=>fE(A))),f(o,["functionDeclarations"],_)}const v=u(i,["googleMaps"]);v!=null&&f(o,["googleMaps"],v);const m=u(i,["googleSearch"]);m!=null&&f(o,["googleSearch"],m);const y=u(i,["googleSearchRetrieval"]);y!=null&&f(o,["googleSearchRetrieval"],y);const S=u(i,["urlContext"]);return S!=null&&f(o,["urlContext"],S),o}function cA(i,t){const o={},s=u(i,["baseModel"]);s!=null&&f(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function fA(i,t){const o={},s=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&f(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&f(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function dA(i,t,o){const s={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),s}function pA(i,t,o){const s={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),s}function mA(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","name"],Ie(i,r));const c=u(t,["config"]);return c!=null&&dA(c,s),s}function hA(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["config"]);return c!=null&&pA(c,s),s}function gA(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&f(t,["parameters","safetySetting"],c);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const m=u(i,["outputCompressionQuality"]);t!==void 0&&m!=null&&f(t,["parameters","outputOptions","compressionQuality"],m);const y=u(i,["enhanceInputImage"]);t!==void 0&&y!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],y);const S=u(i,["imagePreservationFactor"]);t!==void 0&&S!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const _=u(i,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const A=u(i,["numberOfImages"]);t!==void 0&&A!=null&&f(t,["parameters","sampleCount"],A);const b=u(i,["mode"]);return t!==void 0&&b!=null&&f(t,["parameters","mode"],b),s}function vA(i,t,o){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["image"]);c!=null&&f(s,["instances[0]","image"],Qt(c));const d=u(t,["upscaleFactor"]);d!=null&&f(s,["parameters","upscaleConfig","upscaleFactor"],d);const g=u(t,["config"]);return g!=null&&gA(g,s),s}function yA(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>$s(d))),f(o,["generatedImages"],c)}return o}function _A(i,t){const o={},s=u(i,["uri"]);s!=null&&f(o,["uri"],s);const r=u(i,["encodedVideo"]);r!=null&&f(o,["videoBytes"],Qn(r));const c=u(i,["encoding"]);return c!=null&&f(o,["mimeType"],c),o}function TA(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&f(o,["uri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(o,["videoBytes"],Qn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function SA(i,t){const o={},s=u(i,["image"]);s!=null&&f(o,["_self"],Qt(s));const r=u(i,["maskMode"]);return r!=null&&f(o,["maskMode"],r),o}function CA(i,t){const o={},s=u(i,["image"]);s!=null&&f(o,["image"],Zs(s));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function EA(i,t){const o={},s=u(i,["image"]);s!=null&&f(o,["image"],Qt(s));const r=u(i,["referenceType"]);return r!=null&&f(o,["referenceType"],r),o}function eg(i,t){const o={},s=u(i,["uri"]);s!=null&&f(o,["uri"],s);const r=u(i,["videoBytes"]);r!=null&&f(o,["encodedVideo"],Qn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["encoding"],c),o}function tg(i,t){const o={},s=u(i,["uri"]);s!=null&&f(o,["gcsUri"],s);const r=u(i,["videoBytes"]);r!=null&&f(o,["bytesBase64Encoded"],Qn(r));const c=u(i,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function AA(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&f(t,["displayName"],s),o}function xA(i){const t={},o=u(i,["config"]);return o!=null&&AA(o,t),t}function wA(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),o}function bA(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&wA(s,t),t}function NA(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function IA(i,t){const o={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),o}function RA(i){const t={},o=u(i,["name"]);o!=null&&f(t,["name"],o);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const d=u(i,["response"]);return d!=null&&f(t,["response"],DA(d)),t}function MA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&f(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&IA(r,t),t}function DA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function UA(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function LA(i){const t={},o=u(i,["config"]);return o!=null&&UA(o,t),t}function zA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["fileSearchStores"],c)}return t}function ng(i,t){const o={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&f(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),f(t,["customMetadata"],g)}const d=u(i,["chunkingConfig"]);return t!==void 0&&d!=null&&f(t,["chunkingConfig"],d),o}function GA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&ng(s,t),t}function kA(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}const HA="Content-Type",BA="X-Server-Timeout",qA="User-Agent",Wu="x-goog-api-client",VA="1.42.0",PA=`google-genai-sdk/${VA}`,OA="v1beta1",JA="v1beta",FA=5,YA=[408,429,500,502,503,504];class KA{constructor(t){var o,s,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:OA}else{if(!this.clientOptions.apiKey)throw new ml({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:JA,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Yu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,s);if(t.queryParams)for(const[d,g]of Object.entries(t.queryParams))r.searchParams.append(d,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,o){const s=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(o))typeof c=="object"?s[r]=Object.assign(Object.assign({},s[r]),c):c!==void 0&&(s[r]=c);return s}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,s,r){if(o&&o.timeout||r){const c=new AbortController,d=c.signal;if(o.timeout&&o?.timeout>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=d}return o&&o.extraBody!==null&&XA(t,o.extraBody),t.headers=await this.getHeadersInternal(o,s),t}async unaryApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await ph(r),new Ku(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await ph(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Kt(this,arguments,function*(){var s;const r=(s=t?.body)===null||s===void 0?void 0:s.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let d="";const g="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:y}=yield pe(r.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=c.decode(y,{stream:!0});try{const b=JSON.parse(S);if("error"in b){const x=JSON.parse(JSON.stringify(b.error)),w=x.status,R=x.code,H=`got status: ${w}. ${JSON.stringify(b)}`;if(R>=400&&R<600)throw new ml({message:H,status:R})}}catch(b){if(b.name==="ApiError")throw b}d+=S;let _=-1,A=0;for(;;){_=-1,A=0;for(const w of v){const R=d.indexOf(w);R!==-1&&(_===-1||R<_)&&(_=R,A=w.length)}if(_===-1)break;const b=d.substring(0,_);d=d.substring(_+A);const x=b.trim();if(x.startsWith(g)){const w=x.substring(g.length).trim();try{const R=new Response(w,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield pe(new Ku(R))}catch(R){throw new Error(`exception parsing stream chunk ${w}. ${R}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){var s;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,o);const r=this.clientOptions.httpOptions.retryOptions;return G_(async()=>{const d=await fetch(t,o);if(d.ok)return d;throw YA.includes(d.status)?new Error(`Retryable HTTP Error: ${d.statusText}`):new Lh.AbortError(`Non-retryable exception ${d.statusText} sending request`)},{retries:((s=r.attempts)!==null&&s!==void 0?s:FA)-1})}getDefaultHeaders(){const t={},o=PA+" "+this.clientOptions.userAgentExtra;return t[qA]=o,t[Wu]=o,t[HA]="application/json",t}async getHeadersInternal(t,o){const s=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))s.append(r,c);t.timeout&&t.timeout>0&&s.append(BA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(t){var o;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(t,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,d=await c.stat(t);r.sizeBytes=String(d.size);const g=(s=o?.mimeType)!==null&&s!==void 0?s:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const v={file:r},m=this.getFileName(t),y=ie("upload/v1beta/files",v._url),S=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,m,v,o?.httpOptions);return c.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,s){var r;const c=this.clientOptions.uploader,d=await c.stat(o),g=String(d.size),v=(r=s?.mimeType)!==null&&r!==void 0?r:d.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(o),S={};s!=null&&ng(s,S);const _=await this.fetchUploadUrl(m,g,v,y,S,s?.httpOptions);return c.uploadToFileSearchStore(o,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,s,r,c,d){var g;let v={};d?v=d:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:v});if(!m||!m?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(g=m?.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function ph(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new ml({message:r,status:o}):new Error(r)}}function XA(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,d){const g=Object.assign({},c);for(const v in d)if(Object.prototype.hasOwnProperty.call(d,v)){const m=d[v],y=g[v];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?g[v]=s(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),g[v]=m)}return g}const r=s(o,t);i.body=JSON.stringify(r)}const QA="mcp_used/unknown";let $A=!1;function ig(i){for(const t of i)if(ZA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return $A}function og(i){var t;const o=(t=i[Wu])!==null&&t!==void 0?t:"";i[Wu]=(o+` ${QA}`).trimStart()}function ZA(i){return i!==null&&typeof i=="object"&&i instanceof vc}function WA(i){return Kt(this,arguments,function*(o,s=100){let r,c=0;for(;c<s;){const d=yield pe(o.listTools({cursor:r}));for(const g of d.tools)yield yield pe(g),c++;if(!d.nextCursor)break;r=d.nextCursor}})}class vc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new vc(t,o)}async initialize(){var t,o,s,r;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var g=!0,v=(o=void 0,Xt(WA(y))),m;m=await v.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const S=r;d.push(S);const _=S.name;if(c[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);c[_]=y}}catch(S){o={error:S}}finally{try{!g&&!t&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),AT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await r.callTool({name:s.name,arguments:s.args},void 0,c);o.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return o}}async function jA(i,t,o){const s=new gT;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),t(s)}class ex{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s}async connect(t){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=ix(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const y=new Promise(L=>{m=L}),S=t.callbacks,_=function(){m({})},A=this.apiClient,b={onopen:_,onmessage:L=>{jA(A,S.onmessage,L)},onerror:(o=S?.onerror)!==null&&o!==void 0?o:function(L){},onclose:(s=S?.onclose)!==null&&s!==void 0?s:function(L){}},x=this.webSocketFactory.create(v,nx(d),b);x.connect(),await y;const H={setup:{model:Ie(this.apiClient,t.model)}};return x.send(JSON.stringify(H)),new tx(x,this.apiClient)}}class tx{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=AC(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=EC(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(lo.PLAY)}pause(){this.sendPlaybackControl(lo.PAUSE)}stop(){this.sendPlaybackControl(lo.STOP)}resetContext(){this.sendPlaybackControl(lo.RESET_CONTEXT)}close(){this.conn.close()}}function nx(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function ix(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}const ox="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lx(i,t,o){const s=new hT;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(i.isVertexAI()){const d=bC(c);Object.assign(s,d)}else Object.assign(s,c);t(s)}class sx{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s,this.music=new ex(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,s,r,c,d,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&ig(t.config.tools)&&og(S);const _=cx(S);if(this.apiClient.isVertexAI()){const Q=this.apiClient.getProject(),te=this.apiClient.getLocation(),re=this.apiClient.getApiKey(),me=!!Q&&!!te||!!re;this.apiClient.getCustomBaseUrl()&&!me?y=v:(y=`${v}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,y))}else{const Q=this.apiClient.getApiKey();let te="BidiGenerateContent",re="key";Q?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",re="access_token"),y=`${v}/ws/google.ai.generativelanguage.${m}.GenerativeService.${te}?${re}=${Q}`}let A=()=>{};const b=new Promise(Q=>{A=Q}),x=t.callbacks,w=function(){var Q;(Q=x?.onopen)===null||Q===void 0||Q.call(x),A({})},R=this.apiClient,H={onopen:w,onmessage:Q=>{lx(R,x.onmessage,Q)},onerror:(o=x?.onerror)!==null&&o!==void 0?o:function(Q){},onclose:(s=x?.onclose)!==null&&s!==void 0?s:function(Q){}},L=this.webSocketFactory.create(y,ux(_),H);L.connect(),await b;let z=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const Q=this.apiClient.getProject(),te=this.apiClient.getLocation();Q&&te&&(z=`projects/${Q}/locations/${te}/`+z)}let J={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Os.AUDIO]}:t.config.responseModalities=[Os.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(g=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&g!==void 0?g:[],F=[];for(const Q of U)if(this.isCallableTool(Q)){const te=Q;F.push(await te.tool())}else F.push(Q);F.length>0&&(t.config.tools=F);const j={model:z,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?J=CC(this.apiClient,j):J=SC(this.apiClient,j),delete J.config,L.send(JSON.stringify(J)),new rx(L,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const ax={turnComplete:!0};class rx{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=It(o.turns),t.isVertexAI()||(s=s.map(r=>hl(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(ox)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},ax),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:wC(t)}:o={realtimeInput:xC(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function ux(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function cx(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}const mh=10;function hh(i){var t,o,s;if(!((t=i?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const d of(o=i?.tools)!==null&&o!==void 0?o:[])if(ro(d)){r=!0;break}if(!r)return!0;const c=(s=i?.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function ro(i){return"callTool"in i&&typeof i.callTool=="function"}function fx(i){var t,o,s;return(s=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>ro(r)))!==null&&s!==void 0?s:!1}function gh(i){var t;const o=[];return!((t=i?.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(ro(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function vh(i){var t;return!(!((t=i?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class dx extends Sn{constructor(t){super(),this.apiClient=t,this.embedContent=async o=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(o);if(o.model.includes("gemini")&&o.model!=="gemini-embedding-001"||o.model.includes("maas")){const r=It(o.contents);if(r.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const c=Object.assign(Object.assign({},o),{content:r[0],embeddingApiType:Js.EMBED_CONTENT});return await this.embedContentInternal(c)}else{const r=Object.assign(Object.assign({},o),{embeddingApiType:Js.PREDICT});return await this.embedContentInternal(r)}},this.generateContent=async o=>{var s,r,c,d,g;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!fx(o)||hh(o.config))return await this.generateContentInternal(v);const m=gh(o);if(m.length>0){const x=m.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let y,S;const _=It(v.contents),A=(c=(r=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:mh;let b=0;for(;b<A&&(y=await this.generateContentInternal(v),!(!y.functionCalls||y.functionCalls.length===0));){const x=y.candidates[0].content,w=[];for(const R of(g=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&g!==void 0?g:[])if(ro(R)){const L=await R.callTool(y.functionCalls);w.push(...L)}b++,S={role:"user",parts:w},v.contents=It(v.contents),v.contents.push(x),v.contents.push(S),vh(v.config)&&(_.push(x),_.push(S))}return vh(v.config)&&(y.automaticFunctionCallingHistory=_),y},this.generateContentStream=async o=>{var s,r,c,d,g;if(this.maybeMoveToResponseJsonSchem(o),hh(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const v=gh(o);if(v.length>0){const S=v.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(s=o?.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,y=(g=(d=o?.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let c;const d=[];if(s?.generatedImages)for(const v of s.generatedImages)v&&v?.safetyAttributes&&((r=v?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=v?.safetyAttributes:d.push(v);let g;return c?g={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new yi(Tn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(d),d)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,c,d,g,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(c=o.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((v=(g=o.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,s,r;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const d=await Promise.all(c.map(async v=>ro(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(g.config.tools=d,t.config&&t.config.tools&&ig(t.config.tools)){const v=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},v);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),og(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,s,r;const c=new Map;for(const d of(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(ro(d)){const g=d,v=await g.tool();for(const m of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,g)}}return c}async processAfcStream(t){var o,s,r;const c=(r=(s=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:mh;let d=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(m,y,S){return Kt(this,arguments,function*(){for(var _,A,b,x,w,R;g<c;){d&&(g++,d=!1);const J=yield pe(m.processParamsMaybeAddMcpUsage(S)),U=yield pe(m.generateContentStreamInternal(J)),F=[],j=[];try{for(var H=!0,L=(A=void 0,Xt(U)),z;z=yield pe(L.next()),_=z.done,!_;H=!0){x=z.value,H=!1;const Q=x;if(yield yield pe(Q),Q.candidates&&(!((w=Q.candidates[0])===null||w===void 0)&&w.content)){j.push(Q.candidates[0].content);for(const te of(R=Q.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<c&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(te.functionCall.name)){const re=yield pe(y.get(te.functionCall.name).callTool([te.functionCall]));F.push(...re)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(Q){A={error:Q}}finally{try{!H&&!_&&(b=L.return)&&(yield pe(b.call(L)))}finally{if(A)throw A.error}}if(F.length>0){d=!0;const Q=new fl;Q.candidates=[{content:{role:"user",parts:F}}],yield yield pe(Q);const te=[];te.push(...j),te.push({role:"user",parts:F});const re=It(S.contents).concat(te);S.contents=re}else break}})})(this,v,t)}async generateContentInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=ch(this.apiClient,t);return g=ie("{model}:generateContent",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=dh(y),_=new fl;return Object.assign(_,S),_})}else{const m=uh(this.apiClient,t);return g=ie("{model}:generateContent",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=fh(y),_=new fl;return Object.assign(_,S),_})}}async generateContentStreamInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=ch(this.apiClient,t);return g=ie("{model}:streamGenerateContent?alt=sse",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(S){return Kt(this,arguments,function*(){var _,A,b,x;try{for(var w=!0,R=Xt(S),H;H=yield pe(R.next()),_=H.done,!_;w=!0){x=H.value,w=!1;const L=x,z=dh(yield pe(L.json()),t);z.sdkHttpResponse={headers:L.headers};const J=new fl;Object.assign(J,z),yield yield pe(J)}}catch(L){A={error:L}}finally{try{!w&&!_&&(b=R.return)&&(yield pe(b.call(R)))}finally{if(A)throw A.error}}})})}else{const m=uh(this.apiClient,t);return g=ie("{model}:streamGenerateContent?alt=sse",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(S){return Kt(this,arguments,function*(){var _,A,b,x;try{for(var w=!0,R=Xt(S),H;H=yield pe(R.next()),_=H.done,!_;w=!0){x=H.value,w=!1;const L=x,z=fh(yield pe(L.json()),t);z.sdkHttpResponse={headers:L.headers};const J=new fl;Object.assign(J,z),yield yield pe(J)}}catch(L){A={error:L}}finally{try{!w&&!_&&(b=R.return)&&(yield pe(b.call(R)))}finally{if(A)throw A.error}}})})}}async embedContentInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=oE(this.apiClient,t,t),y=wT(t.model)?"{model}:embedContent":"{model}:predict";return g=ie(y,m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(S=>S.json().then(_=>{const A=_;return A.sdkHttpResponse={headers:S.headers},A})),d.then(S=>{const _=sE(S,t),A=new Y0;return Object.assign(A,_),A})}else{const m=iE(this.apiClient,t);return g=ie("{model}:batchEmbedContents",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=lE(y),_=new Y0;return Object.assign(_,S),_})}}async generateImagesInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=vE(this.apiClient,t);return g=ie("{model}:predict",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=_E(y),_=new K0;return Object.assign(_,S),_})}else{const m=gE(this.apiClient,t);return g=ie("{model}:predict",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=yE(y),_=new K0;return Object.assign(_,S),_})}}async editImageInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI()){const g=jC(this.apiClient,t);return c=ie("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const m=eE(v),y=new iT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI()){const g=vA(this.apiClient,t);return c=ie("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const m=yA(v),y=new oT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI()){const g=WE(this.apiClient,t);return c=ie("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const m=jE(v),y=new lT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI()){const g=lA(this.apiClient,t);return c=ie("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const m=sA(v),y=new sT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=GE(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>Zu(y))}else{const m=zE(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>$u(y))}}async listInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=FE(this.apiClient,t);return g=ie("{models_url}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=KE(y),_=new X0;return Object.assign(_,S),_})}else{const m=JE(this.apiClient,t);return g=ie("{models_url}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=YE(y),_=new X0;return Object.assign(_,S),_})}}async update(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=hA(this.apiClient,t);return g=ie("{model}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>Zu(y))}else{const m=mA(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>$u(y))}}async delete(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=QC(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=ZC(y),_=new Q0;return Object.assign(_,S),_})}else{const m=XC(this.apiClient,t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=$C(y),_=new Q0;return Object.assign(_,S),_})}}async countTokens(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=FC(this.apiClient,t);return g=ie("{model}:countTokens",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=KC(y),_=new $0;return Object.assign(_,S),_})}else{const m=JC(this.apiClient,t);return g=ie("{model}:countTokens",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=YC(y),_=new $0;return Object.assign(_,S),_})}}async computeTokens(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI()){const g=kC(this.apiClient,t);return c=ie("{model}:computeTokens",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const m=HC(v),y=new aT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=xE(this.apiClient,t);return g=ie("{model}:predictLongRunning",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>{const S=EE(y),_=new Fs;return Object.assign(_,S),_})}else{const m=AE(this.apiClient,t);return g=ie("{model}:predictLongRunning",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const S=CE(y),_=new Fs;return Object.assign(_,S),_})}}}class px extends Sn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=Z_(t);return g=ie("{operationName}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d}else{const m=$_(t);return g=ie("{operationName}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI()){const g=O_(t);return c=ie("{resourceName}:fetchPredictOperation",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function mx(i){const t={},o=u(i,["data"]);if(o!=null&&f(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function hx(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Ax(c))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function gx(i,t,o){const s={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&f(o,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const d=u(t,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&f(o,["bidiGenerateContentSetup"],Ex(i,g));const v=u(t,["lockAdditionalFields"]);return o!==void 0&&v!=null&&f(o,["fieldMask"],v),s}function vx(i,t){const o={},s=u(t,["config"]);return s!=null&&f(o,["config"],gx(i,s,o)),o}function yx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&f(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function _x(i){const t={},o=u(i,["id"]);o!=null&&f(t,["id"],o);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Tx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function Sx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function Cx(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(i,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","maxOutputTokens"],v);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","seed"],y);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],gc(S));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const b=u(i,["systemInstruction"]);t!==void 0&&b!=null&&f(t,["setup","systemInstruction"],hx(je(b)));const x=u(i,["tools"]);if(t!==void 0&&x!=null){let U=po(x);Array.isArray(U)&&(U=U.map(F=>wx(fo(F)))),f(t,["setup","tools"],U)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&f(t,["setup","sessionResumption"],xx(w));const R=u(i,["inputAudioTranscription"]);t!==void 0&&R!=null&&f(t,["setup","inputAudioTranscription"],R);const H=u(i,["outputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","outputAudioTranscription"],H);const L=u(i,["realtimeInputConfig"]);t!==void 0&&L!=null&&f(t,["setup","realtimeInputConfig"],L);const z=u(i,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],z);const J=u(i,["proactivity"]);if(t!==void 0&&J!=null&&f(t,["setup","proactivity"],J),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function Ex(i,t){const o={},s=u(t,["model"]);s!=null&&f(o,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&f(o,["config"],Cx(r,o)),o}function Ax(i){const t={},o=u(i,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],yx(c));const d=u(i,["functionCall"]);d!=null&&f(t,["functionCall"],_x(d));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&f(t,["inlineData"],mx(v));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const y=u(i,["thought"]);y!=null&&f(t,["thought"],y);const S=u(i,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function xx(i){const t={},o=u(i,["handle"]);if(o!=null&&f(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function wx(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&f(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(S=>S)),f(t,["functionDeclarations"],y)}const d=u(i,["googleMaps"]);d!=null&&f(t,["googleMaps"],Tx(d));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],Sx(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&f(t,["googleSearchRetrieval"],v);const m=u(i,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function bx(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(c=>`${o}.${c}`);t.push(...r)}else t.push(o)}return t.join(",")}function Nx(i,t){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,o=c):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const c=bx(o);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)c?i.fieldMask=c:delete i.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>d.includes(m)?`generationConfig.${m}`:m));const v=[];c&&v.push(c),g.length>0&&v.push(...g),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class Ix extends Sn{constructor(t){super(),this.apiClient=t}async create(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=vx(this.apiClient,t);c=ie("auth_tokens",g._url),d=g._query,delete g.config,delete g._url,delete g._query;const v=Nx(g,t.config);return r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}function Rx(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),o}function Mx(i){const t={},o=u(i,["name"]);o!=null&&f(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&Rx(s,t),t}function Dx(i){const t={},o=u(i,["name"]);return o!=null&&f(t,["_url","name"],o),t}function Ux(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),o}function Lx(i){const t={},o=u(i,["parent"]);o!=null&&f(t,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&Ux(s,t),t}function zx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["documents"],c)}return t}class Gx extends Sn{constructor(t){super(),this.apiClient=t,this.list=async o=>new yi(Tn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Dx(t);return c=ie("{name}",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,s;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Mx(t);r=ie("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Lx(t);return c=ie("{parent}/documents",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const m=zx(v),y=new rT;return Object.assign(y,m),y})}}}class kx extends Sn{constructor(t,o=new Gx(t)){super(),this.apiClient=t,this.documents=o,this.list=async(s={})=>new yi(Tn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xA(t);return c=ie("fileSearchStores",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NA(t);return c=ie("{name}",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var o,s;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=bA(t);r=ie("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LA(t);return c=ie("fileSearchStores",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const m=zA(v),y=new uT;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GA(t);return c=ie("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const m=kA(v),y=new cT;return Object.assign(y,m),y})}}async importFile(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MA(t);return c=ie("{file_search_store_name}:importFile",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const m=RA(v),y=new fc;return Object.assign(y,m),y})}}}let lg=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return lg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const Hx=()=>lg();function ju(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const ec=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class Pt extends Error{}class ct extends Pt{constructor(t,o,s,r){super(`${ct.makeMessage(t,o,s)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,s){const r=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,s,r){if(!t||!r)return new Ws({message:s,cause:ec(o)});const c=o;return t===400?new ag(t,c,s,r):t===401?new rg(t,c,s,r):t===403?new ug(t,c,s,r):t===404?new cg(t,c,s,r):t===409?new fg(t,c,s,r):t===422?new dg(t,c,s,r):t===429?new pg(t,c,s,r):t>=500?new mg(t,c,s,r):new ct(t,c,s,r)}}class tc extends ct{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ws extends ct{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class sg extends Ws{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ag extends ct{}class rg extends ct{}class ug extends ct{}class cg extends ct{}class fg extends ct{}class dg extends ct{}class pg extends ct{}class mg extends ct{}const Bx=/^[a-z][a-z0-9+.-]*:/i,qx=i=>Bx.test(i);let nc=i=>(nc=Array.isArray,nc(i));const Vx=nc;let Px=Vx;const yh=Px;function Ox(i){if(!i)return!0;for(const t in i)return!1;return!0}function Jx(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const Fx=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Pt(`${i} must be an integer`);if(t<0)throw new Pt(`${i} must be a positive integer`);return t},Yx=i=>{try{return JSON.parse(i)}catch{return}};const Kx=i=>new Promise(t=>setTimeout(t,i));const oo="0.0.1";function Xx(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Qx=()=>{var i,t,o,s,r;const c=Xx();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":Th(Deno.build.os),"X-Stainless-Arch":_h(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":Th((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":_h((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const d=$x();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $x(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,c=s[2]||0,d=s[3]||0;return{browser:t,version:`${r}.${c}.${d}`}}}return null}const _h=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Th=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ls;const Zx=()=>Ls??(Ls=Qx());function Wx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function hg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function jx(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return hg({start(){},async pull(o){const{done:s,value:r}=await t.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function gg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o?.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ew(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}const tw=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const vg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t?.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function zu(i,t,o){return vg(),new File(i,t??"unknown_file",o)}function nw(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const iw=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";const yg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",ow=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&yg(i),lw=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function sw(i,t,o){if(vg(),i=await i,ow(i))return i instanceof File?i:zu([await i.arrayBuffer()],i.name);if(lw(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),zu(await ic(r),t,o)}const s=await ic(i);if(t||(t=nw(i)),!o?.type){const r=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return zu(s,t,o)}async function ic(i){var t,o,s,r,c;let d=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)d.push(i);else if(yg(i))d.push(i instanceof Blob?i:await i.arrayBuffer());else if(iw(i))try{for(var g=!0,v=Xt(i),m;m=await v.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const y=r;d.push(...await ic(y))}}catch(y){o={error:y}}finally{try{!g&&!t&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}else{const y=(c=i?.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${y?`; constructor: ${y}`:""}${aw(i)}`)}return d}function aw(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}class _g{constructor(t){this._client=t}}_g._key=[];function Tg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Sh=Object.freeze(Object.create(null)),rw=(i=Tg)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const c=[],d=o.reduce((y,S,_)=>{var A,b,x;/[?#]/.test(S)&&(r=!0);const w=s[_];let R=(r?encodeURIComponent:i)(""+w);return _!==s.length&&(w==null||typeof w=="object"&&w.toString===((x=Object.getPrototypeOf((b=Object.getPrototypeOf((A=w.hasOwnProperty)!==null&&A!==void 0?A:Sh))!==null&&b!==void 0?b:Sh))===null||x===void 0?void 0:x.toString))&&(R=w+"",c.push({start:y.length+S.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),y+S+(_===s.length?"":R)},""),g=d.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=v.exec(g))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((y,S)=>y.start-S.start),c.length>0){let y=0;const S=c.reduce((_,A)=>{const b=" ".repeat(A.start-y),x="^".repeat(A.length);return y=A.start+A.length,_+b+x},"");throw new Pt(`Path parameters result in path with invalid segments:
${c.map(_=>_.error).join(`
`)}
${d}
${S}`)}return d}),zs=rw(Tg);class Sg extends _g{create(t,o){var s;const{api_version:r=this._client.apiVersion}=t,c=Ks(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(zs`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(zs`/${r}/interactions/${t}`,s)}cancel(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(zs`/${r}/interactions/${t}/cancel`,s)}get(t,o={},s){var r;const c=o??{},{api_version:d=this._client.apiVersion}=c,g=Ks(c,["api_version"]);return this._client.get(zs`/${d}/interactions/${t}`,Object.assign(Object.assign({query:g},s),{stream:(r=o?.stream)!==null&&r!==void 0?r:!1}))}}Sg._key=Object.freeze(["interactions"]);class Cg extends Sg{}function uw(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let Gs;function yc(i){let t;return(Gs??(t=new globalThis.TextEncoder,Gs=t.encode.bind(t)))(i)}let ks;function Ch(i){let t;return(ks??(t=new globalThis.TextDecoder,ks=t.decode.bind(t)))(i)}class js{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?yc(t):t;this.buffer=uw([this.buffer,o]);const s=[];let r;for(;(r=cw(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Ch(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,d=Ch(this.buffer.subarray(0,c));s.push(d),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}js.NEWLINE_CHARS=new Set([`
`,"\r"]);js.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function cw(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function fw(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}const Xs={off:0,error:200,warn:300,info:400,debug:500},Eh=(i,t,o)=>{if(i){if(Jx(Xs,i))return i;ut(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Xs))}`)}};function pl(){}function Hs(i,t,o){return!t||Xs[i]>Xs[o]?pl:t[i].bind(t)}const dw={error:pl,warn:pl,info:pl,debug:pl};let Ah=new WeakMap;function ut(i){var t;const o=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return dw;const r=Ah.get(o);if(r&&r[0]===s)return r[1];const c={error:Hs("error",o,s),warn:Hs("warn",o,s),info:Hs("info",o,s),debug:Hs("debug",o,s)};return Ah.set(o,[s,c]),c}const hi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);class so{constructor(t,o,s){this.iterator=t,this.controller=o,this.client=s}static fromSSEResponse(t,o,s){let r=!1;const c=s?ut(s):console;function d(){return Kt(this,arguments,function*(){var v,m,y,S;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var A=!0,b=Xt(pw(t,o)),x;x=yield pe(b.next()),v=x.done,!v;A=!0){S=x.value,A=!1;const w=S;if(!_)if(w.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield pe(JSON.parse(w.data))}catch(R){throw c.error("Could not parse message into JSON:",w.data),c.error("From chunk:",w.raw),R}}}catch(w){m={error:w}}finally{try{!A&&!v&&(y=b.return)&&(yield pe(y.call(b)))}finally{if(m)throw m.error}}_=!0}catch(w){if(ju(w))return yield pe(void 0);throw w}finally{_||o.abort()}})}return new so(d,o,s)}static fromReadableStream(t,o,s){let r=!1;function c(){return Kt(this,arguments,function*(){var v,m,y,S;const _=new js,A=gg(t);try{for(var b=!0,x=Xt(A),w;w=yield pe(x.next()),v=w.done,!v;b=!0){S=w.value,b=!1;const R=S;for(const H of _.decode(R))yield yield pe(H)}}catch(R){m={error:R}}finally{try{!b&&!v&&(y=x.return)&&(yield pe(y.call(x)))}finally{if(m)throw m.error}}for(const R of _.flush())yield yield pe(R)})}function d(){return Kt(this,arguments,function*(){var v,m,y,S;if(r)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var A=!0,b=Xt(c()),x;x=yield pe(b.next()),v=x.done,!v;A=!0){S=x.value,A=!1;const w=S;_||w&&(yield yield pe(JSON.parse(w)))}}catch(w){m={error:w}}finally{try{!A&&!v&&(y=b.return)&&(yield pe(y.call(b)))}finally{if(m)throw m.error}}_=!0}catch(w){if(ju(w))return yield pe(void 0);throw w}finally{_||o.abort()}})}return new so(d,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],s=this.iterator(),r=c=>({next:()=>{if(c.length===0){const d=s.next();t.push(d),o.push(d)}return c.shift()}});return[new so(()=>r(t),this.controller,this.client),new so(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return hg({async start(){o=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:c}=await o.next();if(c)return s.close();const d=yc(JSON.stringify(r)+`
`);s.enqueue(d)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function pw(i,t){return Kt(this,arguments,function*(){var s,r,c,d;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const g=new hw,v=new js,m=gg(i.body);try{for(var y=!0,S=Xt(mw(m)),_;_=yield pe(S.next()),s=_.done,!s;y=!0){d=_.value,y=!1;const A=d;for(const b of v.decode(A)){const x=g.decode(b);x&&(yield yield pe(x))}}}catch(A){r={error:A}}finally{try{!y&&!s&&(c=S.return)&&(yield pe(c.call(S)))}finally{if(r)throw r.error}}for(const A of v.flush()){const b=g.decode(A);b&&(yield yield pe(b))}})}function mw(i){return Kt(this,arguments,function*(){var o,s,r,c;let d=new Uint8Array;try{for(var g=!0,v=Xt(i),m;m=yield pe(v.next()),o=m.done,!o;g=!0){c=m.value,g=!1;const y=c;if(y==null)continue;const S=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?yc(y):y;let _=new Uint8Array(d.length+S.length);_.set(d),_.set(S,d.length),d=_;let A;for(;(A=fw(d))!==-1;)yield yield pe(d.slice(0,A)),d=d.slice(A)}}catch(y){s={error:y}}finally{try{!g&&!o&&(r=v.return)&&(yield pe(r.call(v)))}finally{if(s)throw s.error}}d.length>0&&(yield yield pe(d))})}class hw{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,s,r]=gw(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function gw(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}async function vw(i,t){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:c}=t,d=await(async()=>{var g;if(t.options.stream)return ut(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):so.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const v=o.headers.get("content-type"),m=(g=v?.split(";")[0])===null||g===void 0?void 0:g.trim();return m?.includes("application/json")||m?.endsWith("+json")?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return ut(i).debug(`[${s}] response parsed`,hi({retryOfRequestLogID:r,url:o.url,status:o.status,body:d,durationMs:Date.now()-c})),d}class _c extends Promise{constructor(t,o,s=vw){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new _c(this.client,this.responsePromise,async(o,s)=>t(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const Eg=Symbol("brand.privateNullableHeaders");function*yw(i){if(!i)return;if(Eg in i){const{values:s,nulls:r}=i;yield*s.entries();for(const c of r)yield[c,null];return}let t=!1,o;i instanceof Headers?o=i.entries():yh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=yh(s[1])?s[1]:[s[1]];let d=!1;for(const g of c)g!==void 0&&(t&&!d&&(d=!0,yield[r,null]),yield[r,g])}}const dl=i=>{const t=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[c,d]of yw(s)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),d===null?(t.delete(c),o.add(g)):(t.append(c,d),o.delete(g))}}return{[Eg]:!0,values:t,nulls:o}};const Gu=i=>{var t,o,s,r,c,d;if(typeof globalThis.process<"u")return(s=(o=(t=k_)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||d===void 0?void 0:d.trim()};var Ag;class ea{constructor(t){var o,s,r,c,d,g,v,{baseURL:m=Gu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(o=Gu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,_=Ks(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:y,apiVersion:S},_),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(s=A.timeout)!==null&&s!==void 0?s:ea.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(d=(c=Eh(A.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Eh(Gu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:b,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(v=A.fetch)!==null&&v!==void 0?v:Wx(),this.encoder=tw,this._options=A,this.apiKey=y,this.apiVersion=S,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=dl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return dl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return dl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Pt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${oo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Hx()}`}makeStatusError(t,o,s,r){return ct.generate(t,o,s,r)}buildURL(t,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,c=qx(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return Ox(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:s}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new _c(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,s){var r,c,d;const g=await t,v=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=v),await this.prepareOptions(g);const{req:m,url:y,timeout:S}=await this.buildRequest(g,{retryCount:v-o});await this.prepareRequest(m,{url:y,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=s===void 0?"":`, retryOf: ${s}`,b=Date.now();if(ut(this).debug(`[${_}] sending request`,hi({retryOfRequestLogID:s,method:g.method,url:y,options:g,headers:m.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new tc;const x=new AbortController,w=await this.fetchWithTimeout(y,m,S,x).catch(ec),R=Date.now();if(w instanceof globalThis.Error){const L=`retrying, ${o} attempts remaining`;if(!((d=g.signal)===null||d===void 0)&&d.aborted)throw new tc;const z=ju(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(o)return ut(this).info(`[${_}] connection ${z?"timed out":"failed"} - ${L}`),ut(this).debug(`[${_}] connection ${z?"timed out":"failed"} (${L})`,hi({retryOfRequestLogID:s,url:y,durationMs:R-b,message:w.message})),this.retryRequest(g,o,s??_);throw ut(this).info(`[${_}] connection ${z?"timed out":"failed"} - error; no more retries left`),ut(this).debug(`[${_}] connection ${z?"timed out":"failed"} (error; no more retries left)`,hi({retryOfRequestLogID:s,url:y,durationMs:R-b,message:w.message})),z?new sg:new Ws({cause:w})}const H=`[${_}${A}] ${m.method} ${y} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${R-b}ms`;if(!w.ok){const L=await this.shouldRetry(w);if(o&&L){const Q=`retrying, ${o} attempts remaining`;return await ew(w.body),ut(this).info(`${H} - ${Q}`),ut(this).debug(`[${_}] response error (${Q})`,hi({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:R-b})),this.retryRequest(g,o,s??_,w.headers)}const z=L?"error; no more retries left":"error; not retryable";ut(this).info(`${H} - ${z}`);const J=await w.text().catch(Q=>ec(Q).message),U=Yx(J),F=U?void 0:J;throw ut(this).debug(`[${_}] response error (${z})`,hi({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,message:F,durationMs:Date.now()-b})),this.makeStatusError(w.status,U,F,w.headers)}return ut(this).info(H),ut(this).debug(`[${_}] response start`,hi({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:R-b})),{response:w,options:g,controller:x,requestLogID:_,retryOfRequestLogID:s,startTime:b}}async fetchWithTimeout(t,o,s,r){const c=o||{},{signal:d,method:g}=c,v=Ks(c,["signal","method"]),m=this._makeAbort(r);d&&d.addEventListener("abort",m,{once:!0});const y=setTimeout(m,s),S=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,_=Object.assign(Object.assign(Object.assign({signal:r.signal},S?{duplex:"half"}:{}),{method:"GET"}),v);g&&(_.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(y)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,s,r){var c;let d;const g=r?.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(d=m)}const v=r?.get("retry-after");if(v&&!d){const m=parseFloat(v);Number.isNaN(m)?d=Date.parse(v)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,m)}return await Kx(d),this.makeRequest(t,o-1,s)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,d=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return d*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var s,r,c;const d=Object.assign({},t),{method:g,path:v,query:m,defaultBaseURL:y}=d,S=this.buildURL(v,m,y);"timeout"in d&&Fx("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:_,body:A}=this.buildBody({options:d}),b=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:b},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=d.fetchOptions)!==null&&c!==void 0?c:{}),url:S,timeout:d.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:s,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const d=await this.authHeaders(t);let g=dl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Zx()),this._options.defaultHeaders,s,t.headers,d]);return this.validateHeaders(g),g.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=dl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:jx(t)}:typeof t=="object"&&s.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:s})}}ea.DEFAULT_TIMEOUT=6e4;class et extends ea{constructor(){super(...arguments),this.interactions=new Cg(this)}}Ag=et;et.GeminiNextGenAPIClient=Ag;et.GeminiNextGenAPIClientError=Pt;et.APIError=ct;et.APIConnectionError=Ws;et.APIConnectionTimeoutError=sg;et.APIUserAbortError=tc;et.NotFoundError=cg;et.ConflictError=fg;et.RateLimitError=pg;et.BadRequestError=ag;et.AuthenticationError=rg;et.InternalServerError=mg;et.PermissionDeniedError=ug;et.UnprocessableEntityError=dg;et.toFile=sw;et.Interactions=Cg;function _w(i,t){const o={},s=u(i,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Tw(i,t){const o={},s=u(i,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Sw(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function Cw(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function Ew(i,t,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const d=u(i,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const v=u(i,["learningRate"]);if(t!==void 0&&v!=null&&f(t,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(u(i,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return s}function Aw(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const U=u(i,["validationDataset"]);t!==void 0&&U!=null&&f(t,["supervisedTuningSpec"],ku(U))}else if(r==="PREFERENCE_TUNING"){const U=u(i,["validationDataset"]);t!==void 0&&U!=null&&f(t,["preferenceOptimizationSpec"],ku(U))}else if(r==="DISTILLATION"){const U=u(i,["validationDataset"]);t!==void 0&&U!=null&&f(t,["distillationSpec"],ku(U))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const d=u(i,["description"]);t!==void 0&&d!=null&&f(t,["description"],d);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const U=u(i,["epochCount"]);t!==void 0&&U!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],U)}else if(g==="PREFERENCE_TUNING"){const U=u(i,["epochCount"]);t!==void 0&&U!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],U)}else if(g==="DISTILLATION"){const U=u(i,["epochCount"]);t!==void 0&&U!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],U)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const U=u(i,["learningRateMultiplier"]);t!==void 0&&U!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],U)}else if(v==="PREFERENCE_TUNING"){const U=u(i,["learningRateMultiplier"]);t!==void 0&&U!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],U)}else if(v==="DISTILLATION"){const U=u(i,["learningRateMultiplier"]);t!==void 0&&U!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],U)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const U=u(i,["exportLastCheckpointOnly"]);t!==void 0&&U!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],U)}else if(m==="PREFERENCE_TUNING"){const U=u(i,["exportLastCheckpointOnly"]);t!==void 0&&U!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],U)}else if(m==="DISTILLATION"){const U=u(i,["exportLastCheckpointOnly"]);t!==void 0&&U!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],U)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const U=u(i,["adapterSize"]);t!==void 0&&U!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],U)}else if(y==="PREFERENCE_TUNING"){const U=u(i,["adapterSize"]);t!==void 0&&U!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],U)}else if(y==="DISTILLATION"){const U=u(i,["adapterSize"]);t!==void 0&&U!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],U)}let S=u(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const U=u(i,["tuningMode"]);t!==void 0&&U!=null&&f(t,["supervisedTuningSpec","tuningMode"],U)}const _=u(i,["customBaseModel"]);t!==void 0&&_!=null&&f(t,["customBaseModel"],_);let A=u(o,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const U=u(i,["batchSize"]);t!==void 0&&U!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],U)}let b=u(o,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const U=u(i,["learningRate"]);t!==void 0&&U!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],U)}const x=u(i,["labels"]);t!==void 0&&x!=null&&f(t,["labels"],x);const w=u(i,["beta"]);t!==void 0&&w!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],w);const R=u(i,["baseTeacherModel"]);t!==void 0&&R!=null&&f(t,["distillationSpec","baseTeacherModel"],R);const H=u(i,["tunedTeacherModelSource"]);t!==void 0&&H!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],H);const L=u(i,["sftLossWeightMultiplier"]);t!==void 0&&L!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],L);const z=u(i,["outputUri"]);t!==void 0&&z!=null&&f(t,["outputUri"],z);const J=u(i,["encryptionSpec"]);return t!==void 0&&J!=null&&f(t,["encryptionSpec"],J),s}function xw(i,t){const o={},s=u(i,["baseModel"]);s!=null&&f(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&Gw(c);const d=u(i,["config"]);return d!=null&&Ew(d,o),o}function ww(i,t){const o={},s=u(i,["baseModel"]);s!=null&&f(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&f(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&kw(c,o,t);const d=u(i,["config"]);return d!=null&&Aw(d,o,t),o}function bw(i,t){const o={},s=u(i,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Nw(i,t){const o={},s=u(i,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Iw(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),s}function Rw(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(i,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),s}function Mw(i,t){const o={},s=u(i,["config"]);return s!=null&&Iw(s,o),o}function Dw(i,t){const o={},s=u(i,["config"]);return s!=null&&Rw(s,o),o}function Uw(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>xg(g))),f(o,["tuningJobs"],d)}return o}function Lw(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(o,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(g=>oc(g))),f(o,["tuningJobs"],d)}return o}function zw(i,t){const o={},s=u(i,["name"]);s!=null&&f(o,["model"],s);const r=u(i,["name"]);return r!=null&&f(o,["endpoint"],r),o}function Gw(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),f(o,["examples","examples"],r)}return o}function kw(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(r==="PREFERENCE_TUNING"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(r==="DISTILLATION"){const d=u(i,["gcsUri"]);t!==void 0&&d!=null&&f(t,["distillationSpec","promptDatasetUri"],d)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(c==="DISTILLATION"){const d=u(i,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["distillationSpec","promptDatasetUri"],d)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function xg(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Vh(c));const d=u(i,["createTime"]);d!=null&&f(o,["createTime"],d);const g=u(i,["tuningTask","startTime"]);g!=null&&f(o,["startTime"],g);const v=u(i,["tuningTask","completeTime"]);v!=null&&f(o,["endTime"],v);const m=u(i,["updateTime"]);m!=null&&f(o,["updateTime"],m);const y=u(i,["description"]);y!=null&&f(o,["description"],y);const S=u(i,["baseModel"]);S!=null&&f(o,["baseModel"],S);const _=u(i,["_self"]);return _!=null&&f(o,["tunedModel"],zw(_)),o}function oc(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["state"]);c!=null&&f(o,["state"],Vh(c));const d=u(i,["createTime"]);d!=null&&f(o,["createTime"],d);const g=u(i,["startTime"]);g!=null&&f(o,["startTime"],g);const v=u(i,["endTime"]);v!=null&&f(o,["endTime"],v);const m=u(i,["updateTime"]);m!=null&&f(o,["updateTime"],m);const y=u(i,["error"]);y!=null&&f(o,["error"],y);const S=u(i,["description"]);S!=null&&f(o,["description"],S);const _=u(i,["baseModel"]);_!=null&&f(o,["baseModel"],_);const A=u(i,["tunedModel"]);A!=null&&f(o,["tunedModel"],A);const b=u(i,["preTunedModel"]);b!=null&&f(o,["preTunedModel"],b);const x=u(i,["supervisedTuningSpec"]);x!=null&&f(o,["supervisedTuningSpec"],x);const w=u(i,["preferenceOptimizationSpec"]);w!=null&&f(o,["preferenceOptimizationSpec"],w);const R=u(i,["distillationSpec"]);R!=null&&f(o,["distillationSpec"],R);const H=u(i,["tuningDataStats"]);H!=null&&f(o,["tuningDataStats"],H);const L=u(i,["encryptionSpec"]);L!=null&&f(o,["encryptionSpec"],L);const z=u(i,["partnerModelTuningSpec"]);z!=null&&f(o,["partnerModelTuningSpec"],z);const J=u(i,["customBaseModel"]);J!=null&&f(o,["customBaseModel"],J);const U=u(i,["experiment"]);U!=null&&f(o,["experiment"],U);const F=u(i,["labels"]);F!=null&&f(o,["labels"],F);const j=u(i,["outputUri"]);j!=null&&f(o,["outputUri"],j);const Q=u(i,["pipelineJob"]);Q!=null&&f(o,["pipelineJob"],Q);const te=u(i,["serviceAccount"]);te!=null&&f(o,["serviceAccount"],te);const re=u(i,["tunedModelDisplayName"]);re!=null&&f(o,["tunedModelDisplayName"],re);const me=u(i,["veoTuningSpec"]);return me!=null&&f(o,["veoTuningSpec"],me),o}function Hw(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(o,["name"],r);const c=u(i,["metadata"]);c!=null&&f(o,["metadata"],c);const d=u(i,["done"]);d!=null&&f(o,["done"],d);const g=u(i,["error"]);return g!=null&&f(o,["error"],g),o}function ku(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(o,["validationDatasetUri"],r),o}class Bw extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new yi(Tn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:Fu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=Nw(t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>oc(y))}else{const m=bw(t);return g=ie("{name}",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>xg(y))}}async listInternal(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=Dw(t);return g=ie("tuningJobs",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=Lw(y),_=new Z0;return Object.assign(_,S),_})}else{const m=Mw(t);return g=ie("tunedModels",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=Uw(y),_=new Z0;return Object.assign(_,S),_})}}async cancel(t){var o,s,r,c;let d,g="",v={};if(this.apiClient.isVertexAI()){const m=Tw(t);return g=ie("{name}:cancel",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=Cw(y),_=new W0;return Object.assign(_,S),_})}else{const m=_w(t);return g=ie("{name}:cancel",m._url),v=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:y.headers},_})),d.then(y=>{const S=Sw(y),_=new W0;return Object.assign(_,S),_})}}async tuneInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI()){const g=ww(t,t);return c=ie("tuningJobs",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>oc(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,s;let r,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xw(t);return c=ie("tunedModels",g._url),d=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>Hw(v))}}}class qw{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Vw=1024*1024*8,Pw=3,Ow=1e3,Jw=2,Qs="x-goog-upload-status";async function Fw(i,t,o){var s;const r=await wg(i,t,o),c=await r?.json();if(((s=r?.headers)===null||s===void 0?void 0:s[Qs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function Yw(i,t,o){var s;const r=await wg(i,t,o),c=await r?.json();if(((s=r?.headers)===null||s===void 0?void 0:s[Qs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=zh(c),g=new dc;return Object.assign(g,d),g}async function wg(i,t,o){var s,r;let c=0,d=0,g=new Ku(new Response),v="upload";for(c=i.size;d<c;){const m=Math.min(Vw,c-d),y=i.slice(d,d+m);d+m>=c&&(v+=", finalize");let S=0,_=Ow;for(;S<Pw&&(g=await o.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((s=g?.headers)===null||s===void 0)&&s[Qs]));)S++,await Xw(_),_=_*Jw;if(d+=m,((r=g?.headers)===null||r===void 0?void 0:r[Qs])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function Kw(i){return{size:i.size,type:i.type}}function Xw(i){return new Promise(t=>setTimeout(t,i))}class Qw{async upload(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Fw(t,o,s)}async uploadToFileSearchStore(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Yw(t,o,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Kw(t)}}class $w{create(t,o,s){return new Zw(t,o,s)}}class Zw{constructor(t,o,s){this.url=t,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const xh="x-goog-api-key";class Ww{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(xh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(xh,this.apiKey)}}}const jw="gl-node/";class e2{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const o=this.httpOptions;o?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const s=new et({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:o?.timeout,maxRetries:(t=o?.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=s.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const s=V_(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new Ww(this.apiKey);this.apiClient=new KA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:jw+"web",uploader:new Qw,downloader:new qw}),this.models=new dx(this.apiClient),this.live=new sx(this.apiClient,r,new $w),this.batches=new yS(this.apiClient),this.chats=new jS(this.models,this.apiClient),this.caches=new $S(this.apiClient),this.files=new fC(this.apiClient),this.operations=new px(this.apiClient),this.authTokens=new Ix(this.apiClient),this.tunings=new Bw(this.apiClient),this.fileSearchStores=new kx(this.apiClient)}}const t2=new e2({apiKey:"AIzaSyBN24E9LS3XDuKKhBUCXdtuKPXyvrdZ4jU"}),n2={type:yt.OBJECT,properties:{title:{type:yt.STRING,description:" ()"},author:{type:yt.STRING,description:" ()"},genre:{type:yt.STRING,description:" ()"},category:{type:yt.STRING,description:" ()"},subCategory:{type:yt.STRING,description:" ()"}},required:["title","author","genre","category"]},i2=async i=>{try{const o=(await t2.models.generateContent({model:"gemini-3-flash-preview",contents:` "${i}"
      
      
       category ()  subCategory ()
       ISBN`,config:{responseMimeType:"application/json",responseSchema:n2,temperature:.3}})).text;if(!o)throw new Error("AI ");return JSON.parse(o)}catch(t){throw console.error("Gemini API Error:",t),t}},o2=({isOpen:i,onClose:t,onAdd:o,categories:s})=>{const[r,c]=ae.useState("ai"),[d,g]=ae.useState(""),[v,m]=ae.useState(!1),[y,S]=ae.useState(null),[_,A]=ae.useState(!1),[b,x]=ae.useState(new Set),[w,R]=ae.useState({title:"",author:"",genre:"",category:"",subCategory:"",coverUrl:""});if(!i)return null;const H=async j=>{if(j.preventDefault(),!!d.trim()){m(!0),S(null);try{const Q=await i2(d);R({title:Q.title,author:Q.author,genre:Q.genre,category:"",subCategory:"",coverUrl:""}),c("manual")}catch{S("AI ")}finally{m(!1)}}},L=j=>{j.preventDefault();const Q={...w,title:w.title.trim(),author:w.author.trim(),category:w.category.trim()||""};o(Q),R({title:"",author:"",genre:"",category:"",subCategory:"",coverUrl:""}),g(""),t(),c("ai")},z=j=>{const{name:Q,value:te}=j.target;R(re=>({...re,[Q]:te}))},J=(j,Q)=>{j.stopPropagation(),j.preventDefault(),x(te=>{const re=new Set(te);return re.has(Q)?re.delete(Q):re.add(Q),re})},U=(j,Q)=>{j.preventDefault(),R(te=>({...te,category:Q})),A(!1)},F=(j,Q=0)=>j.map(te=>{const re=te.children&&te.children.length>0,me=b.has(te.id),_e=w.category===te.name;return C.jsxs("div",{className:"select-none",children:[C.jsxs("div",{className:`flex items-center gap-1 p-2 rounded-lg cursor-pointer transition-colors border border-transparent ${_e?"bg-indigo-600 text-white":"hover:bg-slate-800 hover:border-slate-700 text-slate-300"}`,style:{paddingLeft:`${Q*12+8}px`},onClick:ge=>U(ge,te.name),children:[re?C.jsx("button",{type:"button",onClick:ge=>J(ge,te.id),className:"p-1 hover:bg-white/10 rounded mr-1",children:me?C.jsx(vi,{size:14}):C.jsx(co,{size:14})}):C.jsx("span",{className:"w-6"}),re&&me?C.jsx(Xn,{size:16,className:_e?"text-white":"text-indigo-400"}):C.jsx(_n,{size:16,className:_e?"text-white":"text-slate-500"}),C.jsx("span",{className:"text-sm ml-2",children:te.name})]}),re&&me&&C.jsx("div",{className:"border-l border-slate-700 ml-3",children:F(te.children,Q+1)})]},te.id)});return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col border border-slate-700",children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[C.jsxs("h2",{className:"text-xl font-bold text-slate-100 flex items-center gap-2",children:[C.jsx(uo,{className:"text-indigo-400"})," "]}),C.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-full text-slate-400 hover:text-slate-200 transition-colors",children:C.jsx(Yt,{size:20})})]}),C.jsxs("div",{className:"flex border-b border-slate-700",children:[C.jsxs("button",{onClick:()=>c("ai"),className:`flex-1 py-4 text-sm font-medium transition-colors flex items-center justify-center gap-2 relative ${r==="ai"?"text-indigo-400 bg-slate-800/50":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/30"}`,children:[C.jsx(bu,{size:16}),"AI ",r==="ai"&&C.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500"})]}),C.jsxs("button",{onClick:()=>c("manual"),className:`flex-1 py-4 text-sm font-medium transition-colors flex items-center justify-center gap-2 relative ${r==="manual"?"text-indigo-400 bg-slate-800/50":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/30"}`,children:[C.jsx(C1,{size:16})," / ",r==="manual"&&C.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-500"})]})]}),C.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:r==="ai"?C.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center space-y-6 h-full",children:[C.jsx("div",{className:"w-16 h-16 bg-indigo-500/10 rounded-full flex items-center justify-center mb-2 animate-pulse",children:C.jsx(bu,{className:"text-indigo-400",size:32})}),C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:" AI "}),C.jsx("p",{className:"text-slate-400 max-w-sm mx-auto mt-2 text-sm",children:""})]}),C.jsxs("form",{onSubmit:H,className:"w-full max-w-md relative",children:[C.jsx("input",{type:"text",value:d,onChange:j=>g(j.target.value),placeholder:"''",className:"w-full pl-12 pr-4 py-3 bg-slate-900 border border-slate-700 text-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder-slate-500",autoFocus:!0}),C.jsx(Dh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:20}),C.jsx("button",{type:"submit",disabled:v||!d.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-indigo-600 text-white p-1.5 rounded-lg hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?C.jsx(J1,{className:"animate-spin",size:20}):C.jsx(bu,{size:20})})]}),y&&C.jsx("div",{className:"p-3 bg-red-900/20 border border-red-800 text-red-300 text-sm rounded-lg max-w-md",children:y})]}):C.jsxs("form",{id:"bookForm",onSubmit:L,className:"space-y-4",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase",children:" ()"}),C.jsx("input",{name:"title",value:w.title,onChange:z,className:"w-full p-2.5 bg-slate-900 border border-slate-700 text-slate-100 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:""})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase",children:" ()"}),C.jsx("input",{name:"author",value:w.author,onChange:z,className:"w-full p-2.5 bg-slate-900 border border-slate-700 text-slate-100 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:""})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsxs("label",{className:"text-xs font-semibold text-slate-400 uppercase flex items-center gap-2",children:[C.jsx(Rh,{size:14})," "]}),C.jsxs("div",{className:"relative",children:[C.jsxs("button",{type:"button",onClick:j=>{j.preventDefault(),A(!_)},className:"w-full p-2.5 bg-slate-900 border border-slate-700 text-slate-100 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-left flex items-center justify-between transition-colors hover:border-slate-600",children:[C.jsx("span",{className:w.category?"text-slate-100":"text-slate-500",children:w.category||"..."}),C.jsx(vi,{size:16,className:`text-slate-500 transition-transform duration-200 ${_?"rotate-180":""}`})]}),_&&C.jsx("div",{className:"mt-2 w-full bg-slate-900 border border-slate-700 rounded-lg max-h-60 overflow-y-auto custom-scrollbar p-2 shadow-lg",children:s.length===0?C.jsx("p",{className:"text-slate-500 text-sm text-center py-4",children:""}):F(s)})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase",children:" URL ()"}),C.jsx("div",{className:"flex gap-2",children:C.jsx("input",{name:"coverUrl",value:w.coverUrl,onChange:z,className:"flex-1 p-2.5 bg-slate-900 border border-slate-700 text-slate-100 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"https://..."})}),w.coverUrl&&C.jsxs("p",{className:"text-xs text-green-400 mt-1",children:[": ",C.jsx("a",{href:w.coverUrl,target:"_blank",rel:"noreferrer",className:"underline hover:text-green-300",children:""})]})]})]})}),r==="manual"&&C.jsxs("div",{className:"p-4 bg-slate-900/50 border-t border-slate-700 flex justify-end gap-3",children:[C.jsx("button",{onClick:()=>c("ai"),className:"px-4 py-2 text-slate-400 hover:text-slate-200 font-medium text-sm transition-colors",children:" AI "}),C.jsx("button",{type:"submit",form:"bookForm",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium text-sm transition-all shadow-lg hover:shadow-indigo-500/20",children:""})]})]})})},l2=({isOpen:i,onClose:t,categories:o,onUpdateCategories:s})=>{const[r,c]=ae.useState([]),[d,g]=ae.useState(new Set),[v,m]=ae.useState(null),[y,S]=ae.useState(""),[_,A]=ae.useState(null),[b,x]=ae.useState(""),[w,R]=ae.useState(null),[H,L]=ae.useState("");if(ae.useEffect(()=>{if(i){const Y=gi(JSON.parse(JSON.stringify(o)));c(Y),R(null)}},[i,o]),!i)return null;const z=(Y,$,Z)=>{const ne=Y.map(I=>I.id===$?Z(I):I.children?{...I,children:z(I.children,$,Z)}:I);return gi(ne)},J=(Y,$)=>Y.filter(Z=>Z.id!==$).map(Z=>({...Z,children:J(Z.children||[],$)})),U=(Y,$,Z)=>{const ne=Y.map(I=>I.id===$?{...I,children:[...I.children||[],Z]}:I.children?{...I,children:U(I.children,$,Z)}:I);return gi(ne)},F=(Y,$)=>{let Z=null;const ne=q=>q.filter(W=>W.id===$?(Z=W,!1):(W.children&&(W.children=ne(W.children)),!0)),I=ne(JSON.parse(JSON.stringify(Y)));return{node:Z,tree:I}},j=(Y,$,Z="")=>{let ne=[];return Y.forEach(I=>{if(I.id===$)return;const q=Z?`${Z} > ${I.name}`:I.name;ne.push({id:I.id,name:q}),I.children&&(ne=ne.concat(j(I.children,$,q)))}),ne},Q=Y=>{g($=>{const Z=new Set($);return Z.has(Y)?Z.delete(Y):Z.add(Y),Z})},te=Y=>{if(!b.trim())return;const $={id:crypto.randomUUID(),name:b.trim(),children:[]};let Z;Y===null?Z=gi([...r,$]):(Z=U(r,Y,$),g(ne=>new Set(ne).add(Y))),c(Z),s(Z),x(""),A(null)},re=Y=>{if(!y.trim())return;const $=z(r,Y,Z=>({...Z,name:y.trim()}));c($),s($),m(null)},me=(Y,$,Z)=>{if(Y.stopPropagation(),confirm(`${Z}
`)){const ne=J(r,$);c(ne),s(ne)}},_e=(Y,$,Z)=>{Y.stopPropagation(),R($),L(Z)},ge=Y=>{if(!w)return;const{node:$,tree:Z}=F(r,w);if($){let ne;Y===null?ne=gi([...Z,$]):(ne=U(Z,Y,$),g(I=>new Set(I).add(Y))),c(ne),s(ne)}R(null)},Me=(Y,$=0)=>Y.map(Z=>C.jsxs("div",{className:"select-none",children:[C.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg hover:bg-slate-800 border border-transparent hover:border-slate-700 mb-1 group transition-colors ${$>0?"ml-6":""}`,onClick:()=>Q(Z.id),children:[C.jsx("button",{onClick:ne=>{ne.stopPropagation(),Q(Z.id)},className:`p-1 text-slate-500 hover:text-indigo-400 transition-colors ${Z.children?.length?"":"opacity-30"}`,disabled:!Z.children?.length,children:d.has(Z.id)?C.jsx(vi,{size:16}):C.jsx(co,{size:16})}),C.jsxs("div",{className:"flex-1 flex items-center gap-2 min-w-0",children:[d.has(Z.id)?C.jsx(Xn,{size:16,className:"text-indigo-400"}):C.jsx(_n,{size:16,className:"text-slate-500"}),v===Z.id?C.jsxs("div",{className:"flex flex-1 items-center gap-1",onClick:ne=>ne.stopPropagation(),children:[C.jsx("input",{value:y,onChange:ne=>S(ne.target.value),className:"w-full bg-slate-900 border border-indigo-500 rounded px-2 py-1 text-sm text-white outline-none",autoFocus:!0,onKeyDown:ne=>ne.key==="Enter"&&re(Z.id)}),C.jsx("button",{onClick:()=>re(Z.id),className:"text-green-400 hover:text-green-300",children:C.jsx(Bu,{size:16})}),C.jsx("button",{onClick:()=>m(null),className:"text-red-400 hover:text-red-300",children:C.jsx(Yt,{size:16})})]}):C.jsx("span",{className:`text-sm font-medium truncate ${$===0?"text-slate-200":"text-slate-400"}`,children:Z.name})]}),C.jsxs("div",{className:"flex items-center gap-1 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx("button",{onClick:ne=>_e(ne,Z.id,Z.name),className:"p-1.5 text-slate-500 hover:text-amber-400 hover:bg-slate-700/50 rounded",title:"",children:C.jsx(Vs,{size:14})}),C.jsx("button",{onClick:ne=>{ne.stopPropagation(),A(Z.id),x("")},className:"p-1.5 text-slate-500 hover:text-indigo-400 hover:bg-slate-700/50 rounded",title:"",children:C.jsx(uo,{size:14})}),C.jsx("button",{onClick:ne=>{ne.stopPropagation(),m(Z.id),S(Z.name)},className:"p-1.5 text-slate-500 hover:text-blue-400 hover:bg-slate-700/50 rounded",title:"",children:C.jsx(Mh,{size:14})}),C.jsx("button",{onClick:ne=>me(ne,Z.id,Z.name),className:"p-1.5 text-slate-500 hover:text-red-400 hover:bg-slate-700/50 rounded",title:"",children:C.jsx(rc,{size:14})})]})]}),_===Z.id&&C.jsxs("div",{className:`flex items-center gap-2 p-2 mb-1 ml-${($+1)*6+6} pl-8`,children:[C.jsx("div",{className:"w-4 h-4 border-l border-b border-slate-700 rounded-bl mr-2"}),C.jsx("input",{value:b,onChange:ne=>x(ne.target.value),placeholder:"...",className:"flex-1 bg-slate-900 border border-indigo-500 rounded px-2 py-1 text-sm text-white outline-none",autoFocus:!0,onKeyDown:ne=>ne.key==="Enter"&&te(Z.id)}),C.jsx("button",{onClick:()=>te(Z.id),className:"text-green-400",children:C.jsx(Bu,{size:16})}),C.jsx("button",{onClick:()=>A(null),className:"text-slate-500",children:C.jsx(Yt,{size:16})})]}),Z.children&&d.has(Z.id)&&C.jsx("div",{children:Me(Z.children,$+1)})]},Z.id)),P=w?j(r,w):[];return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:C.jsx("div",{className:"bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg h-[80vh] flex flex-col border border-slate-700 relative",children:w?C.jsxs("div",{className:"flex flex-col h-full",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 bg-slate-900/50 rounded-t-2xl",children:[C.jsxs("h2",{className:"text-lg font-bold text-amber-400 flex items-center gap-2",children:[C.jsx(Vs,{size:20})," "]}),C.jsx("button",{onClick:()=>R(null),className:"p-2 hover:bg-slate-700 rounded-full text-slate-400",children:C.jsx(Yt,{size:20})})]}),C.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[C.jsxs("p",{className:"text-slate-300 mb-4",children:[" ",C.jsxs("span",{className:"font-bold text-white",children:["",H,""]})," "]}),C.jsxs("button",{onClick:()=>ge(null),className:"w-full text-left p-3 mb-2 rounded-lg bg-slate-700 hover:bg-slate-600 text-white border border-slate-600 font-bold flex items-center gap-2",children:[C.jsx(Xn,{size:18}),"  ()"]}),C.jsxs("div",{className:"space-y-1",children:[P.map(Y=>C.jsxs("button",{onClick:()=>ge(Y.id),className:"w-full text-left p-2.5 rounded-lg hover:bg-slate-700 text-slate-300 hover:text-white transition-colors text-sm flex items-center gap-2",children:[C.jsx(_n,{size:16,className:"text-slate-500"}),Y.name]},Y.id)),P.length===0&&C.jsx("p",{className:"text-slate-500 text-sm p-2",children:""})]})]})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 bg-slate-900/50 rounded-t-2xl",children:[C.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[C.jsx(Uh,{className:"text-indigo-400",size:20})," "]}),C.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-full text-slate-400 hover:text-slate-200",children:C.jsx(Yt,{size:20})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:[r.length===0&&C.jsxs("div",{className:"text-center py-10 text-slate-500 flex flex-col items-center gap-2",children:[C.jsx(Xn,{size:40,strokeWidth:1.5}),C.jsx("p",{children:""})]}),Me(r)]}),_===null&&C.jsx("div",{className:"p-4 bg-slate-900 border-t border-slate-700",children:C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{value:b,onChange:Y=>x(Y.target.value),placeholder:"...",className:"flex-1 bg-slate-800 border border-slate-700 text-slate-200 px-3 py-2 rounded-lg focus:outline-none focus:border-indigo-500",onKeyDown:Y=>Y.key==="Enter"&&te(null)}),C.jsx("button",{onClick:()=>te(null),disabled:!b.trim(),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 disabled:opacity-50",children:C.jsx(uo,{size:18})})]})})]})})})},s2=({isOpen:i,onClose:t,book:o,categories:s,onUpdate:r,onDelete:c})=>{const[d,g]=ae.useState(!1),[v,m]=ae.useState(null),[y,S]=ae.useState(!1),[_,A]=ae.useState(!1),[b,x]=ae.useState(new Set);if(ae.useEffect(()=>{i&&o&&(m({...o}),g(!1),S(!1),A(!1))},[i,o]),!i||!o||!v)return null;const w=o.coverUrl&&o.coverUrl.length>0?o.coverUrl:`https://picsum.photos/seed/${o.id}/300/450`,R=F=>{const{name:j,value:Q}=F.target;m(te=>te?{...te,[j]:Q}:null)},H=()=>{v&&(r(v),g(!1))},L=()=>{window.confirm(`

${o.title}
`)&&(c(o.id),t())},z=(F,j)=>{F.stopPropagation(),F.preventDefault(),x(Q=>{const te=new Set(Q);return te.has(j)?te.delete(j):te.add(j),te})},J=(F,j)=>{F.preventDefault(),m(Q=>Q?{...Q,category:j}:null),A(!1)},U=(F,j=0)=>F.map(Q=>{const te=Q.children&&Q.children.length>0,re=b.has(Q.id),me=v?.category===Q.name;return C.jsxs("div",{className:"select-none",children:[C.jsxs("div",{className:`flex items-center gap-1 p-2 rounded-lg cursor-pointer transition-colors border border-transparent ${me?"bg-indigo-600 text-white":"hover:bg-slate-800 hover:border-slate-700 text-slate-300"}`,style:{paddingLeft:`${j*12+8}px`},onClick:_e=>J(_e,Q.name),children:[te?C.jsx("button",{type:"button",onClick:_e=>z(_e,Q.id),className:"p-1 hover:bg-white/10 rounded mr-1",children:re?C.jsx(vi,{size:14}):C.jsx(co,{size:14})}):C.jsx("span",{className:"w-6"}),te&&re?C.jsx(Xn,{size:16,className:me?"text-white":"text-indigo-400"}):C.jsx(_n,{size:16,className:me?"text-white":"text-slate-500"}),C.jsx("span",{className:"text-sm ml-2",children:Q.name})]}),te&&re&&C.jsx("div",{className:"border-l border-slate-700 ml-3",children:U(Q.children,j+1)})]},Q.id)});return C.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-md",children:[y&&C.jsx("div",{className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 cursor-zoom-out",onClick:()=>S(!1),children:C.jsx("img",{src:w,alt:o.title,className:"max-w-full max-h-full object-contain shadow-2xl"})}),C.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden flex flex-col md:flex-row border border-slate-700 animate-in fade-in zoom-in duration-200 relative",children:[C.jsx("div",{className:"w-full md:w-5/12 bg-slate-950 relative group flex items-center justify-center bg-black",children:C.jsxs("div",{className:"relative w-full h-64 md:h-full cursor-zoom-in",onClick:()=>S(!0),children:[C.jsx("img",{src:w,alt:o.title,className:"w-full h-full object-contain"}),C.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/20",children:C.jsx(f_,{className:"text-white drop-shadow-md",size:32})})]})}),C.jsxs("div",{className:"w-full md:w-7/12 flex flex-col h-full bg-slate-900",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-800 h-16 shrink-0",children:[C.jsx("div",{className:"flex-1"}),C.jsxs("div",{className:"flex items-center gap-2",children:[d?C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1.5 text-slate-400 hover:text-white transition-colors text-sm",children:""}),C.jsxs("button",{onClick:H,className:"flex items-center gap-1 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-sm font-medium transition-colors",children:[C.jsx(Bu,{size:16})," "]})]}):C.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-indigo-400 hover:bg-indigo-500/10 rounded-lg transition-colors text-sm font-medium",children:[C.jsx(Mh,{size:16})," "]}),C.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),C.jsx("button",{onClick:t,className:"p-1.5 hover:bg-slate-700 rounded-lg text-slate-400 hover:text-white transition-colors",children:C.jsx(Yt,{size:20})})]})]}),C.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:d?C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:""}),C.jsx("input",{name:"title",value:v.title,onChange:R,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-slate-100 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:""}),C.jsx("input",{name:"author",value:v.author,onChange:R,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-slate-100 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),C.jsxs("div",{className:"space-y-1 relative",children:[C.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 mb-1",children:[C.jsx(Rh,{size:14}),C.jsx("label",{className:"text-xs font-bold uppercase tracking-wider",children:""})]}),C.jsxs("div",{className:"relative",children:[C.jsxs("button",{type:"button",onClick:()=>A(!_),className:"w-full p-2.5 bg-slate-800 border border-slate-700 text-slate-100 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none text-left flex items-center justify-between transition-colors hover:border-slate-600",children:[C.jsx("span",{className:v.category&&v.category!==""?"text-slate-100":"text-slate-500",children:v.category||""}),C.jsx(vi,{size:16,className:`text-slate-500 transition-transform duration-200 ${_?"rotate-180":""}`})]}),_&&C.jsxs("div",{className:"absolute z-10 mt-2 w-full bg-slate-900 border border-slate-700 rounded-lg max-h-60 overflow-y-auto custom-scrollbar p-2 shadow-2xl",children:[C.jsxs("div",{className:`flex items-center gap-1 p-2 rounded-lg cursor-pointer transition-colors border border-transparent ${v.category===""||!v.category?"bg-indigo-600 text-white":"hover:bg-slate-800 hover:border-slate-700 text-slate-300"}`,onClick:F=>J(F,""),children:[C.jsx("span",{className:"w-6"}),C.jsx(_n,{size:16,className:v.category===""||!v.category?"text-white":"text-slate-500"}),C.jsx("span",{className:"text-sm ml-2",children:""})]}),s.length>0&&U(s)]})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:" URL"}),C.jsx("input",{name:"coverUrl",value:v.coverUrl||"",onChange:R,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-slate-100 focus:ring-2 focus:ring-indigo-500 outline-none text-xs font-mono"})]})]}):C.jsx("div",{className:"space-y-6 pt-4",children:C.jsxs("div",{children:[C.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:C.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-indigo-500/10 text-indigo-400 text-sm font-medium rounded-full border border-indigo-500/20",children:[C.jsx(l_,{size:14})," ",o.category]})}),C.jsx("h2",{className:"text-2xl font-bold text-slate-100 leading-tight mb-2",children:o.title}),C.jsx("p",{className:"text-lg text-slate-400 font-medium",children:o.author})]})})}),C.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-900 flex justify-end",children:C.jsxs("button",{onClick:L,className:"p-2 text-slate-600 hover:text-red-500 hover:bg-slate-800 rounded-lg transition-colors flex items-center gap-2 text-xs",title:"",children:[C.jsx(rc,{size:16})," "]})})]})]})]})},a2=(i,t)=>{const o=new Map,s=[];i.forEach(m=>{const y=m.title.match(/^(.*?)(\d+)\s*$/);if(y&&m.category){const S=y[1].trim(),_=`${m.category}|${m.author}|${S}`;o.has(_)||o.set(_,[]),o.get(_).push(m)}else s.push(m)});const r=[];s.forEach(m=>{const y=m.coverUrl?`,
    "${m.coverUrl}"`:"";r.push(`  createBook(
    "${m.title}",
    "${m.author}",
    "${m.category}",
    "${m.id}"${y}
  )`)}),o.forEach((m,y)=>{if(m.length<2){m.forEach(z=>{const J=z.coverUrl?`,
    "${z.coverUrl}"`:"";r.push(`  createBook(
    "${z.title}",
    "${z.author}",
    "${z.category}",
    "${z.id}"${J}
  )`)});return}const[S,_,A]=y.split("|"),b=[],x={};let w="",R=!0;m.sort((z,J)=>{const U=parseInt(z.title.match(/(\d+)\s*$/)?.[1]||"0"),F=parseInt(J.title.match(/(\d+)\s*$/)?.[1]||"0");return U-F}),m.forEach(z=>{const J=z.title.match(/(\d+)\s*$/);if(J){const U=parseInt(J[1]);b.push(U),z.coverUrl&&(x[U]=z.coverUrl);const F=z.id.split("-");if(F.length>1){const j=F.slice(0,-1).join("-");w===""?w=j:w!==j&&(R=!1)}else R=!1}});const H=R&&w?`    idBase: "${w}",`:`    idBase: "${crypto.randomUUID().slice(0,8)}",`;let L="";Object.keys(x).length>0&&(L=`
    covers: {
${Object.entries(x).map(([z,J])=>`      ${z}: "${J}"`).join(`,
`)}
    },`),r.push(`  ...createSeries({
    title: "${A}",
    author: "${_}",
    category: "${S}",
${H}
    volumes: [${b.join(", ")}],${L}
  })`)});const c=`import { Book, CategoryDef } from '../types';
import { createBook, createSeries } from '../utils/bookFactory';

/**
 * 
 *  data/initialData.ts
 */

export const initialCategories: CategoryDef[] = ${JSON.stringify(t,null,2)};

export const initialBooks: Book[] = [
${r.join(`,

`)}
];`,d=new Blob([c.trim()],{type:"text/plain;charset=utf-8"}),g=URL.createObjectURL(d),v=document.createElement("a");v.href=g,v.download="initialData.ts",document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g)},r2=i=>new Promise((t,o)=>{const s=new FileReader;s.onload=r=>{try{const c=r.target?.result;if(c.includes("createSeries")||c.includes("createBook")){o(new Error(" TypeScript  data/initialData.ts"));return}const d=JSON.parse(c);t({books:d.books||d,categories:d.categories||[]})}catch{o(new Error(""))}},s.readAsText(i)}),u2=({isOpen:i,onClose:t,books:o,categories:s,onImport:r})=>{const c=ae.useRef(null),[d,g]=ae.useState(null),[v,m]=ae.useState(!1);if(!i)return null;const y=()=>{try{a2(o,s),g({type:"success",text:"initialData.ts "})}catch{g({type:"error",text:""})}},S=()=>{try{const A=`
import { Book, CategoryDef } from '../types';

/**
 * 
 * 
 *  JSON 
 */

export const initialCategories: CategoryDef[] = ${JSON.stringify(s,null,2)};

export const initialBooks: Book[] = ${JSON.stringify(o,null,2)};
`;navigator.clipboard.writeText(A.trim()),g({type:"success",text:" data/initialData.ts"})}catch{g({type:"error",text:""})}},_=async A=>{const b=A.target.files?.[0];if(b)if(confirm(`

`)){m(!0),g(null);try{const x=await r2(b);setTimeout(()=>{r(x.books,x.categories),g({type:"success",text:` ${x.books.length} `}),m(!1),setTimeout(t,1500)},500)}catch(x){m(!1);const w=x instanceof Error?x.message:"";g({type:"error",text:`${w}`})}finally{c.current&&(c.current.value="")}}else c.current&&(c.current.value="")};return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[C.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[C.jsx(ac,{size:20,className:"text-indigo-400"})," "]}),C.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-white rounded-full",children:C.jsx(Yt,{size:20})})]}),C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-500/30 rounded-lg p-4 flex items-start gap-3",children:[C.jsx(Lm,{className:"text-indigo-400 shrink-0 mt-0.5",size:18}),C.jsxs("div",{className:"text-sm text-indigo-200",children:[C.jsx("b",{children:""}),C.jsx("br",{})," initialData.ts ",C.jsx("code",{children:"data/initialData.ts"})," "]})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 p-4 bg-slate-700 hover:bg-slate-600 text-white rounded-xl transition-colors border border-slate-600 font-medium",children:[C.jsx(B1,{size:20})," initialData.ts ()"]}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{ref:c,type:"file",accept:".ts,.json,.txt",onChange:_,className:"hidden"}),C.jsxs("button",{onClick:()=>c.current?.click(),disabled:v,className:"w-full flex items-center justify-center gap-2 p-4 bg-slate-900 hover:bg-slate-950 text-slate-300 hover:text-white rounded-xl transition-colors border border-slate-700 border-dashed disabled:opacity-50 disabled:cursor-wait",children:[v?C.jsx(Z1,{className:"animate-spin",size:20}):C.jsx(r_,{size:20}),v?"...":" (initialData.ts)"]})]})]}),C.jsxs("div",{className:"border-t border-slate-700 pt-6",children:[C.jsxs("div",{className:"text-xs text-slate-500 uppercase font-bold mb-3 tracking-wider flex items-center gap-1",children:[C.jsx(U1,{size:12})," "]}),C.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 p-3 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-indigo-300 rounded-lg transition-colors border border-slate-700 text-sm",children:[C.jsx(z1,{size:16}),"  ()"]})]}),d&&C.jsxs("div",{className:`p-3 rounded-lg text-sm flex items-center gap-2 animate-in fade-in slide-in-from-bottom-2 ${d.type==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:[d.type==="success"?C.jsx(Ih,{size:16}):C.jsx(Lm,{size:16}),d.text]})]})]})})},c2=({isOpen:i,onClose:t,selectedCount:o,categories:s,onConfirm:r})=>{const[c,d]=ae.useState(new Set),[g,v]=ae.useState(null);if(!i)return null;const m=S=>{d(_=>{const A=new Set(_);return A.has(S)?A.delete(S):A.add(S),A})},y=(S,_=0)=>S.map(A=>C.jsxs("div",{className:"select-none",children:[C.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors border ${g===A.name?"bg-indigo-600 border-indigo-500 text-white":"hover:bg-slate-800 border-transparent hover:border-slate-700 text-slate-300"}`,style:{marginLeft:`${_*16}px`},onClick:()=>v(A.name),children:[A.children&&A.children.length>0?C.jsx("button",{onClick:b=>{b.stopPropagation(),m(A.id)},className:"p-1 hover:bg-white/10 rounded",children:c.has(A.id)?C.jsx(vi,{size:16}):C.jsx(co,{size:16})}):C.jsx("span",{className:"w-6"}),c.has(A.id)?C.jsx(Xn,{size:16}):C.jsx(_n,{size:16}),C.jsx("span",{className:"text-sm font-medium truncate flex-1",children:A.name}),g===A.name&&C.jsx(Um,{size:16})]}),A.children&&c.has(A.id)&&C.jsx("div",{children:y(A.children,_+1)})]},A.id));return C.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700 flex flex-col max-h-[80vh]",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-800 bg-slate-900 rounded-t-2xl",children:[C.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[C.jsx(Vs,{className:"text-indigo-400",size:20}),""]}),C.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white",children:C.jsx(Yt,{size:20})})]}),C.jsx("div",{className:"p-4 border-b border-slate-800 bg-slate-800/30",children:C.jsxs("p",{className:"text-sm text-slate-300",children:[" ",C.jsx("span",{className:"font-bold text-white",children:o})," ..."]})}),C.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-1",children:[C.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors border ${g===""?"bg-indigo-600 border-indigo-500 text-white":"hover:bg-slate-800 border-transparent hover:border-slate-700 text-slate-300"}`,onClick:()=>v(""),children:[C.jsx("span",{className:"w-6"}),C.jsx(_n,{size:16}),C.jsx("span",{className:"text-sm font-medium truncate flex-1",children:" ()"}),g===""&&C.jsx(Um,{size:16})]}),y(s)]}),C.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900 rounded-b-2xl flex justify-end gap-3",children:[C.jsx("button",{onClick:t,className:"px-4 py-2 text-slate-400 hover:text-white text-sm font-medium",children:""}),C.jsx("button",{disabled:!g,onClick:()=>g&&r(g),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-sm font-medium shadow-lg hover:shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})})},f2=()=>{const{books:i,categories:t,isLoading:o,addBook:s,updateBook:r,deleteBook:c,updateCategories:d,importData:g,batchMove:v,batchDelete:m}=f1(),[y,S]=ae.useState(!1),[_,A]=ae.useState(!1),[b,x]=ae.useState(!1),[w,R]=ae.useState(!1),[H,L]=ae.useState(null),[z,J]=ae.useState(""),[U,F]=ae.useState(null),[j,Q]=ae.useState(0),[te,re]=ae.useState(!1),[me,_e]=ae.useState(!1),[ge,Me]=ae.useState(new Set),P=()=>{Q(q=>q+1)},Y=q=>{Me(W=>{const ee=new Set(W);return ee.has(q)?ee.delete(q):ee.add(q),ee})},$=()=>{window.confirm(` ${ge.size} `)&&(m(ge),Me(new Set),_e(!1))},Z=q=>{v(ge,q),Me(new Set),_e(!1),R(!1)},ne=()=>{if(z){J("");return}if(!U)return;const q=Hu(t,U);F(q)},I=ae.useMemo(()=>{if(U){const q=wh(t,U);if(z){const W=q?bh(q):[U];return{type:"books",items:i.filter(le=>{const ue=le.title.toLowerCase().includes(z.toLowerCase())||le.author.toLowerCase().includes(z.toLowerCase()),Ae=W.includes(le.category);return ue&&Ae}).sort((le,ue)=>le.title.localeCompare(ue.title,"zh-TW",{numeric:!0}))}}return q&&q.children&&q.children.length>0?{type:"categories",items:[...q.children].sort((ee,le)=>ee.name.localeCompare(le.name,"zh-TW",{numeric:!0}))}:{type:"books",items:i.filter(ee=>ee.category===U).sort((ee,le)=>ee.title.localeCompare(le.title,"zh-TW",{numeric:!0}))}}else{let q=i.filter(ue=>ue.title.toLowerCase().includes(z.toLowerCase())||ue.author.toLowerCase().includes(z.toLowerCase()));const W=q.filter(ue=>!ue.category||ue.category===""),le=[...q.filter(ue=>ue.category&&ue.category!=="")];if(j>=0)for(let ue=le.length-1;ue>0;ue--){const Ae=Math.floor(Math.random()*(ue+1));[le[ue],le[Ae]]=[le[Ae],le[ue]]}return{type:"books",items:[...W,...le]}}},[i,z,U,j,t]);return C.jsxs("div",{className:"h-screen bg-slate-950 text-slate-200 font-inter flex flex-col overflow-hidden",children:[C.jsx(p_,{onToggleSidebar:()=>re(!te),searchTerm:z,setSearchTerm:J,isBatchMode:me,setIsBatchMode:_e,selectedCount:ge.size,onSelectAll:()=>{if(I.type==="books"){const q=I.items.map(W=>W.id);Me(new Set(q))}},onClearSelection:()=>Me(new Set),onBatchMove:()=>R(!0),onBatchDelete:$,onOpenSettings:()=>x(!0),onOpenAddModal:()=>S(!0)}),C.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[C.jsx(d_,{isOpen:te,onClose:()=>re(!1),categories:t,selectedCategory:U,onSelectCategory:F,bookCount:i.length,books:i,onOpenCategoryManager:()=>A(!0),onOpenSettings:()=>x(!0)}),C.jsxs("main",{className:"flex-1 px-4 sm:px-6 overflow-hidden flex flex-col bg-slate-950 relative",children:[C.jsxs("div",{className:"flex items-center justify-between mb-2 shrink-0 bg-slate-950/95 backdrop-blur z-30 py-4 border-b border-slate-800/50",children:[C.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:U?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"text-indigo-400",children:C.jsx(Xn,{size:20})}),U]}):C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"text-rose-400",children:C.jsx(Ps,{size:20})}),""]})}),C.jsxs("div",{className:"flex items-center gap-2",children:[!U&&!me&&C.jsxs("button",{onClick:P,className:"text-xs flex items-center gap-1 text-slate-400 hover:text-indigo-400 bg-slate-800 hover:bg-slate-800/80 px-3 py-1.5 rounded-full transition-colors group",title:"",children:[C.jsx(k1,{size:14,className:"group-hover:rotate-180 transition-transform duration-500"})," "]}),(U||z)&&C.jsx("button",{onClick:ne,className:"text-xs flex items-center gap-1.5 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 px-3 py-1.5 rounded-full transition-colors font-medium border border-slate-700/50",children:z?C.jsxs(C.Fragment,{children:[C.jsx(Yt,{size:12})," "]}):Hu(t,U)?C.jsxs(C.Fragment,{children:[C.jsx(b1,{size:14})," "]}):C.jsxs(C.Fragment,{children:[C.jsx(Yt,{size:12})," "]})})]})]}),C.jsx(M_,{viewData:I,books:i,isBatchMode:me,selectedBookIds:ge,onBookClick:L,onBatchSelect:Y,onCategoryClick:F,onAddFirstBook:()=>S(!0),isLoading:o})]})]}),C.jsx("button",{onClick:()=>S(!0),className:"sm:hidden fixed bottom-6 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-xl shadow-indigo-500/40 flex items-center justify-center hover:bg-indigo-500 z-40 border border-indigo-400/20",children:C.jsx(uo,{size:28})}),C.jsx(o2,{isOpen:y,onClose:()=>S(!1),onAdd:s,categories:t}),C.jsx(l2,{isOpen:_,onClose:()=>A(!1),categories:t,onUpdateCategories:d}),C.jsx(s2,{isOpen:!!H,onClose:()=>L(null),book:H,categories:t,onUpdate:r,onDelete:c}),C.jsx(u2,{isOpen:b,onClose:()=>x(!1),books:i,categories:t,onImport:g}),C.jsx(c2,{isOpen:w,onClose:()=>R(!1),selectedCount:ge.size,categories:t,onConfirm:Z})]})},bg=document.getElementById("root");if(!bg)throw new Error("Could not find root element to mount to");const d2=r1.createRoot(bg);d2.render(C.jsx(e1.StrictMode,{children:C.jsx(f2,{})}));
